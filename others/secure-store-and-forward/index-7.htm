<!DOCTYPE html>
<html lang="ru-RU" id="html">
<head>
		<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="../../xfn/11.html">
	<link rel="pingback" href="https://abap-blog.ru/xmlrpc.php">
	<title>ABAP Blog | Secure store and forward</title>

		<!-- All in One SEO 4.1.4.4 -->
		<meta name="description" content="Secure store and forward (SSF) — это механизм обеспечивающий возможности использования криптографии на платформе SAP NetWeaver. Основными криптографическими задачами являются: создание цифровых подписей (ЭЦП), их проверка, шифрование и расшифровка данных. Использование SSF возможно только совместно с крипто-продуктом (назовем его провайдером). Провайдеры могут быть внутренними или внешними. В зависимости от типа провайдера, он может поддерживать разные криптографические […]">
		<meta name="robots" content="max-image-preview:large">
		<meta name="keywords" content="прочее">
		<link rel="canonical" href="index.htm">
		<script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"https:\/\/abap-blog.ru\/#website","url":"https:\/\/abap-blog.ru\/","name":"ABAP Blog","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445 \u043e\u0442 SAP","inLanguage":"ru-RU","publisher":{"@id":"https:\/\/abap-blog.ru\/#person"}},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/#person","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#personImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"BreadcrumbList","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/","name":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 SAP \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445: ABAP, HANA, UI5, OData, Fiori.","url":"https:\/\/abap-blog.ru\/"},"nextItem":"https:\/\/abap-blog.ru\/others\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/others\/#listItem","position":2,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/others\/","name":"\u041f\u0440\u043e\u0447\u0435\u0435","description":"Secure store and forward (SSF) \u2014 \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 SAP NetWeaver. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 (\u042d\u0426\u041f), \u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SSF \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u043c (\u043d\u0430\u0437\u043e\u0432\u0435\u043c \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c). \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 [\u2026]","url":"https:\/\/abap-blog.ru\/others\/"},"nextItem":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#listItem","previousItem":"https:\/\/abap-blog.ru\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#listItem","position":3,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/","name":"Secure store and forward","description":"Secure store and forward (SSF) \u2014 \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 SAP NetWeaver. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 (\u042d\u0426\u041f), \u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SSF \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u043c (\u043d\u0430\u0437\u043e\u0432\u0435\u043c \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c). \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 [\u2026]","url":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/"},"previousItem":"https:\/\/abap-blog.ru\/others\/#listItem"}]},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/author\/admin\/#author","url":"https:\/\/abap-blog.ru\/author\/admin\/","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#webpage","url":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/","name":"ABAP Blog | Secure store and forward","description":"Secure store and forward (SSF) \u2014 \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 SAP NetWeaver. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 (\u042d\u0426\u041f), \u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SSF \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u043c (\u043d\u0430\u0437\u043e\u0432\u0435\u043c \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c). \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 [\u2026]","inLanguage":"ru-RU","isPartOf":{"@id":"https:\/\/abap-blog.ru\/#website"},"breadcrumb":{"@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#breadcrumblist"},"author":"https:\/\/abap-blog.ru\/author\/admin\/#author","creator":"https:\/\/abap-blog.ru\/author\/admin\/#author","datePublished":"2015-11-09T11:41:12+04:00","dateModified":"2021-03-02T06:12:54+04:00"},{"@type":"Article","@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#article","name":"ABAP Blog | Secure store and forward","description":"Secure store and forward (SSF) \u2014 \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 SAP NetWeaver. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 (\u042d\u0426\u041f), \u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SSF \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u043c (\u043d\u0430\u0437\u043e\u0432\u0435\u043c \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c). \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 [\u2026]","inLanguage":"ru-RU","headline":"Secure store and forward","author":{"@id":"https:\/\/abap-blog.ru\/author\/admin\/#author"},"publisher":{"@id":"https:\/\/abap-blog.ru\/#person"},"datePublished":"2015-11-09T11:41:12+04:00","dateModified":"2021-03-02T06:12:54+04:00","commentCount":10,"articleSection":"\u041f\u0440\u043e\u0447\u0435\u0435","mainEntityOfPage":{"@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#webpage"},"isPartOf":{"@id":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/#webpage"},"image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/#articleImage","url":"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssh-private-public-keys21.jpg","width":295,"height":198}}]}
		</script>
		<script type="text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-150412824-1", { 'cookieDomain': 'abap-blog.ru' } );
			ga('require', 'outboundLinkTracker');
			ga('send', 'pageview');
		</script>
		<script async="" src="../../analytics.js"></script>
		<script async="" src="../../wp-content/plugins/all-in-one-seo-pack/app/Common/Assets/js/autotrack.js?ver=4.1.4.4"></script>
		<!-- All in One SEO -->

<link rel='dns-prefetch' href='../../index-1.htm'>
<link rel='dns-prefetch' href='//fonts.googleapis.com'>
<link rel='dns-prefetch' href='../../index-2.htm'>
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента" href="../../feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев" href="../../comments/feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев к &laquo;Secure store and forward&raquo;" href="feed/index.htm.rss">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/abap-blog.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.1"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='urvanov_syntax_highlighter-css' href='../../wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-theme-abapblog-css' href='../../wp-content/uploads/urvanov-syntax-highlighter/themes/abapblog/abapblog.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-font-monospace-css' href='../../wp-content/plugins/urvanov-syntax-highlighter/fonts/monospace.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='wp-block-library-css' href='../../wp-includes/css/dist/block-library/style.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='arve-main-css' href='../../wp-content/plugins/advanced-responsive-video-embedder/build/main.css?ver=b809f4d4c33c91a5ae3a5099af09bdde' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='../../wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.5.1' media='all'>
<link rel='stylesheet' id='bg-shce-genericons-css' href='../../wp-content/plugins/show-hidecollapse-expand/assets/css/genericons/genericons.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='bg-show-hide-css' href='../../wp-content/plugins/show-hidecollapse-expand/assets/css/bg-show-hide.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='dashicons-css' href='../../wp-includes/css/dashicons.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='tooltip-css' href='../../wp-content/plugins/wp-poll/assets/tool-tip.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-cb-css' href='../../wp-content/plugins/wp-poll/assets/front/css/checkbox.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-css' href='../../wp-content/plugins/wp-poll/assets/front/css/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='flat-fonts-css' href='../../css.css?family=Lobster%7CRoboto:400,700%7CRoboto+Slab%7CRoboto%20Condensed' media='all'>
<link rel='stylesheet' id='flat-theme-css' href='../../wp-content/themes/flat/assets/css/flat.css?ver=1.7.11' media='all'>
<link rel='stylesheet' id='flat-style-css' href='../../wp-content/themes/flat/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='slb_core-css' href='../../wp-content/plugins/simple-lightbox/client/css/app.css?ver=2.8.1' media='all'>
<link rel='stylesheet' id='decent-comments-widget-css' href='../../wp-content/plugins/decent-comments/css/decent-comments-widget.css' media='all'>
<script src='../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.22","is_admin":"0","ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 %s \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, %s \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.22' id='urvanov_syntax_highlighter_js-js'></script>
<script src='../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script src='../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script async="async" src='../../wp-content/plugins/advanced-responsive-video-embedder/build/main.js?ver=b809f4d4c33c91a5ae3a5099af09bdde' id='arve-main-js'></script>
<script src='../../wp-content/plugins/wp-poll/assets/front/js/svgcheckbx.js?ver=5.8.1' id='wpp-front-cb-js'></script>
<script type='text/javascript' id='wpp-front-js-extra'>
/* <![CDATA[ */
var wpp_object = {"ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","copyText":"Copied !","voteText":"Vote(s)","tempProDownload":"https:\/\/pluginbazar.com\/my-account\/downloads\/","tempProDownloadTxt":"Download Version 1.1.0"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/wp-poll/assets/front/js/scripts.js?ver=5.8.1' id='wpp-front-js'></script>
<script src='../../wp-content/themes/flat/assets/js/flat.js?ver=1.7.11' id='flat-js-js'></script>
<!--[if lt IE 9]>
<script src='https://abap-blog.ru/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2' id='html5shiv-js'></script>
<![endif]-->
<link rel="https://api.w.org/" href="../../wp-json/index.htm.json"><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/2667.json"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.8.1">
<link rel='shortlink' href='index.htm?p=2667'>
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-109.json?url=https%3A%2F%2Fabap-blog.ru%2Fothers%2Fsecure-store-and-forward%2F">
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-109.xml?url=https%3A%2F%2Fabap-blog.ru%2Fothers%2Fsecure-store-and-forward%2F&#038;format=xml">

<!-- WP Youtube Player 1.7 by unijimpe -->
<style type="text/css">#page:before, .sidebar-offcanvas, #secondary { background-color: #272727; }@media (max-width: 1199px) { #page &gt; .container { background-color: #272727; } }body { background-size: initial; }</style><style type="text/css">#masthead .site-title {font-family:Lobster}body {font-family:Roboto }h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style><style type="text/css" media="screen">body{position:relative}#dynamic-to-top{display:none;overflow:hidden;width:auto;z-index:90;position:fixed;bottom:20px;right:20px;top:auto;left:auto;font-family:sans-serif;font-size:1em;color:#fff;text-decoration:none;text-shadow:0 1px 0 #333;font-weight:bold;padding:17px 16px;border:2px solid #000;background:#4c5055;-webkit-background-origin:border;-moz-background-origin:border;-icab-background-origin:border;-khtml-background-origin:border;-o-background-origin:border;background-origin:border;-webkit-background-clip:padding-box;-moz-background-clip:padding-box;-icab-background-clip:padding-box;-khtml-background-clip:padding-box;-o-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-ms-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-moz-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-o-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-khtml-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-icab-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-webkit-border-radius:30px;-moz-border-radius:30px;-icab-border-radius:30px;-khtml-border-radius:30px;border-radius:30px}#dynamic-to-top:hover{background:#4fd650;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 255, 255, 255, .2 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );cursor:pointer}#dynamic-to-top:active{background:#4c5055;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 0, 0, 0, .3 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) )}#dynamic-to-top,#dynamic-to-top:active,#dynamic-to-top:focus,#dynamic-to-top:hover{outline:none}#dynamic-to-top span{display:block;overflow:hidden;width:14px;height:12px;background:url( ../../wp-content/plugins/dynamic-to-top/css/images/up.png )no-repeat center center}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("../../wp-content/uploads/2014/10/escheresque_ste.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
		</head>

<body class="post-template-default single single-post postid-2667 single-format-standard custom-background" itemscope="" itemtype="http://schema.org/WebPage">
		<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left" style="background: #272727;">			
			
			<div id="secondary1" class="col-lg-t" style="background: #272727; display:none">
								<header id="masthead1" class="site-headerex" role="banner">
										<div class="hgroupex">
						<h1 class="site-title display-title"><a href="../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
									</header>
							</div>


			<div id="secondary" class="col-lg-3" style="display:block">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-glavnoe-menyu" class="nav-menu"><li id="menu-item-2313" class="fa fa-home menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-2313"><a href="../../index.htm">Главная</a>
<ul class="sub-menu">
	<li id="menu-item-2363" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2363"><a href="../../category/osnovy-abap/index.htm">Основы ABAP</a>
	<ul class="sub-menu">
		<li id="menu-item-2906" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2906"><a href="../../category/osnovy-abap/oop/index.htm">ABAP Objects</a></li>
		<li id="menu-item-2370" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2370"><a href="../../category/osnovy-abap/slovar/index.htm">ABAP Словарь</a></li>
		<li id="menu-item-2367" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2367"><a href="../../category/osnovy-abap/files/index.htm">Работа с файлами</a></li>
		<li id="menu-item-2364" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2364"><a href="../../category/osnovy-abap/sap-dynpro/index.htm">SAP Dynpro</a></li>
		<li id="menu-item-6845" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6845"><a href="../../category/osnovy-abap/vnutrennie-tablicy/index.htm">Внутренние таблицы</a></li>
		<li id="menu-item-6849" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6849"><a href="../../category/osnovy-abap/dinamicheskoe-programmirovanie/index.htm">Динамическое программирование</a></li>
	</ul>
</li>
	<li id="menu-item-2366" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2366"><a href="../../category/database-work/index.htm">Работа с БД</a>
	<ul class="sub-menu">
		<li id="menu-item-7303" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7303"><a href="../../category/hana/index.htm">HANA</a></li>
	</ul>
</li>
	<li id="menu-item-2368" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2368"><a href="../../category/network/index.htm">Сетевые технологии</a>
	<ul class="sub-menu">
		<li id="menu-item-6328" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6328"><a href="../../category/network/ui5fiori/index.htm">UI5 &amp; Fiori</a></li>
		<li id="menu-item-6327" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6327"><a href="../../category/network/odata-network/index.htm">OData</a></li>
		<li id="menu-item-2907" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2907"><a href="../../category/network/web-dynpro/index.htm">Web Dynpro</a></li>
	</ul>
</li>
	<li id="menu-item-2369" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2369"><a href="../../category/enhancements/index.htm">Расширения</a></li>
	<li id="menu-item-6329" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6329"><a href="../../category/abap-cloud/index.htm">ABAP Cloud</a></li>
	<li id="menu-item-2365" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2365"><a href="../../category/others/index.htm">Прочее</a></li>
</ul>
</li>
<li id="menu-item-3536" class="fa fa-bell menu-item menu-item-type-post_type menu-item-object-page menu-item-3536"><a href="../../abap-the-best-practice/index.htm">ABAP Best Practice</a></li>
<li id="menu-item-3727" class="fa fa-child menu-item menu-item-type-post_type menu-item-object-page menu-item-3727"><a href="../../vakansii/index.htm">Вакансии ABAP</a></li>
<li id="menu-item-3885" class="fa fa-bookmark menu-item menu-item-type-post_type menu-item-object-page menu-item-3885"><a href="../../abap-notes/index.htm">Быстрые заметки</a></li>
<li id="menu-item-2316" class="fa fa-info-circle menu-item menu-item-type-post_type menu-item-object-page menu-item-2316"><a href="../../about/index.htm">Обо мне</a></li>
</ul>					</nav>
									</header>
				
				<div class="sidebar-offcanvas">
<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="search-2" class="widget widget_search">
	<form method="get" id="searchform" action="https://abap-blog.ru/">
		<label for="s" class="assistive-text">Поиск</label>
		<input type="text" class="field" name="s" id="s" placeholder="Поиск">
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Поиск">
	</form>
					</aside>
					<aside id="linkcat-2" class="widget widget_links">
						<h3 class='widget-title'>Ссылки</h3>

	<ul class='xoxo blogroll'>
<li><a href="../../topics/abap.html" target="_blank">ABAP Community</a></li>
<li><a href="../../wiki/display/ABAP/ABAP Development.html" title="Wiki по ABAP" target="_blank">ABAP Development Wiki</a></li>
<li><a href="../../doc/abapdocu_latest_index_htm/latest/en-US/index.htm" title="Последняя версия справки по ABAP" target="_blank">ABAP Help</a></li>
<li><a href="../../doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm" target="_blank">ABAP Help (Cloud)</a></li>
<li><a href="../../learning-journeys/overview.html?role=Developer" target="_blank">Developer Learning Journeys</a></li>
<li><a href="../../index-3.htm" target="_blank">Open Source Projects</a></li>
<li><a href="../../tutorial-navigator.html" target="_blank">SAP Tutorials</a></li>
<li><a href="https://t.me/abapblog" target="_blank"><img src="../../wp-content/uploads/2020/04/telegram-1.png" alt="Канал в Telegram"> Канал в Telegram</a></li>

	</ul>
					</aside>

					<aside id="endo_wrc_widget-2" class="widget widget_endo_wrc_widget">
						<h3 class='widget-title'>Цитаты</h3>
<p>Ничто так не раскрывает недостатки проектирования как реализация.</p>
<p><strong><a href="../../~jdh/index.htm">J. Horton</a></strong></p>
					</aside>
								<aside id="custom-post-type-recent-posts-3" class="widget widget_recent_entries">
						<h3 class='widget-title'>Новое</h3>
			<ul>
													<li>
										<a href="../../abap-notes/poluchenie-instancii-cl_gui_alv_grid-dlya-salv/index.htm">Получение инстанции cl_gui_alv_grid для SALV</a>
											<span class="post-date">11.09.2021</span>
														</li>
													<li>
										<a href="../../abap-cloud/introduction-to-abap-in-the-cloud/index.htm">Introduction to ABAP in the Cloud</a>
											<span class="post-date">18.08.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/getting-started-with-fpm-bopf-integration/index.htm">Getting Started with FPM BOPF Integration</a>
											<span class="post-date">01.06.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/how-to-use-authority-checks-in-business-object-processing-framework/index.htm">30. How to Use Authority Checks in Business Object Processing Framework</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-extensibility/index.htm">29. BOPF Extensibility</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-enterprise-procurement-model-epm/index.htm">28. BOPF Enterprise Procurement Model (EPM)</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-integration/index.htm">27. BOPF Integration</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-business-configuration-objects/index.htm">26. BOPF Business Configuration Objects</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-performance/index.htm">25. BOPF Performance</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-supportability/index.htm">24. BOPF Supportability</a>
											<span class="post-date">29.05.2021</span>
														</li>
							</ul>
								</aside>
					<aside id="decent_comments_widget-2" class="widget widget_decent_comments_widget">
						<h3 class='widget-title'>Последние комментарии</h3>
<div class="decent-comments"><ul><li><div class="comment"><span class="comment-author">Николай</span><span class="comment-date"> 27.10.2021 в 15:19</span><span class="comment-link"> на <a href="../../osnovy-abap/internal-table-as-data-source-select/index.htm#comment-17857">Внутренние таблицы как источник в SQL запросах</a></span><span class="comment-excerpt">Спасибо за статью. Если нужно сделать агрегацию внутренней таблицы то агрегация через передачу во временную таблицу на БД тоже будет работать медленней чем через loop/collect? Например таблица 100к записей, которая становится 5к после агрегации. </span></div></li><li><div class="comment"><span class="comment-author">Аноним</span><span class="comment-date"> 14.10.2021 в 13:50</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17856">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Так поведение Decorator не надо будет повторно описывать повторно в других Component. Но это возможно при изменении типа mo_component, например, на object. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 11.10.2021 в 06:50</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17854">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет:) Возможно, я не так выразил мысль. Я имел ввиду, какая ценность от класса Decorator, если можно декорировать поведение от Component и от него же наследовать конкретные декораторы? (см. первую UML диаграмму) </span></div></li><li><div class="comment"><span class="comment-author">Astrafox</span><span class="comment-date"> 10.10.2021 в 12:39</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17853">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет! Можно и так, однако конкретный компонент может иметь более широкий интерфейс, нежели тот, что нужен в декораторах. Тут скорее пример не совсем удачный, декорируемое поведение лучше вынести в отдельный интерфейс, реализуемый как компонентом, так и декораторами. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 04.10.2021 в 12:51</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17850">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">А какую роль играет базовый класс декоратора lcl_decorator? Что мешает конкретные декораторы наследовать от компонента lcl_concrete_component? Клиентский код и логика выполнения не поменяется. </span></div></li></ul></div>					</aside>
											</div>
				</div>
			</div>

						<div id="primary" class="content-area col-lg-9" itemprop="mainContentOfPage" style="">
							<div id="content" class="site-content" role="main" itemscope="" itemtype="http://schema.org/Article">
			<article id="post-2667" class="post-2667 post type-post status-publish format-standard hentry category-others">
	<header class="entry-header">
		<h1 class="entry-title" itemprop="name">Secure store and forward</h1>
							<div class="entry-meta"><span class="entry-date"><a href="index.htm" rel="bookmark"><time class="entry-date published" datetime="2015-11-09T15:41:12+04:00" itemprop="datepublished">09.11.2015</time></a></span> от <span class="author vcard" itemscope="" itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="../../author/admin/index.htm" rel="author" itemprop="url"><span itemprop="name">Astrafox</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="index.htm#comments" itemprop="discussionUrl">10 комментариев</a></span></div>
			</header>
		
	
	<div class="entry-content" itemprop="articleBody">
				<p><a href="../../wp-content/uploads/2015/11/ssh-private-public-keys21.jpg" data-slb-active="1" data-slb-asset="1294208504" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class=" wp-image-2668 alignleft" src="../../wp-content/uploads/2015/11/ssh-private-public-keys21.jpg" alt="ssh-private-public-keys2[1]" width="247" height="166"></a></p>
<p><strong>Secure store and forward</strong> (SSF) &#8212; это механизм обеспечивающий возможности использования криптографии на платформе SAP NetWeaver. Основными криптографическими задачами являются: создание цифровых подписей (ЭЦП), их проверка, шифрование и расшифровка данных.</p>
<p>Использование SSF возможно только совместно с крипто-продуктом (назовем его провайдером). Провайдеры могут быть внутренними или внешними. В зависимости от типа провайдера, он может поддерживать разные криптографические форматы: PKCS#7, PKCS#1 и др.</p>
<p>В данной статье на примере получения и проверки ЭЦП будут рассмотрены возможности стандартных библиотек криптографии SAP, а так же внешних провайдеров. Кроме того следует упомянуть что рассматривается только ABAP стек.</p>
<p><span id="more-2667"></span></p>
<h2>Внутренние провайдеры</h2>
<p>Внутренние провайдеры представляют собой набор библиотек расположенных на уровне сервера приложений. Компания SAP предоставляет два внутренних крипто-провайдера (ABAP стек):</p>
<ul>
<li><strong>SAPSECULIB</strong> – библиотека поддерживает DSA алгоритм и может быть использована только для формирования/проверки ЭЦП (т.к. сам алгоритм не предназначен для шифрования);</li>
<li><strong>SAPCRYPTOLIB</strong> – поддерживает как DSA, так и RSA алгоритм, с возможностью выбора размера ключа. Используется как для формирования/проверки ЭЦП, так и для шифрования (RSA);</li>
</ul>
<p>Обе библиотеки не позволяют использовать криптографическое железо такое как: смарт-карты, токены и прочее, секретные ключи в обоих случаях будут находиться в специальных защищенных хранилищах на сервере приложения. Для возможности использования железа, необходимо использовать внешние провайдеры.</p>
<p>Библиотека SAPSECULIB при необходимости может быть заменена SAPCRYPTOLIB, для чего есть соответствующие <a href="http://service.sap.com/sap/support/notes/578377">ноты</a>.</p>
<h2>Внешние провайдеры</h2>
<p>Внешние провайдеры представляют собой ПО расположенное на уровне сервера представления. Доступ к ним может осуществляться двумя способами:</p>
<ul>
<li>Через RFC вызов SSF провайдера на локальной машине</li>
<li>Через ActiveX элемент и вызов провайдера MS Crypto-API</li>
</ul>
<p>В любом случае доступ осуществляется только в диалоговом режиме. SSF провайдер это библиотека с заранее описанными функциями, которая создается на базе предоставляемой SAP спецификации.</p>
<h2>Интерфейс SSF</h2>
<p>Интерфейс к SSF предоставляет набор модулей через которые могут быть вызваны функции крипто-провайдеров, основные из них описаны далее:</p>
<table>
<tbody>
<tr>
<td width="319"> <strong>ФМ</strong></td>
<td width="319"><strong>Описание</strong></td>
</tr>
<tr>
<td width="319">SSF_*VERSION</td>
<td width="319">Получает версию крипто-провайдера</td>
</tr>
<tr>
<td width="319">SSF_*QUERYPROPERTIES</td>
<td width="319">Функция возвращает значения поддерживаемых провайдером свойств: форматы шифрования, хеш-алгоритмы и т.п.</td>
</tr>
<tr>
<td width="319">SSF_*SIGN</td>
<td width="319">Формирование ЭЦП</td>
</tr>
<tr>
<td width="319">SSF_*VERIFY</td>
<td width="319">Проверка ЭЦП</td>
</tr>
<tr>
<td width="319">SSF_*ENVELOPE</td>
<td width="319">Формирование зашифрованного сообщения</td>
</tr>
<tr>
<td width="319">SSF_*DEVELOPE</td>
<td width="319">Расшифровка сообщения</td>
</tr>
<tr>
<td width="319">SSF_*ADDSIGN</td>
<td width="319">Добавляет подпись к уже подписанному сообщению.</td>
</tr>
<tr>
<td width="319">SSF_*DIGEST</td>
<td width="319">Получение хеша</td>
</tr>
<tr>
<td width="319">SSF_GET_PARAMETER</td>
<td width="319">Получение параметров SSF приложения</td>
</tr>
<tr>
<td width="319">SSFS_CALL_CONTROL</td>
<td width="319">Вызов диалога подписания через Microsoft Crypto API</td>
</tr>
</tbody>
</table>
<p>* &#8212; при работе с внутренними провайдерами необходимо заменить * на KRN_, например: SSF_KRN_VERSION:</p>
<p><a href="../../wp-content/uploads/2015/11/version.png" data-slb-active="1" data-slb-asset="116334670" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class="alignnone size-full wp-image-2669" src="../../wp-content/uploads/2015/11/version.png" alt="version" width="891" height="175" srcset="../../wp-content/uploads/2015/11/version.png 891w, ../../wp-content/uploads/2015/11/version-300x59.png 300w" sizes="(max-width: 891px) 100vw, 891px"></a></p>
<p>При использовании интерфейса SSF зачастую приходится передавать множество параметров, таких как:</p>
<ul>
<li>Используемый хеш-алгоритм,</li>
<li>Необходимость включения сертификата в подпись,</li>
<li>Необходимость включения данных в подпись,</li>
<li>Алгоритм кодировки и др.</li>
</ul>
<p>Для разных приложений, данные параметры могут различаться, чтобы не хранить их как константы, можно воспользоваться специальной настройкой. Для этого, в первую очередь, необходимо создать SSF приложение, делается это через ракурс ведения (SE16) к таблице SSFAPPLIC, создадим новую запись:</p>
<p><a href="../../wp-content/uploads/2015/11/ssf_app.png" data-slb-active="1" data-slb-asset="54789181" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class="alignnone size-full wp-image-2670" src="../../wp-content/uploads/2015/11/ssf_app.png" alt="ssf_app" width="466" height="349" srcset="../../wp-content/uploads/2015/11/ssf_app.png 466w, ../../wp-content/uploads/2015/11/ssf_app-300x225.png 300w" sizes="(max-width: 466px) 100vw, 466px"></a></p>
<p>Значение X отвечает за возможность определения параметра для приложения, если оставить значение пустым, для текущего приложения нельзя будет настроить указанный параметр. Сохраним приложение, проставив везде X.</p>
<p>Для его настройки необходимо перейти в транзакцию <strong>STRUST</strong> и нажать F9 (Среда -&gt; Ведение параметров SSF), зададим следующие параметры:</p>
<p><a href="../../wp-content/uploads/2015/11/ssf_app_options.png" data-slb-active="1" data-slb-asset="495316970" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class="alignnone size-full wp-image-2671" src="../../wp-content/uploads/2015/11/ssf_app_options.png" alt="ssf_app_options" width="594" height="316" srcset="../../wp-content/uploads/2015/11/ssf_app_options.png 594w, ../../wp-content/uploads/2015/11/ssf_app_options-300x160.png 300w" sizes="(max-width: 594px) 100vw, 594px"></a></p>
<p>Получить значения параметров можно через ФМ <strong>SSF_GET_PARAMETER</strong>. Описание большинства из них приводится во встроенной документации.</p>
<p>Кроме параметров передаваемых непосредственно в интерфейсы SSF, тут так же имеется информация о файле профиле SSF в котором система будет получать закрытые ключи, а так же личной адресной книге, где для верификации подписей должны храниться открытые ключи (сертификаты). В нашем случае это будет один и тот же файл.</p>
<h2>Формирование/проверка ЭЦП на сервере</h2>
<p>В данном примере мы сформируем ЭЦП средствами <strong>SAPCRYPTOLIB</strong> на сервере приложений, а так же выполним её верификацию.</p>
<p>Прежде чем вызывать функции SSF необходимо получить пару – закрытый/открытый ключ и положить их в хранилище (PSE файл).</p>
<p>Для генерации пары воспользуемся <a href="../../index-10.htm">OpenSSL</a> – набор открытых инструментов для криптографии. В статье я не буду подробно останавливаться на инструменте OpenSSL, будут лишь приведены необходимые команды.</p>
<p>И так, создаем приватный ключ:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f053df988050748" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f053df988050748-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f053df988050748-1"><span class="crayon-e">openssl </span><span class="crayon-v">genrsa</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">out </span><span class="crayon-v">private</span><span class="crayon-e">.pem</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p>На данном шаге необходимо будет указать пароль для ключа. Для получения DSA ключа можно воспользоваться утилитой gendsa.</p>
<p>Сформируем открытый ключ:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f053fe878688548" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f053fe878688548-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f053fe878688548-1"><span class="crayon-e">openssl </span><span class="crayon-v">rsa</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">private</span><span class="crayon-e">.pem</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">out </span><span class="crayon-v">public</span><span class="crayon-e">.pem</span><span class="crayon-h"> </span>–<span class="crayon-v">pubout</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Далее создадим сертификат, но прежде сформируем файл конфигурации, на базе которого будет создан сертификат, запишем в него следующее:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f05402646598455" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05402646598455-26">26</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-1"><span class="crayon-e ">[ req ]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-2">#<span class="crayon-h"> </span>Секция<span class="crayon-h"> </span>основных<span class="crayon-h"> </span>опций</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-3"><span class="crayon-v">default_bits</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2048</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-4">#<span class="crayon-h"> </span>Число<span class="crayon-h"> </span>бит</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-5"><span class="crayon-v">default_keyfile</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">private</span><span class="crayon-sy">.</span><span class="crayon-i">pem</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-6">#<span class="crayon-h"> </span>Имя<span class="crayon-h"> </span>ключа<span class="crayon-sy">,</span><span class="crayon-h"> </span>используемого<span class="crayon-h"> </span>для<span class="crayon-h"> </span>сертификата</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-7"><span class="crayon-v">distinguished_name</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">req_distinguished_name</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-8">#<span class="crayon-h"> </span><span class="crayon-i">DN</span><span class="crayon-h"> </span>организации<span class="crayon-sy">,</span><span class="crayon-h"> </span>выдавшей<span class="crayon-h"> </span>сертификат</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-9"><span class="crayon-v">prompt</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">no</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-10">#<span class="crayon-h"> </span>Брать<span class="crayon-h"> </span>параметры<span class="crayon-h"> </span>из<span class="crayon-h"> </span>конфига<span class="crayon-h"> </span>неинтерактивный<span class="crayon-h"> </span>режим</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-11"><span class="crayon-e ">[ req_distinguished_name ]</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-12">#<span class="crayon-h"> </span><span class="crayon-i">DN</span><span class="crayon-h"> </span>организации</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-13"><span class="crayon-v">CN</span><span class="crayon-o">=</span><span class="crayon-i">RU</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-14">#<span class="crayon-h"> </span>Страна</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-15"><span class="crayon-v">ST</span><span class="crayon-o">=</span><span class="crayon-i">SPB</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-16">#<span class="crayon-h"> </span>Область</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-17"><span class="crayon-v">L</span><span class="crayon-o">=</span><span class="crayon-i">SPB</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-18">#<span class="crayon-h"> </span>Город</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-19"><span class="crayon-v">O</span><span class="crayon-o">=</span><span class="crayon-i">OCRV</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-20">#<span class="crayon-h"> </span>Название<span class="crayon-h"> </span>организации</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-21"><span class="crayon-v">OU</span><span class="crayon-o">=</span><span class="crayon-i">DEV</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-22">#<span class="crayon-h"> </span>Название<span class="crayon-h"> </span>отделения</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-23"><span class="crayon-v">CN</span><span class="crayon-o">=</span><span class="crayon-i">SIDOROCHKIN</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-24">#<span class="crayon-h"> </span>Имя<span class="crayon-h"> </span>для<span class="crayon-h"> </span>сертификата<span class="crayon-h"> </span><span class="crayon-sy">(</span>персоны<span class="crayon-sy">,</span><span class="crayon-h"> </span>получающей<span class="crayon-h"> </span>сертификат<span class="crayon-sy">)</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-25"><span class="crayon-v">emailAddress</span><span class="crayon-o">=</span><span class="crayon-i">sidorochkin</span><span class="crayon-sy">@</span><span class="crayon-i">gmail</span><span class="crayon-sy">.</span><span class="crayon-i">ru</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05402646598455-26">#<span class="crayon-h"> </span>Мыло<span class="crayon-h"> </span>организации</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>Команда на создание сертификата:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f05405159987317" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05405159987317-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05405159987317-1"><span class="crayon-e">openssl </span><span class="crayon-v">req</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">x509</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">key </span><span class="crayon-v">private</span><span class="crayon-e">.pem</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">out </span><span class="crayon-v">cert</span><span class="crayon-e">.crt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">days</span><span class="crayon-h"> </span><span class="crayon-cn">365</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">config </span><span class="crayon-v">config</span><span class="crayon-e">.cfg</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">sha1</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Для импорта пары закрытый/открытый ключ нам понадобится файл в формате PKCS#12, для его создания выполним команду:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f05408042784369" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05408042784369-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05408042784369-1"><span class="crayon-e">openssl </span><span class="crayon-v">pkcs12</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">export</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">cert</span><span class="crayon-e">.crt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">inkey </span><span class="crayon-v">private</span><span class="crayon-e">.pem</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">out </span><span class="crayon-v">client</span><span class="crayon-e">.p12</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">name</span><span class="crayon-h"> </span><span class="crayon-s">"PK12 File"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Для того чтобы сервер приложений мог выполнять криптографические функции ему необходимо знать как получить пары закрытых/открытых ключей, за их хранение на сервере приложения отвечает PSE файл. Следующим шагом создадим PSE файл с помощью утилиты sapgenpse. Данная утилита может быть получена на SAP Marketplace, она входит в пакет SAPCRYPTOLIB. И так, создание PSE файла:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f0540e803300275" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f0540e803300275-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f0540e803300275-1"><span class="crayon-e">sapgenpse </span><span class="crayon-v">import_p12</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-i">p</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">ossl</span><span class="crayon-sy">\</span><span class="crayon-v">bin</span><span class="crayon-sy">\</span><span class="crayon-v">client</span><span class="crayon-e">.pse</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-v">ossl</span><span class="crayon-sy">\</span><span class="crayon-v">bin</span><span class="crayon-sy">\</span><span class="crayon-v">client</span><span class="crayon-e">.p12</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Полученный PSE файл загрузим через транзакцию STRUST:</p>
<ol>
<li>Щелкнув два раза на элементе «Файл» откроется окно выбора файла, укажем наш client.pse, после чего система запросит пароль, укажем тот, что указывали при создании PSE.</li>
<li>Открыв PSE на просмотр, сохраним его для ранее созданного приложения ZSSFAP: Меню -&gt; СПП -&gt; Сохранить как -&gt; SSF приложение -&gt; ZSSFAP</li>
</ol>
<p>На данном этапе мы записали хранилище (PSE) на сервер приложений, доступ к нему можно получить по адресу указанному в серверном параметре (тр. RZ11) – «ssf*/ssfapi_lib». (На стороне SAP может быть до 3-х крипто-провайдеров, для того чтобы ими воспользоваться должны быть выполнены соответствующие настройки в параметрах сервера, которые можно найти по маске ssf*. Описание данных параметров можно найти в документации к ним).</p>
<p>Для тестирования ЭЦП запустим программу <strong>SSF02</strong> и укажем следующие параметры:</p>
<ul>
<li>Выбор функции: подписать</li>
<li>Включить сертификаты – пусто</li>
<li>Без данных оригинала – X</li>
<li>Идентификатор: EMAIL=sidorochkin@gmail.ru, CN=SIDOROCHKIN, OU=DEV, O=OCRV, L=SPB, SP=SPB</li>
<li>SSF профиль: SAPSSF_ZSSFAP200.pse</li>
<li>Данные ввода: 123.txt</li>
<li>Данные вывода: 123.txt.sig</li>
<li>Продукт защиты: SAPSECULIB</li>
<li>Выполнить немедленно – X</li>
<li>Хеш-алгоритм &#8212; SHA1</li>
</ul>
<p>Запишем в файл 123.txt любую  текстовую последовательность, например: 123.</p>
<p>После выполнения программы мы получим файл 123.txt.sig, в котором будет содержаться цифровая подпись:</p>
<p><a href="../../wp-content/uploads/2015/11/SSF_SIGN.png" data-slb-active="1" data-slb-asset="552572877" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class="alignnone size-full wp-image-2672" src="../../wp-content/uploads/2015/11/SSF_SIGN.png" alt="SSF_SIGN" width="1200" height="478" srcset="../../wp-content/uploads/2015/11/SSF_SIGN.png 1200w, ../../wp-content/uploads/2015/11/SSF_SIGN-300x120.png 300w, ../../wp-content/uploads/2015/11/SSF_SIGN-1024x408.png 1024w" sizes="(max-width: 1200px) 100vw, 1200px"></a></p>
<p>Для её верификации изменим параметры и запустим вновь:</p>
<ul>
<li>Выбор функции: Верифицировать</li>
<li>Данные ввода: 123.sig</li>
<li>Данные вывода – пусто</li>
<li>Данные сравнения: 123.txt</li>
<li>Личная адресная книга – PAB: SAPSSF_ZSSFAP.pse (необходима для верификации относительно сертификата (открытого ключа))</li>
</ul>
<p>Верификация пройдена:</p>
<p><a href="../../wp-content/uploads/2015/11/ssf_verify.png" data-slb-active="1" data-slb-asset="1431654252" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class="alignnone size-full wp-image-2673" src="../../wp-content/uploads/2015/11/ssf_verify.png" alt="ssf_verify" width="1219" height="405" srcset="../../wp-content/uploads/2015/11/ssf_verify.png 1219w, ../../wp-content/uploads/2015/11/ssf_verify-300x100.png 300w, ../../wp-content/uploads/2015/11/ssf_verify-1024x340.png 1024w" sizes="(max-width: 1219px) 100vw, 1219px"></a></p>
<p>Кроме программы <strong>SSF02</strong>, верифицировать ЭЦП можно и внешними средствами, такими как <a href="../../products/partner/crypto-arm.html">КриптоАРМ</a>.</p>
<p>Далее приводится код простой ABAP программы выполняющий формирование/проверку ЭЦП на стороне сервера приложений для текстовой строки:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f05411475343214" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-81">81</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-82">82</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-83">83</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-84">84</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-85">85</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-86">86</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-87">87</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-88">88</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-89">89</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-90">90</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-91">91</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-92">92</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-93">93</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-94">94</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-95">95</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-96">96</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-97">97</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-98">98</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-99">99</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-100">100</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-101">101</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-102">102</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-103">103</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-104">104</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-105">105</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-106">106</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-107">107</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-108">108</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-109">109</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-110">110</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-111">111</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-112">112</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-113">113</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-114">114</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-115">115</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-116">116</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-117">117</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-118">118</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-119">119</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-120">120</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-121">121</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-122">122</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-123">123</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-124">124</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-125">125</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-126">126</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-127">127</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-128">128</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-129">129</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-130">130</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-131">131</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-132">132</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-133">133</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-134">134</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-135">135</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-136">136</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-137">137</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-138">138</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-139">139</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-140">140</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-141">141</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-142">142</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-143">143</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-144">144</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-145">145</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-146">146</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-147">147</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-148">148</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-149">149</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-150">150</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-151">151</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-152">152</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-153">153</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-154">154</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-155">155</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-156">156</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-157">157</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-158">158</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-159">159</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-160">160</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-161">161</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-162">162</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-163">163</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05411475343214-164">164</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-1"><span class="crayon-st">PARAMETERS</span><span class="crayon-o">:</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>string<span class="crayon-h"> </span><span class="crayon-st">DEFAULT</span><span class="crayon-h"> </span><span class="crayon-s">'123'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-3"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-4"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>xstring<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-5"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>text80<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-6"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>signer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span><span class="crayon-st">STANDARD</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span>ssfinfo<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-7"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>sign<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span><span class="crayon-st">STANDARD</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span>ssfbin<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-8"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign<span class="crayon-h"> </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span><span class="crayon-st">HEADER</span><span class="crayon-h"> </span><span class="crayon-st">LINE</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-9"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>sigdatalen<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-10"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>ssfcrc<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-11"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>datalen<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>indatalen<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-12">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-13"><span class="crayon-m">START-OF-SELECTION</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-14">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_STRING_TO_XSTRING'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>text<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>failed<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-26"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-27">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_XSTRING_TO_BINARY'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>output<span class="crayon-sy">_</span>length<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>datalen</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binary<span class="crayon-sy">_</span>tab<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>data<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_KRN_SIGN_BY_AS'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssfapplication<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'ZSSFAP'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_datalen</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-40"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b<span class="crayon-sy">_</span>detached<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b<span class="crayon-sy">_</span>inc<span class="crayon-sy">_</span>certs<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">' '</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_sign_len</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-44"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-47"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>noop<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nomemory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>opinv<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nossflib<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>par<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>parlen<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>fb<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>parameter<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-60"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-63"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-64">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-65"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-st">INITIAL</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_ERRORMESSAGE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_crc</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-69"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>result<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>errortext<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>others<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-75">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-s">`Ошибка получения подписи: `</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-78"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-80"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_KRN_VERIFY_BY_AS'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssfapplication<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'ZSSFAP'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-83"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_sign_len</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-84"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>datalen</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_sign</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-89"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_data</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-90"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>output<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-91"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>signer<span class="crayon-sy">_</span>result<span class="crayon-sy">_</span>list<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>signer<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">" Информация о подписанте</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>noop<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nomemory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>opinv<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nossflib<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>par<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>parlen<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>fb<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>parameter<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">9</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-104"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-107"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-108">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-109"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-st">INITIAL</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_ERRORMESSAGE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_crc</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-113"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>result<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>errortext<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>others<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-119">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-s">`Ошибка сверки подписи: `</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-122"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-124"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CLEAR</span><span class="crayon-o">:</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data<span class="crayon-sy">,</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-125">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-126"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_BINARY_TO_XSTRING'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>input<span class="crayon-sy">_</span>length<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binary<span class="crayon-sy">_</span>tab<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>failed<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-136">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-137"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-140"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-141">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-142"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSFC_BASE64_ENCODE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>bindata<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-145"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binleng<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b64data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-148"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-149"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>noop<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-151"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nomemory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-152"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>opinv<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-153"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-154"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>par<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>parlen<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-157">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-158"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-161"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-162">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-163"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-s">`ЭЦП (BASE64):`</span><span class="crayon-h"> </span><span class="crayon-st">COLOR</span><span class="crayon-h"> </span>COL<span class="crayon-sy">_</span>HEADING<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05411475343214-164"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0204 seconds] -->
<p></p>
<h2>Формирование/проверка ЭЦП средствами внешнего крипто-провайдера</h2>
<p>Зачастую требуется обеспечить формирование квалифицированной ЭЦП, т.е. той, которая выполняется на основании закрытого ключа выданного центром сертификации прошедшим проверку соответствующими органами (ФСБ и пр.). К сожалению, как правило, такие центры оперируют алгоритмами <strong>ГОСТ</strong>, который не может быть обработан крипто-провайдерами SAP. На помощь приходят внешние крипто-провайдеры. Взаимодействие с ними, как это было уже упомянуто ранее, можно построить двумя способами:</p>
<ol>
<li>Путём вызова специального диалога, который связывается с установленным в системе крипто-провайдером через <strong>Microsoft Crypto API</strong>, вызов соответствующих API реализован в ActiveX элементе.</li>
<li>Путём вызова функций SSF через RFC с обращением к локальной машине пользователя.</li>
</ol>
<p>Первый способ позволяет только получать ЭЦП относительно указанных данных. Вызов диалога  осуществляется через ФМ <strong>SSFS_CALL_CONTROL</strong>:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f05417213005754" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-81">81</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-82">82</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05417213005754-83">83</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-1"><span class="crayon-st">PARAMETERS</span><span class="crayon-o">:</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>string<span class="crayon-h"> </span><span class="crayon-st">DEFAULT</span><span class="crayon-h"> </span><span class="crayon-s">'123'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-3"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-4"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>xstring<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-5"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>i<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-6"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>text80<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-7"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>sigdatalen<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-8">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-9"><span class="crayon-m">START-OF-SELECTION</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-10">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_STRING_TO_XSTRING'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>text<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>failed<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSFS_CALL_CONTROL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>bindocument<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-27"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>doc<span class="crayon-sy">_</span>type<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'TXT'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b<span class="crayon-sy">_</span>detached<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>abap<span class="crayon-sy">_</span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_crc</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-31"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>signature<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>parameter<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>conversion<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>control<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>frontend<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-38">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-39"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-42"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-43"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-st">INITIAL</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_ERRORMESSAGE'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_crc</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-48"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>result<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>errortext<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>others<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-54">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-55"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-s">`Ошибка получения подписи: `</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-56"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-57"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-58">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-59"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">xstrlen</span><span class="crayon-o">(</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data<span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-60">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-61"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSFC_BASE64_ENCODE'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>bindata<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_data</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-64"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binleng<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b64data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-67"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>noop<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nomemory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>opinv<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>par<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>parlen<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-76">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-77"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-80"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-81">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-82"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-s">`ЭЦП (BASE64):`</span><span class="crayon-h"> </span><span class="crayon-st">COLOR</span><span class="crayon-h"> </span>COL<span class="crayon-sy">_</span>HEADING<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05417213005754-83"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0150 seconds] -->
<p>Диалог выглядит следующим образом:</p>
<p><a href="../../wp-content/uploads/2015/11/dialog.png" data-slb-active="1" data-slb-asset="1294665089" data-slb-internal="0" data-slb-group="2667"><img loading="lazy" class="alignnone size-full wp-image-2674" src="../../wp-content/uploads/2015/11/dialog.png" alt="dialog" width="898" height="688" srcset="../../wp-content/uploads/2015/11/dialog.png 898w, ../../wp-content/uploads/2015/11/dialog-300x230.png 300w" sizes="(max-width: 898px) 100vw, 898px"></a></p>
<p>В системе есть демонстрационная программа SSFSDEMO в которой так же вызывается указанный ФМ. К сожалению данный способ весьма ограничен в настройке, нельзя, например, убрать из списка не действительные сертификаты или сертификаты не предназначенные для ЭЦП. Однако есть специальная <a href="http://service.sap.com/sap/support/notes/1816877">нота</a>, которая решает эти проблемы.</p>
<p>Второй способ подразумевает перед его использованием дополнительную настройку:</p>
<ol>
<li>На локальной машине пользователя должна быть установлена SSF библиотека.</li>
<li>В используемой системе должен быть определен RFC адрес для доступа к GUI (По умолчанию это &#8212; SAP_SSFATGUI см. тр. SM59)</li>
<li>На компьютере пользователя необходимо настроить путь к библиотеке SSF, чтобы SAP GUI мог вызывать её функции. Настройка выполняется в файле ssfrfc.ini. В моем случае я использую библиотеку КриптоПро SSF, и файл содержит только строку с путём к SSF библиотеке:</li>
</ol>
<p></p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f0541e714859779" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f0541e714859779-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f0541e714859779-1"><span class="crayon-v">SSF_LIBRARY_PATH</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">C</span><span class="crayon-o">:</span><span class="crayon-sy">\</span><span class="crayon-i">Program</span><span class="crayon-h"> </span><span class="crayon-i">Files</span><span class="crayon-sy">\</span><span class="crayon-i">Crypto</span><span class="crayon-h"> </span><span class="crayon-i">Pro</span><span class="crayon-sy">\</span><span class="crayon-i">SSF</span><span class="crayon-sy">\</span><span class="crayon-i">cpsapssf</span><span class="crayon-sy">.</span><span class="crayon-i">dll</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p>
<ol start="4">
<li>Для возможности подписания/верификации крипто-провайдер должен обладать всеми нужными ему данными. Необходимо убедиться, что на локальной машине установлены нужные сертификаты. Просмотр сертификатов в Windows можно вызвать через соответствующую надстройку: Пуск -&gt; Выполнить -&gt; <strong>certmgr.msc</strong>.</li>
</ol>
<p>Более подробно о настройке SSF вы можете почитать в официальной документации.</p>
<p>Далее приведен код простейшей ABAP программы для работы с внешним крипто-провайдером:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0e9f05427418484186" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-23">23</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-24">24</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-25">25</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-26">26</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-27">27</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-28">28</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-29">29</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-30">30</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-31">31</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-32">32</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-33">33</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-34">34</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-35">35</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-36">36</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-37">37</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-38">38</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-39">39</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-40">40</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-41">41</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-42">42</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-43">43</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-44">44</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-45">45</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-46">46</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-47">47</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-48">48</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-49">49</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-50">50</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-51">51</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-52">52</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-53">53</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-54">54</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-55">55</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-56">56</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-57">57</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-58">58</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-59">59</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-60">60</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-61">61</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-62">62</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-63">63</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-64">64</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-65">65</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-66">66</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-67">67</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-68">68</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-69">69</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-70">70</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-71">71</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-72">72</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-73">73</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-74">74</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-75">75</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-76">76</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-77">77</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-78">78</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-79">79</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-80">80</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-81">81</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-82">82</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-83">83</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-84">84</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-85">85</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-86">86</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-87">87</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-88">88</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-89">89</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-90">90</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-91">91</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-92">92</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-93">93</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-94">94</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-95">95</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-96">96</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-97">97</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-98">98</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-99">99</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-100">100</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-101">101</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-102">102</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-103">103</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-104">104</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-105">105</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-106">106</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-107">107</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-108">108</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-109">109</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-110">110</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-111">111</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-112">112</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-113">113</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-114">114</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-115">115</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-116">116</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-117">117</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-118">118</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-119">119</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-120">120</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-121">121</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-122">122</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-123">123</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-124">124</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-125">125</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-126">126</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-127">127</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-128">128</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-129">129</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-130">130</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-131">131</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-132">132</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-133">133</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-134">134</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-135">135</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-136">136</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-137">137</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-138">138</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-139">139</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-140">140</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-141">141</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-142">142</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-143">143</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-144">144</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-145">145</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-146">146</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-147">147</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-148">148</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-149">149</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-150">150</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-151">151</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-152">152</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-153">153</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-154">154</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-155">155</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-156">156</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-157">157</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-158">158</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-159">159</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-160">160</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-161">161</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-162">162</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-163">163</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-164">164</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-165">165</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-166">166</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-167">167</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-168">168</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-169">169</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-170">170</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-171">171</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-172">172</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-173">173</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-174">174</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-175">175</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0e9f05427418484186-176">176</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-1"><span class="crayon-st">PARAMETERS</span><span class="crayon-o">:</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>string<span class="crayon-h"> </span><span class="crayon-st">DEFAULT</span><span class="crayon-h"> </span><span class="crayon-s">'123'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-3"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-4"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>xstring<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-5"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>text80<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-6"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>signer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span><span class="crayon-st">STANDARD</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span>ssfinfo<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-7"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>sign<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span><span class="crayon-st">STANDARD</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span>ssfbin<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-8"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign<span class="crayon-h"> </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span><span class="crayon-st">HEADER</span><span class="crayon-h"> </span><span class="crayon-st">LINE</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-9"><span class="crayon-h">&nbsp;&nbsp;</span>gt<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>ex<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign<span class="crayon-h"> </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span><span class="crayon-st">HEADER</span><span class="crayon-h"> </span><span class="crayon-st">LINE</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-10"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>sigdatalen<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-11"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>ssfcrc<span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-12"><span class="crayon-h">&nbsp;&nbsp;</span>gv<span class="crayon-sy">_</span>datalen<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span>ssfparms<span class="crayon-o">-</span>indatalen<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-14"><span class="crayon-st">FIELD</span><span class="crayon-o">-</span><span class="crayon-st">SYMBOLS</span><span class="crayon-o">:</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-15"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span>gs<span class="crayon-sy">_</span>signer<span class="crayon-o">&gt;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-st">LIKE</span><span class="crayon-h"> </span><span class="crayon-st">LINE</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>signer<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-16">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-17"><span class="crayon-m">START-OF-SELECTION</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-18">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_STRING_TO_XSTRING'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>text<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>failed<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_XSTRING_TO_BINARY'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>output<span class="crayon-sy">_</span>length<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>datalen</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binary<span class="crayon-sy">_</span>tab<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>data<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">APPEND</span><span class="crayon-h"> </span><span class="crayon-st">INITIAL</span><span class="crayon-h"> </span><span class="crayon-st">LINE</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>signer<span class="crayon-h"> </span><span class="crayon-st">ASSIGNING</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>gs<span class="crayon-sy">_</span>signer<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&lt;</span>gs<span class="crayon-sy">_</span>signer<span class="crayon-o">&gt;</span><span class="crayon-o">-</span>id<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'E = Sidorochkin@ocrv.RU'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-42">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_SIGN'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>dest<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'SAP_SSFATGUI'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b<span class="crayon-sy">_</span>inc<span class="crayon-sy">_</span>certs<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">' '</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b<span class="crayon-sy">_</span>detached<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_datalen</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-49"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>str<span class="crayon-sy">_</span>hashalg<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'GOST3411'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_sign_len</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-52"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-55"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>signer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_signer</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-56"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>no<span class="crayon-sy">_</span>memory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>get<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>send<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>signer<span class="crayon-sy">_</span>list<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>fb<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>parameter<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>destination<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">9.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-67">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-68"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-69"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-71"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-72">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-73"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-st">INITIAL</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_ERRORMESSAGE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-75"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-76"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_crc</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-77"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>result<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>errortext<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>others<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-84"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-s">`Ошибка получения подписи: `</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-86"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-88"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CLEAR</span><span class="crayon-o">:</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>signer<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-89">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-90"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_VERIFY'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>dest<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'SAP_SSFATGUI'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-93"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b<span class="crayon-sy">_</span>inc<span class="crayon-sy">_</span>certs<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">' '</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_sign_len</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-95"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>l<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_datalen</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-96"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>str<span class="crayon-sy">_</span>pab<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>str<span class="crayon-sy">_</span>pab<span class="crayon-sy">_</span>password<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>signed<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_sign</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-102"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-103"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>signer<span class="crayon-sy">_</span>result<span class="crayon-sy">_</span>list<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gt_signer</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-104"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ostr<span class="crayon-sy">_</span>output<span class="crayon-sy">_</span>data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>ex</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>no<span class="crayon-sy">_</span>memory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>get<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>send<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>fb<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>parameter<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>rfc<span class="crayon-sy">_</span>destination<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-114">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-115">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-116"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-119"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-120">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-121"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>crc<span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">NOT</span><span class="crayon-h"> </span><span class="crayon-st">INITIAL</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSF_ERRORMESSAGE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>crc<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_crc</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-125"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>result<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>errortext<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>others<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-131">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-s">`Ошибка сверки подписи: `</span><span class="crayon-sy">,</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>error<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-134"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-135">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-136"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CLEAR</span><span class="crayon-o">:</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data<span class="crayon-sy">,</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-137">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-138"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SCMS_BINARY_TO_XSTRING'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>input<span class="crayon-sy">_</span>length<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>buffer<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>data</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">TABLES</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binary<span class="crayon-sy">_</span>tab<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>gt<span class="crayon-sy">_</span>sign</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-145"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-146"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>failed<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-147"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-148">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-149"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-150"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-151"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-152"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-153">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-154"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CALL</span><span class="crayon-h"> </span><span class="crayon-st">FUNCTION</span><span class="crayon-h"> </span><span class="crayon-s">'SSFC_BASE64_ENCODE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>bindata<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">gv_data</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-157"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>binleng<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>gv<span class="crayon-sy">_</span>sign<span class="crayon-sy">_</span>len</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-158"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">IMPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>b64data<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXCEPTIONS</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-161"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>error<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>noop<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-163"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>nomemory<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>opinv<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">4</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>input<span class="crayon-sy">_</span>data<span class="crayon-sy">_</span>error<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-166"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>par<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">6</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-167"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ssf<span class="crayon-sy">_</span>krn<span class="crayon-sy">_</span>invalid<span class="crayon-sy">_</span>parlen<span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">7</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">OTHERS</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">8.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-169">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-170"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">IF</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>subrc<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">0.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">MESSAGE</span><span class="crayon-h"> </span><span class="crayon-st">ID</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgid<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgty<span class="crayon-h"> </span><span class="crayon-st">NUMBER</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span>msgno</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv1 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv2 </span>sy<span class="crayon-o">-</span><span class="crayon-e">msgv3 </span>sy<span class="crayon-o">-</span>msgv4<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-173"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-174">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-175"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-s">`ЭЦП (BASE64):`</span><span class="crayon-h"> </span><span class="crayon-st">COLOR</span><span class="crayon-h"> </span>COL<span class="crayon-sy">_</span>HEADING<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0e9f05427418484186-176"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>text<span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0260 seconds] -->
<p>Обратите внимание на параметр подписанта, в вашей системе идентификатор будет иным.</p>
<p>Для проверки работы внешних провайдеров проще всего воспользоваться упомянутой ранее программой SSF02, параметры будут аналогичными ранее указанным, за исключением того, что нужно будет указать RFC адрес и хеш-алгоритм внешнего провайдера.</p>
<h2>Дополнительная информация</h2>
<p>Начиная с версии 1.0.0, в OpenSSL включили в состав утилиты для работы с алгоритмами ГОСТ, благодаря чему мы можем формировать и верифицировать квалифицированные ЭЦП из ABAP, взаимодействуя с OpenSSL, например, через файловый интерфейс. Более подробную информацию по поддержке ГОСТ можно найти как на официальном сайте, так и на других, например, <a href="../../openssl.html">тут</a>.</p>
<p>Официальная документация по SSF доступна по адресу: <a href="https://websmp201.sap-ag.de/home">https://websmp201.sap-ag.de/home</a> -&gt; Products -&gt; Security -&gt; Secure Collaboration и на <a href="https://help.sap.com/saphelp_nw70ehp2/helpdata/en/f0/3fb6388d35bf51e10000009b38f8cf/content.htm">help.sap.com</a>.</p>
<p>Спецификация по <a href="../../kmuuid2/1c51c590-0201-0010-ffbc-b2bef1c57385/Secure Store and Forward SSF API Specifications.pdf?quicklink=index&amp;overridelayout=true">SSF API</a>. Для тех, кто решит создать свой SSF провайдер, есть отдельная <a href="ftp://ftp.sap.com/pub/icc/bc-ssf45/SSF_Specifications.zip">спецификация</a>. Теоретическая часть по ЭЦП в SAP была рассмотрена в <a href="../../en/company/sap/blog/260765/index.htm">данной </a>статье.</p>
							</div>
		</article>
	
	<nav class="navigation post-navigation" role="navigation" aria-label="Записи">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../../osnovy-abap/abap-7-50/index.htm" rel="prev"><span class="meta-nav" aria-hidden="true">Назад</span> <span class="screen-reader-text">Предыдущая запись:</span> <span class="post-title">ABAP 7.50</span></a></div><div class="nav-next"><a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm" rel="next"><span class="meta-nav" aria-hidden="true">Далее</span> <span class="screen-reader-text">Следующая запись:</span> <span class="post-title">Декоратор (Decorator, Wrapper)</span></a></div></div>
	</nav>

<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			<span itemprop="interactionCount">10</span> комментариев		</h2>

		<ol class="comment-list">
					<li id="comment-17789" class="comment even thread-even depth-1 parent">
			<article id="div-comment-17789" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/b0663be011a812e7d768d1f481ea0779.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/b0663be011a812e7d768d1f481ea0779-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Михаил Колбин</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17789"><time datetime="2020-02-11T11:37:05+04:00">11.02.2020 в 11:37</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добрый день.<br>
Пробовал загружать в систему сертификаты по ГОСТ 2012, но у них не определяется владелец. Из-за чего их не сохранить в системе. Не пробовали грузить такие сертификаты?</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-1.htm?replytocom=17789#respond' data-commentid="17789" data-postid="2667" data-belowelement="div-comment-17789" data-respondelement="respond" data-replyto="Комментарий к записи Михаил Колбин" aria-label='Комментарий к записи Михаил Колбин'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17790" class="comment odd alt depth-2 parent">
			<article id="div-comment-17790" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/e18c6494f10281b610f032c4557fc29b.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/e18c6494f10281b610f032c4557fc29b-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Mike Sidorochkin</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17790"><time datetime="2020-02-13T09:06:59+04:00">13.02.2020 в 09:06</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добрый день!</p>
<p>Стандартная криптографическая библиотека насколько я знаю не работает с ГОСТ-ом, варианты мне кажется следующие:<br>
1. Писать расширение для неё (вроде как SAP даёт для этого API),<br>
2. Написать некое решение (например на Java) или использовать OpenSSL, запуская это все на сервере приложения (сертификаты хранятся там же).<br>
3. Использовать стороннее решение, которое либо расширяет библиотеку способом из п.1, либо предоставляет SSF интерфейс через RFC вызовы (для SAP GUI).</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-2.htm?replytocom=17790#respond' data-commentid="17790" data-postid="2667" data-belowelement="div-comment-17790" data-respondelement="respond" data-replyto="Комментарий к записи Mike Sidorochkin" aria-label='Комментарий к записи Mike Sidorochkin'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17791" class="comment even depth-3 parent">
			<article id="div-comment-17791" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/b0663be011a812e7d768d1f481ea0779.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/b0663be011a812e7d768d1f481ea0779-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Михаил Колбин</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17791"><time datetime="2020-02-13T16:13:27+04:00">13.02.2020 в 16:13</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добрый день.<br>
Тут именно проблема в получении информации о сертификате в SAP. Приходиться использовать ole-утилиту для получения хоть какой-то информации о сертификатах в личном хранилище пользователя. А у нее тоже весьма ограниченные функции.<br>
Хотя есть вот такая программа SSFSDEMO, которая каким-то способом получает данные о сертификатах.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-3.htm?replytocom=17791#respond' data-commentid="17791" data-postid="2667" data-belowelement="div-comment-17791" data-respondelement="respond" data-replyto="Комментарий к записи Михаил Колбин" aria-label='Комментарий к записи Михаил Колбин'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17792" class="comment odd alt depth-4">
			<article id="div-comment-17792" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/e18c6494f10281b610f032c4557fc29b.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/e18c6494f10281b610f032c4557fc29b-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Mike Sidorochkin</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17792"><time datetime="2020-02-15T16:43:34+04:00">15.02.2020 в 16:43</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Указанная программа использует OLE объект SAPSIGN.SAPSignCtrl.1, но среди его методов нет отдельных методов чтения данных об установленных сертификатах.</p>
<p>Можно через какой-нибудь PowerShell получить информацию о сертификатах: <a href="../../2015/03/20/looking-at-installed-certificates-with-powershell/index.htm" rel="nofollow ugc">https://ilovepowershell.com/2015/03/20/looking-at-installed-certificates-with-powershell/</a></p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-4.htm?replytocom=17792#respond' data-commentid="17792" data-postid="2667" data-belowelement="div-comment-17792" data-respondelement="respond" data-replyto="Комментарий к записи Mike Sidorochkin" aria-label='Комментарий к записи Mike Sidorochkin'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-17796" class="comment even thread-odd thread-alt depth-1 parent">
			<article id="div-comment-17796" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/579d4600c42bacc86d10924859cd7f1a.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/579d4600c42bacc86d10924859cd7f1a-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn"><a href='../../login.php.html' rel='external nofollow ugc' class='url'>Max Sirotkin</a></b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17796"><time datetime="2020-05-07T17:52:32+04:00">07.05.2020 в 17:52</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добрый день!</p>
<p>Спасибо за статью!</p>
<p>Вы не сталкивались с шифрованием данных  через SAPSECULIB?<br>
Настроил по статье &#8212; все хорошо (шифрует-расшифровывает), но не просит private key пароль для расшифровки.</p>
<p>Хотелось бы чтобы просил 🙂<br>
В OpenSSL делал пароль для *.pem, да и в STRUST выбрал галочку Always require password. </p>
<p>Если пытаюсь ввести левый пароль в SSF02 &#8212; не работает, с пустым паролем ОК.<br>
Значит настраивает пароль как пустой.</p>
<p>По дебагу SSF02 вообще &#8212; если RFC пусто то пароль не нужен.<br>
Начинаю думать, что дело в библиотеке и нужна SAPCRYPTOLIB</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-5.htm?replytocom=17796#respond' data-commentid="17796" data-postid="2667" data-belowelement="div-comment-17796" data-respondelement="respond" data-replyto="Комментарий к записи Max Sirotkin" aria-label='Комментарий к записи Max Sirotkin'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17797" class="comment odd alt depth-2">
			<article id="div-comment-17797" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/3b1ca91ceef314236fef5bbcea599e55.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/3b1ca91ceef314236fef5bbcea599e55-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn"><a href='../../index.htm' rel='external nofollow ugc' class='url'>Сидорочкин Михаил</a></b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17797"><time datetime="2020-05-07T20:24:24+04:00">07.05.2020 в 20:24</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добрый день!</p>
<p>К сожалению, или к счастью, с такой проблемой не сталкивался.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-6.htm?replytocom=17797#respond' data-commentid="17797" data-postid="2667" data-belowelement="div-comment-17797" data-respondelement="respond" data-replyto="Комментарий к записи Сидорочкин Михаил" aria-label='Комментарий к записи Сидорочкин Михаил'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-17812" class="comment even thread-even depth-1 parent">
			<article id="div-comment-17812" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/fe0ce92020274654e81700da99f9bcfc.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/fe0ce92020274654e81700da99f9bcfc-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Иван</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17812"><time datetime="2021-02-09T12:12:19+04:00">09.02.2021 в 12:12</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>&gt;Настройка выполняется в файле ssfrfc.ini.<br>
А где должен находиться файл ssfrfc.ini?</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-7.htm?replytocom=17812#respond' data-commentid="17812" data-postid="2667" data-belowelement="div-comment-17812" data-respondelement="respond" data-replyto="Комментарий к записи Иван" aria-label='Комментарий к записи Иван'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17813" class="comment odd alt depth-2">
			<article id="div-comment-17813" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/e18c6494f10281b610f032c4557fc29b.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/e18c6494f10281b610f032c4557fc29b-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Mike Sidorochkin</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17813"><time datetime="2021-02-10T17:49:51+04:00">10.02.2021 в 17:49</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p><a href="../../viewer/cf1026f0534f408e849ee7feed288a66/7.51.1/en-US/254e0b37cf3e3273e10000009b38f936.html" rel="nofollow ugc">https://help.sap.com/viewer/cf1026f0534f408e849ee7feed288a66/7.51.1/en-US/254e0b37cf3e3273e10000009b38f936.html</a></p>
<p>The default name of the SSF initialization file is ssfrfc.ini and the file is in the same directory as the SSF RFC server program ssfrfc.exe. In a standard installation, this is the SAP GUI directory.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-8.htm?replytocom=17813#respond' data-commentid="17813" data-postid="2667" data-belowelement="div-comment-17813" data-respondelement="respond" data-replyto="Комментарий к записи Mike Sidorochkin" aria-label='Комментарий к записи Mike Sidorochkin'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-17838" class="comment even thread-odd thread-alt depth-1 parent">
			<article id="div-comment-17838" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/index.htm.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/index.htm-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo avatar-default' height='80' width='80' loading='lazy'>						<b class="fn">Фомина Татьяна</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17838"><time datetime="2021-08-11T23:53:39+04:00">11.08.2021 в 23:53</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добрый день! Подскажите, пожалуйста, какие есть способы вытащить ID сертификата при использовании функции ssf ? (для штампа требуется Номер сертификата)</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-9.htm?replytocom=17838#respond' data-commentid="17838" data-postid="2667" data-belowelement="div-comment-17838" data-respondelement="respond" data-replyto="Комментарий к записи Фомина Татьяна" aria-label='Комментарий к записи Фомина Татьяна'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17839" class="comment odd alt depth-2">
			<article id="div-comment-17839" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/index.htm.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/index.htm-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo avatar-default' height='80' width='80' loading='lazy'>						<b class="fn">Аноним</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17839"><time datetime="2021-08-12T00:31:19+04:00">12.08.2021 в 00:31</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Добавлю, в ssf.ini параметр CP_SSF_USERID=CERT_HASH, но требуется номер сертификата, а не отпечатка, значение по умолчанию не подходящее</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-10.htm?replytocom=17839#respond' data-commentid="17839" data-postid="2667" data-belowelement="div-comment-17839" data-respondelement="respond" data-replyto="Комментарий к записи " aria-label='Комментарий к записи '>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol>

		
		
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Добавить комментарий для <a href="#comment-17812">Иван</a> <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.htm#respond">Отменить ответ</a></small></h3><form action="https://abap-blog.ru/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Ваш адрес email не будет опубликован.</span></p><p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Имя</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245"></p>
<div class="anr_captcha_field"><div id="anr_captcha_field_1" class="anr_captcha_field_div"></div></div><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Отправить комментарий"> <input type='hidden' name='comment_post_ID' value='2667' id='comment_post_ID'>
<input type='hidden' name='comment_parent' id='comment_parent' value='17812'>
</p></form>	</div><!-- #respond -->
	
	
</div>

			</div>
							</div>
					</div>
	</div>
</div>
<script type='text/javascript' id='contact-form-7-js-extra'>
/* <![CDATA[ */
var wpcf7 = {"api":{"root":"https:\/\/abap-blog.ru\/wp-json\/","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script src='../../wp-content/plugins/contact-form-7/includes/js/index.js?ver=5.5.1' id='contact-form-7-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect.min.js?ver=1.12.1' id='jquery-effects-core-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-slide.min.js?ver=1.12.1' id='jquery-effects-slide-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-highlight.min.js?ver=1.12.1' id='jquery-effects-highlight-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-fold.min.js?ver=1.12.1' id='jquery-effects-fold-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-blind.min.js?ver=1.12.1' id='jquery-effects-blind-js'></script>
<script src='../../wp-content/plugins/show-hidecollapse-expand/assets/js/bg-show-hide.js?ver=5.8.1' id='bg-show-hide-script-js'></script>
<script src='../../wp-includes/js/comment-reply.min.js?ver=5.8.1' id='comment-reply-js'></script>
<script src='../../wp-content/plugins/dynamic-to-top/js/libs/jquery.easing.js?ver=1.3' id='jquery-easing-js'></script>
<script type='text/javascript' id='dynamic-to-top-js-extra'>
/* <![CDATA[ */
var mv_dynamic_to_top = {"text":"To Top","version":"0","min":"300","speed":"1100","easing":"easeInExpo","margin":"20"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/dynamic-to-top/js/dynamic.to.top.min.js?ver=3.5' id='dynamic-to-top-js'></script>
<script src='../../recaptcha/api.js?render=6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC&#038;ver=3.0' id='google-recaptcha-js'></script>
<script type='text/javascript' id='wpcf7-recaptcha-js-extra'>
/* <![CDATA[ */
var wpcf7_recaptcha = {"sitekey":"6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC","actions":{"homepage":"homepage","contactform":"contactform"}};
/* ]]> */
</script>
<script src='../../wp-content/plugins/contact-form-7/modules/recaptcha/index.js?ver=5.5.1' id='wpcf7-recaptcha-js'></script>
<script src='../../wp-includes/js/wp-embed.min.js?ver=5.8.1' id='wp-embed-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/client/js/prod/lib.core.js?ver=2.8.1' id='slb_core-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/client/js/prod/lib.view.js?ver=2.8.1' id='slb_view-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/themes/baseline/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_baseline-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/themes/default/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_default-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/template-tags/item/js/prod/tag.item.js?ver=2.8.1' id='slb-asset-item-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/template-tags/ui/js/prod/tag.ui.js?ver=2.8.1' id='slb-asset-ui-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/content-handlers/image/js/prod/handler.image.js?ver=2.8.1' id='slb-asset-image-base-js'></script>
<script type="text/javascript" id="slb_footer">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB && SLB.has_child('View.init') ) { SLB.View.init({"ui_autofit":true,"ui_animate":true,"slideshow_autostart":false,"slideshow_duration":"6","group_loop":true,"ui_overlay_opacity":"0.8","ui_title_default":false,"theme_default":"slb_default","ui_labels":{"loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","nav_next":"\u0412\u043f\u0435\u0440\u0435\u0434","nav_prev":"\u041d\u0430\u0437\u0430\u0434","slideshow_start":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","slideshow_stop":"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","group_status":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 %current%  \u0438\u0437 %total%"}}); }
if ( !!window.SLB && SLB.has_child('View.assets') ) { {$.extend(SLB.View.assets, {"1294208504":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssh-private-public-keys21.jpg"},"116334670":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/version.png"},"54789181":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app.png"},"495316970":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app_options.png"},"552572877":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/SSF_SIGN.png"},"1431654252":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_verify.png"},"1294665089":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/dialog.png"}});} }
/* THM */
if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_baseline',{"name":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043b\u0438\u043d\u0438\u044f","parent":"","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/baseline\/css\/style.css","deps":[]}],"layout_raw":"<div class=\"slb_container\"><div class=\"slb_content\">{{item.content}}<div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><div class=\"slb_controls\"><span class=\"slb_close\">{{ui.close}}<\/span><span class=\"slb_slideshow\">{{ui.slideshow_control}}<\/span><\/div><div class=\"slb_loading\">{{ui.loading}}<\/div><\/div><div class=\"slb_details\"><div class=\"inner\"><div class=\"slb_data\"><div class=\"slb_data_content\"><span class=\"slb_data_title\">{{item.title}}<\/span><span class=\"slb_group_status\">{{ui.group_status}}<\/span><div class=\"slb_data_desc\">{{item.description}}<\/div><\/div><\/div><div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><\/div><\/div><\/div>"}); }if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_default',{"name":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0441\u0432\u0435\u0442\u043b\u044b\u0439)","parent":"slb_baseline","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/default\/css\/style.css","deps":[]}]}); }})})(jQuery);}/* ]]> */</script>
<script type="text/javascript" id="slb_context">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB ) { {$.extend(SLB, {"context":["public","user_guest"]});} }})})(jQuery);}/* ]]> */</script>
			<script type="text/javascript">
				var anr_onloadCallback = function() {
					for ( var i = 0; i < document.forms.length; i++ ) {
						var form = document.forms[i];
						var captcha_div = form.querySelector( '.anr_captcha_field_div' );

						if ( null === captcha_div )
							continue;
						captcha_div.innerHTML = '';
						( function( form ) {
							var anr_captcha = grecaptcha.render( captcha_div,{
								'sitekey' : '6LfmhbAaAAAAABBrfPpMngzFHB6qZ4ATxXd3rvOR',
								'size'  : 'normal',
								'theme' : 'light'
							});
							if ( typeof jQuery !== 'undefined' ) {
								jQuery( document.body ).on( 'checkout_error', function(){
									grecaptcha.reset(anr_captcha);
								});
							}
							if ( typeof wpcf7 !== 'undefined' ) {
								document.addEventListener( 'wpcf7submit', function() {
									grecaptcha.reset(anr_captcha);
								}, false );
							}
						})(form);
					}
				};
			</script>
						<script src="../../recaptcha/api-1.js?onload=anr_onloadCallback&#038;render=explicit" async="" defer="">
			</script>
			</body>
</html>
