<!DOCTYPE html>
<html lang="ru-RU" id="html">
<head>
		<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="../../../xfn/11.html">
	<link rel="pingback" href="https://abap-blog.ru/xmlrpc.php">
	<title>ABAP Blog | ABAP CDS (Core Data Services)</title>

		<!-- All in One SEO 4.1.4.4 -->
		<meta name="description" content="Начиная с версии ABAP 7.4. нам стала доступна новая технология описания моделей данных в словаре – ABAP CDS (CDS – Core Data Services). Данная технология позволяет описывать модели данных на более продвинутом уровне, нежели это можно было делать стандартными словарными вьюшками. Она так же позволяет оптимизировать работу с данными за счёт вынесения вычислений на уровень СУБД (Code-to-Data), что […]">
		<meta name="robots" content="max-image-preview:large">
		<meta name="keywords" content="adt,alv,cds,ida,abap словарь">
		<link rel="canonical" href="index.htm">
		<script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"https:\/\/abap-blog.ru\/#website","url":"https:\/\/abap-blog.ru\/","name":"ABAP Blog","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445 \u043e\u0442 SAP","inLanguage":"ru-RU","publisher":{"@id":"https:\/\/abap-blog.ru\/#person"}},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/#person","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#personImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"BreadcrumbList","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/","name":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 SAP \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445: ABAP, HANA, UI5, OData, Fiori.","url":"https:\/\/abap-blog.ru\/"},"nextItem":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#listItem","position":2,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/","name":"ABAP CDS (Core Data Services)","description":"\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 ABAP 7.4. \u043d\u0430\u043c \u0441\u0442\u0430\u043b\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u0435 \u2013 ABAP CDS (CDS \u2013 Core Data Services). \u0414\u0430\u043d\u043d\u0430\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435, \u043d\u0435\u0436\u0435\u043b\u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u043d\u044b\u043c\u0438 \u0432\u044c\u044e\u0448\u043a\u0430\u043c\u0438. \u041e\u043d\u0430 \u0442\u0430\u043a \u0436\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0437\u0430 \u0441\u0447\u0451\u0442 \u0432\u044b\u043d\u0435\u0441\u0435\u043d\u0438\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0421\u0423\u0411\u0414 (Code-to-Data), \u0447\u0442\u043e [\u2026]","url":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/"},"previousItem":"https:\/\/abap-blog.ru\/#listItem"}]},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/author\/admin\/#author","url":"https:\/\/abap-blog.ru\/author\/admin\/","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#webpage","url":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/","name":"ABAP Blog | ABAP CDS (Core Data Services)","description":"\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 ABAP 7.4. \u043d\u0430\u043c \u0441\u0442\u0430\u043b\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u0435 \u2013 ABAP CDS (CDS \u2013 Core Data Services). \u0414\u0430\u043d\u043d\u0430\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435, \u043d\u0435\u0436\u0435\u043b\u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u043d\u044b\u043c\u0438 \u0432\u044c\u044e\u0448\u043a\u0430\u043c\u0438. \u041e\u043d\u0430 \u0442\u0430\u043a \u0436\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0437\u0430 \u0441\u0447\u0451\u0442 \u0432\u044b\u043d\u0435\u0441\u0435\u043d\u0438\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0421\u0423\u0411\u0414 (Code-to-Data), \u0447\u0442\u043e [\u2026]","inLanguage":"ru-RU","isPartOf":{"@id":"https:\/\/abap-blog.ru\/#website"},"breadcrumb":{"@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#breadcrumblist"},"author":"https:\/\/abap-blog.ru\/author\/admin\/#author","creator":"https:\/\/abap-blog.ru\/author\/admin\/#author","datePublished":"2016-05-28T09:05:16+04:00","dateModified":"2021-04-04T15:18:34+04:00"},{"@type":"Article","@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#article","name":"ABAP Blog | ABAP CDS (Core Data Services)","description":"\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 ABAP 7.4. \u043d\u0430\u043c \u0441\u0442\u0430\u043b\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u0435 \u2013 ABAP CDS (CDS \u2013 Core Data Services). \u0414\u0430\u043d\u043d\u0430\u044f \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u043e\u043c \u0443\u0440\u043e\u0432\u043d\u0435, \u043d\u0435\u0436\u0435\u043b\u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u043c\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u043d\u044b\u043c\u0438 \u0432\u044c\u044e\u0448\u043a\u0430\u043c\u0438. \u041e\u043d\u0430 \u0442\u0430\u043a \u0436\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0437\u0430 \u0441\u0447\u0451\u0442 \u0432\u044b\u043d\u0435\u0441\u0435\u043d\u0438\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0421\u0423\u0411\u0414 (Code-to-Data), \u0447\u0442\u043e [\u2026]","inLanguage":"ru-RU","headline":"ABAP CDS (Core Data Services)","author":{"@id":"https:\/\/abap-blog.ru\/author\/admin\/#author"},"publisher":{"@id":"https:\/\/abap-blog.ru\/#person"},"datePublished":"2016-05-28T09:05:16+04:00","dateModified":"2021-04-04T15:18:34+04:00","commentCount":1,"articleSection":"ABAP \u0421\u043b\u043e\u0432\u0430\u0440\u044c, adt, ALV, cds, ida","mainEntityOfPage":{"@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#webpage"},"isPartOf":{"@id":"https:\/\/abap-blog.ru\/osnovy-abap\/slovar\/abap-cds-core-data-services\/#webpage"},"image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/#articleImage","url":"https:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/Untitled-Diagram-1.png","width":503,"height":283,"caption":"ABAP CDS"}}]}
		</script>
		<script type="text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-150412824-1", { 'cookieDomain': 'abap-blog.ru' } );
			ga('require', 'outboundLinkTracker');
			ga('send', 'pageview');
		</script>
		<script async="" src="../../../analytics.js"></script>
		<script async="" src="../../../wp-content/plugins/all-in-one-seo-pack/app/Common/Assets/js/autotrack.js?ver=4.1.4.4"></script>
		<!-- All in One SEO -->

<link rel='dns-prefetch' href='../../../index-1.htm'>
<link rel='dns-prefetch' href='//fonts.googleapis.com'>
<link rel='dns-prefetch' href='../../../index-2.htm'>
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента" href="../../../feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев" href="../../../comments/feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев к &laquo;ABAP CDS (Core Data Services)&raquo;" href="feed/index.htm.rss">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/abap-blog.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.1"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='urvanov_syntax_highlighter-css' href='../../../wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-theme-abap-cds-css' href='../../../wp-content/uploads/urvanov-syntax-highlighter/themes/abap-cds/abap-cds.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-theme-abapblog-css' href='../../../wp-content/uploads/urvanov-syntax-highlighter/themes/abapblog/abapblog.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-font-monospace-css' href='../../../wp-content/plugins/urvanov-syntax-highlighter/fonts/monospace.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='wp-block-library-css' href='../../../wp-includes/css/dist/block-library/style.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='arve-main-css' href='../../../wp-content/plugins/advanced-responsive-video-embedder/build/main.css?ver=b809f4d4c33c91a5ae3a5099af09bdde' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='../../../wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.5.1' media='all'>
<link rel='stylesheet' id='bg-shce-genericons-css' href='../../../wp-content/plugins/show-hidecollapse-expand/assets/css/genericons/genericons.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='bg-show-hide-css' href='../../../wp-content/plugins/show-hidecollapse-expand/assets/css/bg-show-hide.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='dashicons-css' href='../../../wp-includes/css/dashicons.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='tooltip-css' href='../../../wp-content/plugins/wp-poll/assets/tool-tip.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-cb-css' href='../../../wp-content/plugins/wp-poll/assets/front/css/checkbox.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-css' href='../../../wp-content/plugins/wp-poll/assets/front/css/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='flat-fonts-css' href='../../../css.css?family=Lobster%7CRoboto:400,700%7CRoboto+Slab%7CRoboto%20Condensed' media='all'>
<link rel='stylesheet' id='flat-theme-css' href='../../../wp-content/themes/flat/assets/css/flat.css?ver=1.7.11' media='all'>
<link rel='stylesheet' id='flat-style-css' href='../../../wp-content/themes/flat/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='slb_core-css' href='../../../wp-content/plugins/simple-lightbox/client/css/app.css?ver=2.8.1' media='all'>
<link rel='stylesheet' id='decent-comments-widget-css' href='../../../wp-content/plugins/decent-comments/css/decent-comments-widget.css' media='all'>
<script src='../../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='../../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.22","is_admin":"0","ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 %s \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, %s \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='../../../wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.22' id='urvanov_syntax_highlighter_js-js'></script>
<script src='../../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script src='../../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script async="async" src='../../../wp-content/plugins/advanced-responsive-video-embedder/build/main.js?ver=b809f4d4c33c91a5ae3a5099af09bdde' id='arve-main-js'></script>
<script src='../../../wp-content/plugins/wp-poll/assets/front/js/svgcheckbx.js?ver=5.8.1' id='wpp-front-cb-js'></script>
<script type='text/javascript' id='wpp-front-js-extra'>
/* <![CDATA[ */
var wpp_object = {"ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","copyText":"Copied !","voteText":"Vote(s)","tempProDownload":"https:\/\/pluginbazar.com\/my-account\/downloads\/","tempProDownloadTxt":"Download Version 1.1.0"};
/* ]]> */
</script>
<script src='../../../wp-content/plugins/wp-poll/assets/front/js/scripts.js?ver=5.8.1' id='wpp-front-js'></script>
<script src='../../../wp-content/themes/flat/assets/js/flat.js?ver=1.7.11' id='flat-js-js'></script>
<!--[if lt IE 9]>
<script src='https://abap-blog.ru/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2' id='html5shiv-js'></script>
<![endif]-->
<link rel="https://api.w.org/" href="../../../wp-json/index.htm.json"><link rel="alternate" type="application/json" href="../../../wp-json/wp/v2/posts/2952.json"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc.php.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.8.1">
<link rel='shortlink' href='index.htm?p=2952'>
<link rel="alternate" type="application/json+oembed" href="../../../wp-json/oembed/1.0/embed-47.json?url=https%3A%2F%2Fabap-blog.ru%2Fosnovy-abap%2Fslovar%2Fabap-cds-core-data-services%2F">
<link rel="alternate" type="text/xml+oembed" href="../../../wp-json/oembed/1.0/embed-47.xml?url=https%3A%2F%2Fabap-blog.ru%2Fosnovy-abap%2Fslovar%2Fabap-cds-core-data-services%2F&#038;format=xml">

<!-- WP Youtube Player 1.7 by unijimpe -->
<style type="text/css">#page:before, .sidebar-offcanvas, #secondary { background-color: #272727; }@media (max-width: 1199px) { #page &gt; .container { background-color: #272727; } }body { background-size: initial; }</style><style type="text/css">#masthead .site-title {font-family:Lobster}body {font-family:Roboto }h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style><style type="text/css" media="screen">body{position:relative}#dynamic-to-top{display:none;overflow:hidden;width:auto;z-index:90;position:fixed;bottom:20px;right:20px;top:auto;left:auto;font-family:sans-serif;font-size:1em;color:#fff;text-decoration:none;text-shadow:0 1px 0 #333;font-weight:bold;padding:17px 16px;border:2px solid #000;background:#4c5055;-webkit-background-origin:border;-moz-background-origin:border;-icab-background-origin:border;-khtml-background-origin:border;-o-background-origin:border;background-origin:border;-webkit-background-clip:padding-box;-moz-background-clip:padding-box;-icab-background-clip:padding-box;-khtml-background-clip:padding-box;-o-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-ms-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-moz-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-o-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-khtml-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-icab-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-webkit-border-radius:30px;-moz-border-radius:30px;-icab-border-radius:30px;-khtml-border-radius:30px;border-radius:30px}#dynamic-to-top:hover{background:#4fd650;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 255, 255, 255, .2 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );cursor:pointer}#dynamic-to-top:active{background:#4c5055;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 0, 0, 0, .3 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) )}#dynamic-to-top,#dynamic-to-top:active,#dynamic-to-top:focus,#dynamic-to-top:hover{outline:none}#dynamic-to-top span{display:block;overflow:hidden;width:14px;height:12px;background:url( ../../../wp-content/plugins/dynamic-to-top/css/images/up.png )no-repeat center center}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("../../../wp-content/uploads/2014/10/escheresque_ste.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
		</head>

<body class="post-template-default single single-post postid-2952 single-format-standard custom-background" itemscope="" itemtype="http://schema.org/WebPage">
		<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left" style="background: #272727;">			
			
			<div id="secondary1" class="col-lg-t" style="background: #272727; display:none">
								<header id="masthead1" class="site-headerex" role="banner">
										<div class="hgroupex">
						<h1 class="site-title display-title"><a href="../../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
									</header>
							</div>


			<div id="secondary" class="col-lg-3" style="display:block">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="../../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-glavnoe-menyu" class="nav-menu"><li id="menu-item-2313" class="fa fa-home menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-2313"><a href="../../../index.htm">Главная</a>
<ul class="sub-menu">
	<li id="menu-item-2363" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-2363"><a href="../../../category/osnovy-abap/index.htm">Основы ABAP</a>
	<ul class="sub-menu">
		<li id="menu-item-2906" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2906"><a href="../../../category/osnovy-abap/oop/index.htm">ABAP Objects</a></li>
		<li id="menu-item-2370" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2370"><a href="../../../category/osnovy-abap/slovar/index.htm">ABAP Словарь</a></li>
		<li id="menu-item-2367" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2367"><a href="../../../category/osnovy-abap/files/index.htm">Работа с файлами</a></li>
		<li id="menu-item-2364" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2364"><a href="../../../category/osnovy-abap/sap-dynpro/index.htm">SAP Dynpro</a></li>
		<li id="menu-item-6845" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6845"><a href="../../../category/osnovy-abap/vnutrennie-tablicy/index.htm">Внутренние таблицы</a></li>
		<li id="menu-item-6849" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6849"><a href="../../../category/osnovy-abap/dinamicheskoe-programmirovanie/index.htm">Динамическое программирование</a></li>
	</ul>
</li>
	<li id="menu-item-2366" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2366"><a href="../../../category/database-work/index.htm">Работа с БД</a>
	<ul class="sub-menu">
		<li id="menu-item-7303" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7303"><a href="../../../category/hana/index.htm">HANA</a></li>
	</ul>
</li>
	<li id="menu-item-2368" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2368"><a href="../../../category/network/index.htm">Сетевые технологии</a>
	<ul class="sub-menu">
		<li id="menu-item-6328" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6328"><a href="../../../category/network/ui5fiori/index.htm">UI5 &amp; Fiori</a></li>
		<li id="menu-item-6327" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6327"><a href="../../../category/network/odata-network/index.htm">OData</a></li>
		<li id="menu-item-2907" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2907"><a href="../../../category/network/web-dynpro/index.htm">Web Dynpro</a></li>
	</ul>
</li>
	<li id="menu-item-2369" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2369"><a href="../../../category/enhancements/index.htm">Расширения</a></li>
	<li id="menu-item-6329" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6329"><a href="../../../category/abap-cloud/index.htm">ABAP Cloud</a></li>
	<li id="menu-item-2365" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2365"><a href="../../../category/others/index.htm">Прочее</a></li>
</ul>
</li>
<li id="menu-item-3536" class="fa fa-bell menu-item menu-item-type-post_type menu-item-object-page menu-item-3536"><a href="../../../abap-the-best-practice/index.htm">ABAP Best Practice</a></li>
<li id="menu-item-3727" class="fa fa-child menu-item menu-item-type-post_type menu-item-object-page menu-item-3727"><a href="../../../vakansii/index.htm">Вакансии ABAP</a></li>
<li id="menu-item-3885" class="fa fa-bookmark menu-item menu-item-type-post_type menu-item-object-page menu-item-3885"><a href="../../../abap-notes/index.htm">Быстрые заметки</a></li>
<li id="menu-item-2316" class="fa fa-info-circle menu-item menu-item-type-post_type menu-item-object-page menu-item-2316"><a href="../../../about/index.htm">Обо мне</a></li>
</ul>					</nav>
									</header>
				
				<div class="sidebar-offcanvas">
<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="search-2" class="widget widget_search">
	<form method="get" id="searchform" action="https://abap-blog.ru/">
		<label for="s" class="assistive-text">Поиск</label>
		<input type="text" class="field" name="s" id="s" placeholder="Поиск">
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Поиск">
	</form>
					</aside>
					<aside id="linkcat-2" class="widget widget_links">
						<h3 class='widget-title'>Ссылки</h3>

	<ul class='xoxo blogroll'>
<li><a href="../../../topics/abap.html" target="_blank">ABAP Community</a></li>
<li><a href="../../../wiki/display/ABAP/ABAP Development.html" title="Wiki по ABAP" target="_blank">ABAP Development Wiki</a></li>
<li><a href="../../../doc/abapdocu_latest_index_htm/latest/en-US/index.htm" title="Последняя версия справки по ABAP" target="_blank">ABAP Help</a></li>
<li><a href="../../../doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm" target="_blank">ABAP Help (Cloud)</a></li>
<li><a href="../../../learning-journeys/overview.html?role=Developer" target="_blank">Developer Learning Journeys</a></li>
<li><a href="../../../index-3.htm" target="_blank">Open Source Projects</a></li>
<li><a href="../../../tutorial-navigator.html" target="_blank">SAP Tutorials</a></li>
<li><a href="https://t.me/abapblog" target="_blank"><img src="../../../wp-content/uploads/2020/04/telegram-1.png" alt="Канал в Telegram"> Канал в Telegram</a></li>

	</ul>
					</aside>

					<aside id="endo_wrc_widget-2" class="widget widget_endo_wrc_widget">
						<h3 class='widget-title'>Цитаты</h3>
<p>Для программиста, как и для повара, давление со стороны хозяина может определять запланированный срок завершения задачи, но не может определять время ее фактического завершения. Омлет, обещанный через две минуты, может успешно жариться, но если через две минуты он не готов, то у клиента есть две возможности: ждать еще или съесть его сырым. Тот же выбор встает и перед заказчиком программного обеспечения.<br>
<strong>Ф.Брукс</strong></p>
					</aside>
								<aside id="custom-post-type-recent-posts-3" class="widget widget_recent_entries">
						<h3 class='widget-title'>Новое</h3>
			<ul>
													<li>
										<a href="../../../abap-notes/poluchenie-instancii-cl_gui_alv_grid-dlya-salv/index.htm">Получение инстанции cl_gui_alv_grid для SALV</a>
											<span class="post-date">11.09.2021</span>
														</li>
													<li>
										<a href="../../../abap-cloud/introduction-to-abap-in-the-cloud/index.htm">Introduction to ABAP in the Cloud</a>
											<span class="post-date">18.08.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/getting-started-with-fpm-bopf-integration/index.htm">Getting Started with FPM BOPF Integration</a>
											<span class="post-date">01.06.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/how-to-use-authority-checks-in-business-object-processing-framework/index.htm">30. How to Use Authority Checks in Business Object Processing Framework</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/bopf-extensibility/index.htm">29. BOPF Extensibility</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/bopf-enterprise-procurement-model-epm/index.htm">28. BOPF Enterprise Procurement Model (EPM)</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/bopf-integration/index.htm">27. BOPF Integration</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/bopf-business-configuration-objects/index.htm">26. BOPF Business Configuration Objects</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/bopf-performance/index.htm">25. BOPF Performance</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../../abap-notes/bopf-supportability/index.htm">24. BOPF Supportability</a>
											<span class="post-date">29.05.2021</span>
														</li>
							</ul>
								</aside>
					<aside id="decent_comments_widget-2" class="widget widget_decent_comments_widget">
						<h3 class='widget-title'>Последние комментарии</h3>
<div class="decent-comments"><ul><li><div class="comment"><span class="comment-author">Николай</span><span class="comment-date"> 27.10.2021 в 15:19</span><span class="comment-link"> на <a href="../../internal-table-as-data-source-select/index.htm#comment-17857">Внутренние таблицы как источник в SQL запросах</a></span><span class="comment-excerpt">Спасибо за статью. Если нужно сделать агрегацию внутренней таблицы то агрегация через передачу во временную таблицу на БД тоже будет работать медленней чем через loop/collect? Например таблица 100к записей, которая становится 5к после агрегации. </span></div></li><li><div class="comment"><span class="comment-author">Аноним</span><span class="comment-date"> 14.10.2021 в 13:50</span><span class="comment-link"> на <a href="../../oop/dekorator-decorator-wrapper/index.htm#comment-17856">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Так поведение Decorator не надо будет повторно описывать повторно в других Component. Но это возможно при изменении типа mo_component, например, на object. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 11.10.2021 в 06:50</span><span class="comment-link"> на <a href="../../oop/dekorator-decorator-wrapper/index.htm#comment-17854">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет:) Возможно, я не так выразил мысль. Я имел ввиду, какая ценность от класса Decorator, если можно декорировать поведение от Component и от него же наследовать конкретные декораторы? (см. первую UML диаграмму) </span></div></li><li><div class="comment"><span class="comment-author">Astrafox</span><span class="comment-date"> 10.10.2021 в 12:39</span><span class="comment-link"> на <a href="../../oop/dekorator-decorator-wrapper/index.htm#comment-17853">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет! Можно и так, однако конкретный компонент может иметь более широкий интерфейс, нежели тот, что нужен в декораторах. Тут скорее пример не совсем удачный, декорируемое поведение лучше вынести в отдельный интерфейс, реализуемый как компонентом, так и декораторами. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 04.10.2021 в 12:51</span><span class="comment-link"> на <a href="../../oop/dekorator-decorator-wrapper/index.htm#comment-17850">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">А какую роль играет базовый класс декоратора lcl_decorator? Что мешает конкретные декораторы наследовать от компонента lcl_concrete_component? Клиентский код и логика выполнения не поменяется. </span></div></li></ul></div>					</aside>
											</div>
				</div>
			</div>

						<div id="primary" class="content-area col-lg-9" itemprop="mainContentOfPage" style="">
							<div id="content" class="site-content" role="main" itemscope="" itemtype="http://schema.org/Article">
			<article id="post-2952" class="post-2952 post type-post status-publish format-standard hentry category-slovar tag-adt tag-alv tag-cds tag-ida">
	<header class="entry-header">
		<h1 class="entry-title" itemprop="name">ABAP CDS (Core Data Services)</h1>
							<div class="entry-meta"><span class="entry-date"><a href="index.htm" rel="bookmark"><time class="entry-date published" datetime="2016-05-28T13:05:16+04:00" itemprop="datepublished">28.05.2016</time></a></span> от <span class="author vcard" itemscope="" itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="../../../author/admin/index.htm" rel="author" itemprop="url"><span itemprop="name">Astrafox</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="index.htm#comments" itemprop="discussionUrl">1 комментарий</a></span></div>
			</header>
		
	
	<div class="entry-content" itemprop="articleBody">
				<p>Начиная с версии ABAP 7.4. нам стала доступна новая технология описания моделей данных в словаре – ABAP CDS (CDS – Core Data Services). Данная технология позволяет описывать модели данных на более продвинутом уровне, нежели это можно было делать стандартными словарными вьюшками. Она так же позволяет оптимизировать работу с данными за счёт вынесения вычислений на уровень СУБД (Code-to-Data), что актуально для HANA.</p>
<p>Кроме ABAP CDS, есть так же отдельная реализация для HANA – HANA CDS. Как понятно из названия, одна реализация используется в ABAP разработке, другая в HANA Native разработке. Horst Keller в своём <a href="../../../2015/07/20/cds-one-model-two-flavors/index.htm">блоге </a>более подробно рассматривает разницу в обоих реализациях.</p>
<p>ABAP CDS поддерживается сервером приложений ABAP вне зависимости от того, какая СУБД будет им использована, однако некоторые специфические вещи могут и не поддерживаться (В ABAP 7.4. нет поддержки параметров у CDS для всех СУБД, она появилась только с ABAP 7.5. Кроме того, скорость работы  CDS на HANA и Oracle может быть <a href="../../../2016/02/08/a-kill-to-an-abap-cds-view/index.htm">различной</a>).</p>
<p>В статье будет рассмотрена версия ABAP CDS для ABAP 7.4, с некоторыми комментариями относительно ABAP 7.5.</p>
<p><span id="more-2952"></span></p>
<p>Прежде чем приступать к примерам, рассмотрим основные понятия в контексте ABAP CDS:</p>
<div id="attachment_2993" style="width: 513px" class="wp-caption aligncenter"><a href="../../../wp-content/uploads/2016/05/Untitled-Diagram-1.png" data-slb-active="1" data-slb-asset="1194974804" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2993" loading="lazy" class="wp-image-2993 size-full" src="../../../wp-content/uploads/2016/05/Untitled-Diagram-1.png" alt="ABAP CDS" width="503" height="283" srcset="../../../wp-content/uploads/2016/05/Untitled-Diagram-1.png 503w, ../../../wp-content/uploads/2016/05/Untitled-Diagram-1-300x169.png 300w" sizes="(max-width: 503px) 100vw, 503px"></a><p id="caption-attachment-2993" class="wp-caption-text">ABAP CDS</p></div>
<ul>
<li><strong>CDS </strong><strong>Object</strong> – обобщенное понятие объекта репозитория, создаваемого через исходный код CDS.  К CDS Object относятся либо CDS Entity (DDL), либо CDS Role (DCL). Найти все DDL в системе можно через таблицу TADIR по следующим ключам: R3TR DDLS &lt;DDL SourceName&gt;. Все DCL можно найти в TADIR по ключам: R3TR DCLS &lt;DCL SourceName&gt;.</li>
<li><strong>CDS </strong><strong>Entity</strong> – это CDS объект, управляемый ABAP словарём, создаваемый путём описания на специальном языке &#8212; Data Defenition Language (DDL). Объект не переносится транспортом, вместо этого он генерируется в системе во время активации исходного кода DDL с которым он связан. Хранится такой объект в TADIR с ключом: R3TR STOB &lt;EntityName&gt;, где STOB – Structured object. В ABAP 7.4. к CDS Entity относится лишь CDS View, в 7.5. добавили еще <a href="../../../2016/02/24/how-to-use-amdp-function-implementation-for-a-cds-table-function-as-a-data-source-in-cds-views/index.htm">CDS Table function</a> (по сути это AMDP, которая реализует CDS и позволяет использовать SQL Script для формирования данных CDS, в статье Table function не рассматриваются). <strong>CDS </strong><strong>View</strong> &#8212; это основной объект с которым мы имеем дело в ABAP при чтении данных из словаря. На CDS View можно ссылаться при объявлении ABAP переменных, однако этот объект нельзя использовать при описании словарных объектов. Каждая новая CDS View должна быть описана в отдельном DDL объекте.  Имя CDS View определяется сразу после ключевого слова DEFINE VIEW в DDL (пример ниже), рекомендуется использовать имя такое же как у DDL объекта. Создаются они на базе существующих источников данных из словаря – таблиц (поддерживаются только прозрачные таблицы, пул таблиц и кластерные таблицы не поддерживаются), классических словарных вьюшек и других CDS. CDS Entity не доступны из Native SQL, а OpenSQL поддерживает только операции чтения.</li>
<li><strong>CDS </strong><strong>Role</strong> – объекты описывающие необходимые проверки полномочий для доступа к CDS View. CDS Role создаются путём их описания в DCL (Data control language) объекте.</li>
<li><strong>CDS </strong><strong>Database </strong><strong>View</strong> – объект словаря, который как и CDS View генерируется во время активации DDL объекта. Объект в TADIR можно найти по ключу: R3TR VIEW. По сути, это классический read-only database view из словаря. Имя CDS DB View указывается через аннотацию &#8212; <strong>@AbapCatalog.sqlViewName</strong>, а текстовое описание через <strong>@EndUserText.label</strong>. Просмотреть данное view можно через SE11, но отредактировать только в ADT. В ABAP можно считать данные напрямую из CDS DB View, однако это не рекомендуется делать и данный способ уже считается устаревшим в ABAP 7.5. В отличие от CDS VIew, CDS DB View можно использовать при описании объектов словаря.</li>
</ul>
<p>Упомянутые выше аннотации это своего рода мета-информация об объекте CDS, которая может в себя включать как настройки (буферизация, ссылочные поля для валюты и т.п.), так и только описательные данные (текстовое описание поля, описание DB View и прочее).</p>
<p>Подробная информация о существующих аннотациях есть в <a href="http://help.sap.com/abapdocu_740/en/abencds_annotations.htm">документации </a>(для <a href="http://help.sap.com/abapdocu_750/en/abencds_annotations_sap.htm">ABAP 7.5</a>).</p>
<p>В ABAP 7.5 с помощью аннотаций можно даже <a href="http://help.sap.com/saphelp_nw75/helpdata/en/8d/ec506e13f949c2a82e8c775a94b73b/content.htm">опубликовать</a> OData сервис на базе CDS View, при этом используя описательные аннотации можно <a href="../../../documents/docs/DOC-69643.html">задавать</a> свойства UI элементов в UI5 (Fiori) приложениях (ABAP 7.5 SP01 и выше). <a href="../../../2016/03/10/my-cds-view-self-study-tutorial-part-1-how-to-test-odata-service-generated-by-cds-view/index.htm">Блог</a>, в котором рассматриваются эти и другие возможности аннотаций (ABAP 7.5).</p>
<h2>Работа с CDS View</h2>
<p>&nbsp;</p>
<h3>Создание</h3>
<p>&nbsp;</p>
<p>Создать CDS View можно только из ABAP Development Tools (Eclipse plugin, скачать можно с сайта: <a href="../../../index-8.htm">https://tools.hana.ondemand.com</a>). Для этого необходимо сначала создать ABAP проект в системе, а затем добавить к нему новый объект:</p>
<div id="attachment_2955" style="width: 922px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/CreateDDL.png" data-slb-active="1" data-slb-asset="1968455467" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2955" loading="lazy" class="size-full wp-image-2955" src="../../../wp-content/uploads/2016/05/CreateDDL.png" alt="Создание CDS View" width="912" height="592" srcset="../../../wp-content/uploads/2016/05/CreateDDL.png 912w, ../../../wp-content/uploads/2016/05/CreateDDL-300x195.png 300w, ../../../wp-content/uploads/2016/05/CreateDDL-768x499.png 768w" sizes="(max-width: 912px) 100vw, 912px"></a><p id="caption-attachment-2955" class="wp-caption-text">Создание CDS View</p></div>
<p>В 7.5 путь в мастере несколько отличается, CDS вынесены в отдельную папку.</p>
<p>Далее указывается имя DDL объекта CDS:</p>
<div id="attachment_2956" style="width: 922px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/DDLDefenition.png" data-slb-active="1" data-slb-asset="1406398654" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2956" loading="lazy" class="size-full wp-image-2956" src="../../../wp-content/uploads/2016/05/DDLDefenition.png" alt="Параметры CDS" width="912" height="470" srcset="../../../wp-content/uploads/2016/05/DDLDefenition.png 912w, ../../../wp-content/uploads/2016/05/DDLDefenition-300x155.png 300w, ../../../wp-content/uploads/2016/05/DDLDefenition-768x396.png 768w" sizes="(max-width: 912px) 100vw, 912px"></a><p id="caption-attachment-2956" class="wp-caption-text">Параметры CDS</p></div>
<p>На следующем шаге необходимо указать настройки транспорта, а после него выбрать шаблон CDS который будет вставлен в DDL по умолчанию:</p>
<div id="attachment_2957" style="width: 946px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/CDSTemplate.png" data-slb-active="1" data-slb-asset="2019475248" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2957" loading="lazy" class="size-full wp-image-2957" src="../../../wp-content/uploads/2016/05/CDSTemplate.png" alt="Шаблон DDL" width="936" height="602" srcset="../../../wp-content/uploads/2016/05/CDSTemplate.png 936w, ../../../wp-content/uploads/2016/05/CDSTemplate-300x193.png 300w, ../../../wp-content/uploads/2016/05/CDSTemplate-768x494.png 768w" sizes="(max-width: 936px) 100vw, 936px"></a><p id="caption-attachment-2957" class="wp-caption-text">Шаблон DDL</p></div>
<p>Eclipse позволяет самим определять шаблоны DDL через настройки:</p>
<div id="attachment_2958" style="width: 1300px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/DefineTemplate.png" data-slb-active="1" data-slb-asset="1350415294" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2958" loading="lazy" class="size-full wp-image-2958" src="../../../wp-content/uploads/2016/05/DefineTemplate.png" alt="Настройка шаблонов" width="1290" height="504" srcset="../../../wp-content/uploads/2016/05/DefineTemplate.png 1290w, ../../../wp-content/uploads/2016/05/DefineTemplate-300x117.png 300w, ../../../wp-content/uploads/2016/05/DefineTemplate-768x300.png 768w, ../../../wp-content/uploads/2016/05/DefineTemplate-1024x400.png 1024w" sizes="(max-width: 1290px) 100vw, 1290px"></a><p id="caption-attachment-2958" class="wp-caption-text">Настройка шаблонов</p></div>
<p>После выбора шаблона по умолчанию, нажимаем на кнопку finish и имеем следующий результат:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e41035512662" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e41035512662-7">7</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'sql_view_name'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-2"><span class="crayon-r">@AbapCatalog.compiler.compareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'Описание DDL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>Sample<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>data<span class="crayon-sy">_</span>source<span class="crayon-sy">_</span>name<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e41035512662-7"><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p>В итоге в объекте DDL мы создали CDS View zddl_sample, которая по сути является запросом SQL к источнику данных data_source_name. Кстати синтаксис DDL и DCL позволяет использовать комментарии // (&#8212;) &#8212; для однострочных и /* &#8230; */ &#8212; для многострочных. Более подробно о правилах синтаксиса можно почитать в <a href="http://help.sap.com/abapdocu_750/en/abencds_general_syntax_rules.htm">документации</a>.</p>
<p>Начиная с ABAP 7.50 SP01 кроме текстового редактора, доступен <a href="../../../2015/10/28/representing-core-data-services-concepts-in-graphical-form/index.htm">графический редактор CDS</a>:</p>
<div id="attachment_2960" style="width: 662px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/GraphicalCDSEditor.png" data-slb-active="1" data-slb-asset="1686311275" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2960" loading="lazy" class=" wp-image-2960" src="../../../wp-content/uploads/2016/05/GraphicalCDSEditor.png" alt="Графический редактор CDS" width="652" height="391" srcset="../../../wp-content/uploads/2016/05/GraphicalCDSEditor.png 757w, ../../../wp-content/uploads/2016/05/GraphicalCDSEditor-300x180.png 300w" sizes="(max-width: 652px) 100vw, 652px"></a><p id="caption-attachment-2960" class="wp-caption-text">Графический редактор CDS</p></div>
<p>Изменим наш DDL на следующий:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e5c794921659" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e5c794921659-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e5c794921659-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e5c794921659-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e5c794921659-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e5c794921659-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e5c794921659-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'zsql_view'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e5c794921659-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e5c794921659-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e5c794921659-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'Описание DDL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e5c794921659-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli<span class="crayon-h"> </span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>В данном примере мы определили cds view zstob_ddl_sample, как запрос всех данных из таблицы spfli. Так как поля явным образом не заданы, будут выбраны все ( * ). С некоторыми используемыми аннотациями мы уже знакомы, остальные будут рассмотрены чуть позже.</p>
<p>После активации DDL, в TADIR мы получим следующие объекты:</p>
<div id="attachment_2961" style="width: 681px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/TADIRObjects.png" data-slb-active="1" data-slb-asset="654083249" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2961" loading="lazy" class="size-full wp-image-2961" src="../../../wp-content/uploads/2016/05/TADIRObjects.png" alt="Объекты TADIR" width="671" height="202" srcset="../../../wp-content/uploads/2016/05/TADIRObjects.png 671w, ../../../wp-content/uploads/2016/05/TADIRObjects-300x90.png 300w" sizes="(max-width: 671px) 100vw, 671px"></a><p id="caption-attachment-2961" class="wp-caption-text">Объекты TADIR</p></div>
<p>В словаре (SE11) можем посмотреть на DB View:</p>
<div id="attachment_2962" style="width: 993px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/DBView.png" data-slb-active="1" data-slb-asset="1862263247" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2962" loading="lazy" class="size-full wp-image-2962" src="../../../wp-content/uploads/2016/05/DBView.png" alt="CDS DB View" width="983" height="293" srcset="../../../wp-content/uploads/2016/05/DBView.png 983w, ../../../wp-content/uploads/2016/05/DBView-300x89.png 300w, ../../../wp-content/uploads/2016/05/DBView-768x229.png 768w" sizes="(max-width: 983px) 100vw, 983px"></a><p id="caption-attachment-2962" class="wp-caption-text">CDS DB View</p></div>
<p>Однако просмотр DB View в SE11 не самая лучшая идея, так как в нём вы не увидите некоторых специфичных для CDS вещей, например: UNION ALL, LEFT OUTER JOIN и пр. Для того чтобы их увидеть, необходимо перейти по следующему меню:</p>
<div id="attachment_2965" style="width: 972px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/MenuDBView.png" data-slb-active="1" data-slb-asset="95513949" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2965" loading="lazy" class="size-full wp-image-2965" src="../../../wp-content/uploads/2016/05/MenuDBView.png" alt="Просмотр объекта БД" width="962" height="265" srcset="../../../wp-content/uploads/2016/05/MenuDBView.png 962w, ../../../wp-content/uploads/2016/05/MenuDBView-300x83.png 300w, ../../../wp-content/uploads/2016/05/MenuDBView-768x212.png 768w" sizes="(max-width: 962px) 100vw, 962px"></a><p id="caption-attachment-2965" class="wp-caption-text">Просмотр объекта БД</p></div>
<p>Тут вы получите описание на уровне СУБД, поле манданта (клиента) было вставлено автоматически:</p>
<div id="attachment_2966" style="width: 637px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/ViewONDB.png" data-slb-active="1" data-slb-asset="95290192" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2966" loading="lazy" class="size-full wp-image-2966" src="../../../wp-content/uploads/2016/05/ViewONDB.png" alt="Объект БД" width="627" height="497" srcset="../../../wp-content/uploads/2016/05/ViewONDB.png 627w, ../../../wp-content/uploads/2016/05/ViewONDB-300x238.png 300w" sizes="(max-width: 627px) 100vw, 627px"></a><p id="caption-attachment-2966" class="wp-caption-text">Объект БД</p></div>
<h3>Просмотр данных</h3>
<p>&nbsp;</p>
<p>После того как DDL будет активирован, мы можем посмотреть содержимое CDS VIew. Для просмотра можно нажать F8 (ADT 2.31 / ABAP 7.40 SP08) прямо в редакторе DDL, так выглядит интерфейс просмотра:</p>
<div id="attachment_2967" style="width: 1072px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/DataView.png" data-slb-active="1" data-slb-asset="914588663" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2967" loading="lazy" class="size-full wp-image-2967" src="../../../wp-content/uploads/2016/05/DataView.png" alt="Просмотр данных" width="1062" height="339" srcset="../../../wp-content/uploads/2016/05/DataView.png 1062w, ../../../wp-content/uploads/2016/05/DataView-300x96.png 300w, ../../../wp-content/uploads/2016/05/DataView-768x245.png 768w, ../../../wp-content/uploads/2016/05/DataView-1024x327.png 1024w" sizes="(max-width: 1062px) 100vw, 1062px"></a><p id="caption-attachment-2967" class="wp-caption-text">Просмотр данных</p></div>
<p>Инструмент Data Preview так же позволяет проходить по ассоциациям (о которых будем говорить чуть позже):</p>
<div id="attachment_2968" style="width: 775px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/AssosiationsView.png" data-slb-active="1" data-slb-asset="1818155052" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2968" loading="lazy" class="size-full wp-image-2968" src="../../../wp-content/uploads/2016/05/AssosiationsView.png" alt="Переход по ассоциациям" width="765" height="365" srcset="../../../wp-content/uploads/2016/05/AssosiationsView.png 765w, ../../../wp-content/uploads/2016/05/AssosiationsView-300x143.png 300w" sizes="(max-width: 765px) 100vw, 765px"></a><p id="caption-attachment-2968" class="wp-caption-text">Переход по ассоциациям</p></div>
<p>Просмотреть данные мы можем и из SQL консоли ADT, оценив одновременно скорость выборки:</p>
<div id="attachment_2969" style="width: 1191px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/ViewFromConsole.png" data-slb-active="1" data-slb-asset="1894090319" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2969" loading="lazy" class="size-full wp-image-2969" src="../../../wp-content/uploads/2016/05/ViewFromConsole.png" alt="Просмотр данных из консоли" width="1181" height="416" srcset="../../../wp-content/uploads/2016/05/ViewFromConsole.png 1181w, ../../../wp-content/uploads/2016/05/ViewFromConsole-300x106.png 300w, ../../../wp-content/uploads/2016/05/ViewFromConsole-768x271.png 768w, ../../../wp-content/uploads/2016/05/ViewFromConsole-1024x361.png 1024w" sizes="(max-width: 1181px) 100vw, 1181px"></a><p id="caption-attachment-2969" class="wp-caption-text">Просмотр данных из консоли</p></div>
<h3>Буферизация</h3>
<p>&nbsp;</p>
<p>Буферизация для CDS View работает по тем же <a href="http://help.sap.com/abapdocu_750/en/abenddic_database_views.htm#@@ITOC@@ABENDDIC_DATABASE_VIEWS_5">правилам</a>, что и для DB View. Буферизация CDS View возможна только в том случае, если среди источников данных нет других view (DB View или CDS View).</p>
<p>Настройка буферизации осуществляется через следующие аннотации:</p>
<p><strong>AbapCatalog.buffering.status</strong> – определяет, активна или нет буферизация, возможные значения:</p>
<ul>
<li>#ACTIVE: Буферизация активна.</li>
<li>#SWITCHED_OFF: Буферизация возможна, но неактивна (по умолчанию).</li>
<li>#NOT_ALLOWED: Буферизация запрещена.</li>
</ul>
<p><strong>AbapCatalog.buffering.type</strong> – определяет тип буферизации, возможные значения:</p>
<ul>
<li>#SINGLE: Отдельная запись</li>
<li>#GENERIC: Родовая область</li>
<li>#FULL: Полная буферизация</li>
<li>#NONE: Буферизация отключена (По умолчанию)</li>
</ul>
<p><strong>AbapCatalog.buffering.numberOfKeyFields</strong> – количество ключевых полей, относительно которых происходит буферизация, только для буферизации по родовой области (Generic). Может принимать значения от 0 до k-1, где k – количество ключевых полей.</p>
<p>CDS View содержат два типа определения ключей:</p>
<ul>
<li>Для CDS Entity, ключевое слово <a href="http://help.sap.com/abapdocu_750/en/abencds_f1_select_list_entry.htm#!ABAP_ADDITION_2@2@">KEY </a>может задать <strong>семантический ключ</strong>. Который используется при неявных проверках полномочий определенных в DCL (ABAP 7.5).</li>
<li>Ключ для CDS DB View задаётся автоматически по тем же <a href="http://help.sap.com/abapdocu_750/en/abenddic_classical_views.htm">правилам </a>что и для обычных словарных View, данный ключ является <strong>техническим</strong>.</li>
</ul>
<p>Для буферизации всегда будет актуальным <strong>технический ключ</strong> (который можно посмотреть в SE11 к DB View).</p>
<p>В OpenSQL ключевые поля используемые в запросе с ORDER BY PRIMARY KEY будут определены в зависимости от источника, к которому вы обращаетесь, как уже говорилось это может быть DB VIew (не следует использовать) или CDS View.</p>
<p>SAP рекомендует всегда указывать семантический ключ для CDS View, т.к. его наличие необходимо для ABAP фреймворков использующих CDS, например &#8212; IDA ALV.</p>
<h3>Joins</h3>
<p>&nbsp;</p>
<p>Одним из отличий CDS View от обычных DB View,  является поддержка двух дополнительных типов JOIN’ов, LEFT OUTER JOIN и RIGHT OUTER JOIN.</p>
<p>Применяя эти типы JOIN’oв мы можем столкнуться с ситуацией, когда данные из левой/правой таблицы будут содержать NULL значения. Для обработки NULL значений можно в DDL использовать условие IS [NOT] NULL и функцию COALESCE. Так как в ABAP нет типа обозначающего NULL, это значение будет автоматически преобразовано к INITIAL значению типа столбца.</p>
<p>Пример LEFT OUTER JOIN CDS View:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e65115058371" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e65115058371-12">12</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'zddl_join'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'LEFT OUTER SAMPLE'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>Join<span class="crayon-sy">_</span>Sample<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select distinct from</span><span class="crayon-h"> </span>spfli</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-6"><span class="crayon-m">left</span><span class="crayon-h"> </span><span class="crayon-m">outer</span><span class="crayon-h"> </span><span class="crayon-m">join</span><span class="crayon-h"> </span>sgeocity</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">on</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>countryfr<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>sgeocity<span class="crayon-o">.</span>country<span class="crayon-h"> </span><span class="crayon-m">and</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>cityfrom<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>sgeocity<span class="crayon-o">.</span>city<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>cityfrom<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>countryfr<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>sgeocity<span class="crayon-o">.</span>latitude</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e65115058371-12"><span class="crayon-o">}</span><span class="crayon-h"> </span><span class="crayon-m">where</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'AZ'</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>На выходе получаем:</p>
<div id="attachment_2972" style="width: 606px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/JoinWithNull.png" data-slb-active="1" data-slb-asset="519297318" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2972" loading="lazy" class="size-full wp-image-2972" src="../../../wp-content/uploads/2016/05/JoinWithNull.png" alt="NULL значения" width="596" height="183" srcset="../../../wp-content/uploads/2016/05/JoinWithNull.png 596w, ../../../wp-content/uploads/2016/05/JoinWithNull-300x92.png 300w" sizes="(max-width: 596px) 100vw, 596px"></a><p id="caption-attachment-2972" class="wp-caption-text">NULL значения</p></div>
<p>На своей системе я специально удалил запись с городом ROME из таблицы sgeocity чтобы показать каким образом будет обработан запрос. В данном случае NULL значение было заменено на начальное для типа столбца latitude.</p>
<h3>Обработка клиента</h3>
<p>&nbsp;</p>
<p>Одним из отличий ABAP CDS от HANA CDS является автоматическая поддержка клиента, то есть Вам не нужно объявлять поле клиента (манданта) при создании View, система сделает это неявным образом (В CDS DB View поле клиента будет вставлено автоматически). Есть возможность отключения автоматической обработки клиента, для этого необходимо использовать аннотацию:</p>
<p><strong>@ClientDependent: false</strong></p>
<p>Вставить её необходимо до определения view (define view). При этом после активации DDL, CDS DB View уже не будет содержать поле клиента по умолчанию.</p>
<p>Еще один способ отключить обработку клиента использовать дополнение CLIENT SPECIFIED в ABAP:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e6f093213244" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e6f093213244-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e6f093213244-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e6f093213244-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e6f093213244-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e6f093213244-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e6f093213244-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e6f093213244-1"><span class="crayon-st">TYPES</span><span class="crayon-o">:</span><span class="crayon-h"> </span>ty<span class="crayon-sy">_</span>result<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-h"> </span><span class="crayon-st">CLIENT</span><span class="crayon-h"> </span><span class="crayon-st">SPECIFIED</span><span class="crayon-h"> </span>clnt<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e6f093213244-2"><span class="crayon-st">DATA</span><span class="crayon-o">:</span><span class="crayon-h"> </span>lt<span class="crayon-sy">_</span>data<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">STANDARD</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span>ty<span class="crayon-sy">_</span>result<span class="crayon-h"> </span><span class="crayon-st">WITH</span><span class="crayon-h"> </span><span class="crayon-st">EMPTY</span><span class="crayon-h"> </span><span class="crayon-st">KEY</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e6f093213244-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e6f093213244-4"><span class="crayon-st">SELECT</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-st">FROM</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e6f093213244-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">CLIENT</span><span class="crayon-h"> </span><span class="crayon-st">SPECIFIED</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-sy">~</span>clnt</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e6f093213244-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">INTO</span><span class="crayon-h"> </span><span class="crayon-st">CORRESPONDING</span><span class="crayon-h"> </span><span class="crayon-st">FIELDS</span><span class="crayon-h"> </span><span class="crayon-st">OF</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-sy">@</span>lt<span class="crayon-sy">_</span>data<span class="crayon-h"> </span><span class="crayon-st">WHERE</span><span class="crayon-h"> </span>clnt<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'001'</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0019 seconds] -->
<p>Следует отметить так же важную особенность, если одна CDS View будет использовать в качестве источника данных другую CDS View с зависимостью от клиента, тогда она так же будет зависима от клиента.</p>
<h3>Ассоциации</h3>
<p>&nbsp;</p>
<p>Для упрощения понимания CDS View были введены так называемые ассоциации, которые по своей сути являются теми же JOIN, но в более простой для восприятия форме и с более широкими возможностями.</p>
<p>Рассмотрим пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e72649123860" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e72649123860-15">15</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'zsql_view'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'Описание DDL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">association</span><span class="crayon-h"> </span><span class="crayon-o">[</span><span class="crayon-cn">1..1</span><span class="crayon-o">]</span><span class="crayon-h"> </span><span class="crayon-m">to</span><span class="crayon-h"> </span>scarr<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>airline<span class="crayon-h"> </span><span class="crayon-m">on</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>airline<span class="crayon-o">.</span>carrid</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-8"><span class="crayon-o">{</span><span class="crayon-h">&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>airpfrom<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-9"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>airpto<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-10"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-11"><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-12"><span class="crayon-h">&nbsp;&nbsp; </span>airline<span class="crayon-o">.</span>carrname<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-13"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>arrtime<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-14"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>connid</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e72649123860-15"><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>В примере мы создали CDS View на основе данных о расписании авиарейсов (SPFLI) и ассоциации их с данными о компании через соединение по carrid. При активации DDL, ассоциация будет преобразована в JOIN. В примере мы задали имя для ассоциации airline, однако этого можно было и не делать, тогда имя будет неявным образом тем же самым что у привязанного источника данных, в нашем случае это таблица scarr. SAP рекомендует использовать подчёркивание перед именем ассоциации, это необходимо чтобы избежать возможных конфликтов с именами полей таблиц.</p>
<p>В примере ассоциация используется для получения поля CARRNAME, то есть сама не видна извне. Однако CDS View позволяют вынести ассоциацию наверх, чтобы можно её было использовать в других CDS View, пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e78706465956" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e78706465956-15">15</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'zsql_view'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'Описание DDL'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">association</span><span class="crayon-h"> </span><span class="crayon-o">[</span><span class="crayon-cn">1..1</span><span class="crayon-o">]</span><span class="crayon-h"> </span><span class="crayon-m">to</span><span class="crayon-h"> </span>scarr<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>airline<span class="crayon-h"> </span><span class="crayon-m">on</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>airline<span class="crayon-o">.</span>carrid</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-8"><span class="crayon-o">{</span><span class="crayon-h">&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>airpfrom<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-9"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>airpto<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-10"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-11"><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-12"><span class="crayon-h">&nbsp;&nbsp; </span>airline<span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-c">// Ассоциация будет доступна извне</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-13"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>arrtime<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-14"><span class="crayon-h">&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>connid</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e78706465956-15"><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0011 seconds] -->
<p>Используем ассоциацию в другом CDS View:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e7b775297324" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7b775297324-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'zstob_ex'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'zddl_external_as'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>External<span class="crayon-sy">_</span>As<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-o">.</span>airline<span class="crayon-o">.</span>carrid<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-o">.</span>airline<span class="crayon-o">.</span>carrname<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample<span class="crayon-o">.</span>airline<span class="crayon-o">.</span>currcode</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7b775297324-9"><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>Начиная с ABAP 7.5, OpenSQL позволяет использовать ассоциации и выбирать из них данные, пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e7d360762602" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7d360762602-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e7d360762602-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e7d360762602-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e7d360762602-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7d360762602-1"><span class="crayon-st">SELECT</span><span class="crayon-h"> </span>cityfrom<span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e7d360762602-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>countryfr<span class="crayon-sy">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e7d360762602-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">\</span>geoinfo<span class="crayon-o">-</span><span class="crayon-e">latitude </span><span class="crayon-e">as </span>latitude</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e7d360762602-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">FROM</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>Sample<span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p><strong>Кардинальность</strong><strong> ассоциаций</strong></p>
<p>В квадратных скобках ассоциации указывается кардинальность, которая помогает пользователям понять каким образом связаны данные и произвести оптимизацию при создании JOIN&#8217;ов для HANA. Синтаксис следующий [&lt;min&gt;..&lt;max&gt;], &lt;min&gt; &#8212; может быть опущено, по умолчанию 0. При описании кардинальности может быть использована *, которая означает – любое число записей. Максимальное число не может быть нулевым, а минимальное не может быть &#8212; *. Кардинальность не обязательно к указанию, тогда будет выставлена по умолчанию [0..1].</p>
<p><strong>Типы </strong><strong>JOIN’ов в описании ассоциаций</strong></p>
<p>По умолчанию тип JOIN определяется от того где в DDL прописана ассоциация: в SELECT, FROM, WHERE, GROUP BY. Если ассоциация указана в FROM по умолчанию будет использован INNER JOIN, в остальных случаях LEFT OUTER JOIN.</p>
<p>Пример в SELECT:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e80468797226" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e80468797226-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e80468797226-1"><span class="crayon-e">define </span><span class="crayon-e">view </span><span class="crayon-e">Zddl_assoc_cds </span><span class="crayon-st">as</span><span class="crayon-h"> </span><span class="crayon-e">select </span><span class="crayon-v">cityfrom</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">countryfr</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">geoinfo</span><span class="crayon-sy">.</span><span class="crayon-e">latitude </span><span class="crayon-e">from </span><span class="crayon-v">Zddl_assoc_Sample</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>JOIN:</p>
<p><a href="../../../wp-content/uploads/2016/05/JOINSelect.png" data-slb-active="1" data-slb-asset="1932874920" data-slb-internal="0" data-slb-group="2952"><img loading="lazy" class="alignnone size-full wp-image-2973" src="../../../wp-content/uploads/2016/05/JOINSelect.png" alt="JOINSelect" width="487" height="288" srcset="../../../wp-content/uploads/2016/05/JOINSelect.png 487w, ../../../wp-content/uploads/2016/05/JOINSelect-300x177.png 300w" sizes="(max-width: 487px) 100vw, 487px"></a></p>
<p>Пример в FROM:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e89816212321" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e89816212321-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e89816212321-1"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>cds<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select</span><span class="crayon-h"> </span>latitude<span class="crayon-h"> </span><span class="crayon-m">from</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>Sample<span class="crayon-o">.</span>geoinfo<span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>JOIN:</p>
<p><a href="../../../wp-content/uploads/2016/05/JOINFrom.png" data-slb-active="1" data-slb-asset="1629069361" data-slb-internal="0" data-slb-group="2952"><img loading="lazy" class="alignnone size-full wp-image-2974" src="../../../wp-content/uploads/2016/05/JOINFrom.png" alt="JOINFrom" width="611" height="283" srcset="../../../wp-content/uploads/2016/05/JOINFrom.png 611w, ../../../wp-content/uploads/2016/05/JOINFrom-300x139.png 300w" sizes="(max-width: 611px) 100vw, 611px"></a></p>
<p>Кроме того тип JOIN’a может быть переопределен когда мы получаем доступ к ассоциации через path expression:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e8b628590956" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8b628590956-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'zddl_assoc_ex'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>tue</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'association sample'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>cds<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>Sample<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-6"><span class="crayon-h">&nbsp;&nbsp;</span>cityfrom<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-7"><span class="crayon-h">&nbsp;&nbsp;</span>countryfr<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-8"><span class="crayon-h">&nbsp;&nbsp;</span>geoinfo<span class="crayon-o">[</span><span class="crayon-m">inner</span><span class="crayon-o">]</span><span class="crayon-o">.</span>latitude</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8b628590956-9"><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p><a href="http://help.sap.com/abapdocu_740/en/abencds_path_expression_attr.htm">Правила </a>переопределения.</p>
<p>Ключевое слово $projection может быть использовано для доступа к полю в ассоциации для которого задан alias:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e8e267355256" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e8e267355256-13">13</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'Ztest_Ddl7_sql'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-2"><span class="crayon-r">@AbapCatalog.compiler.CompareFilter:</span><span class="crayon-h"> </span>true</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-3"><span class="crayon-r">@AccessControl.authorizationCheck:</span><span class="crayon-h"> </span><span class="crayon-e">#CHECK</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-4"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'test'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-5"><span class="crayon-m">define view</span><span class="crayon-h"> </span>zstob<span class="crayon-sy">_</span>ddl<span class="crayon-sy">_</span>sample7<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">association</span><span class="crayon-h"> </span><span class="crayon-o">[</span><span class="crayon-cn">1..1</span><span class="crayon-o">]</span><span class="crayon-h"> </span><span class="crayon-m">to</span><span class="crayon-h"> </span>sgeocity<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-sy">_</span>geocity<span class="crayon-h"> </span><span class="crayon-m">on</span><span class="crayon-h"> </span><span class="crayon-sy">$</span><span class="crayon-m">projection</span><span class="crayon-o">.</span>city<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">_</span>geocity<span class="crayon-o">.</span>city<span class="crayon-h"> </span><span class="crayon-m">and</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>countryfr<span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">_</span>geocity<span class="crayon-o">.</span>country</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-9"><span class="crayon-o">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">key</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">key</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>connid<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>cityfrom<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>city</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e8e267355256-13"><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p><strong>Фильтрация в ассоциации</strong></p>
<p>Используя ассоциации, Вы так же можете добавлять свои критерии фильтрации, указывая их в WHERE условии:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e90556949191" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e90556949191-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e90556949191-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e90556949191-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e90556949191-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e90556949191-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e90556949191-1"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>cds<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>Sample<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e90556949191-2"><span class="crayon-h">&nbsp;&nbsp;</span>cityfrom<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e90556949191-3"><span class="crayon-h">&nbsp;&nbsp;</span>countryfr<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e90556949191-4"><span class="crayon-h">&nbsp;&nbsp;</span>geoinfo<span class="crayon-o">[</span><span class="crayon-cn">1</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-m">inner</span><span class="crayon-h"> </span><span class="crayon-m">where</span><span class="crayon-h"> </span>country<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'UA'</span><span class="crayon-o">]</span><span class="crayon-o">.</span>latitude</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e90556949191-5"><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p><a href="../../../wp-content/uploads/2016/05/filterCDS.png" data-slb-active="1" data-slb-asset="614263840" data-slb-internal="0" data-slb-group="2952"><img loading="lazy" class="alignnone size-full wp-image-2975" src="../../../wp-content/uploads/2016/05/filterCDS.png" alt="filterCDS" width="610" height="497" srcset="../../../wp-content/uploads/2016/05/filterCDS.png 610w, ../../../wp-content/uploads/2016/05/filterCDS-300x244.png 300w" sizes="(max-width: 610px) 100vw, 610px"></a></p>
<p>Как видно из картинки, фильтр переходит в условие JOIN.</p>
<p>При использовании ассоциации с одним и тем же фильтром или без фильтра, если не указана аннотация CompareFilter со значением true, то для каждого поля из ассоциации генерируется отдельный JOIN:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e92746680024" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e92746680024-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e92746680024-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e92746680024-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e92746680024-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e92746680024-5">5</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e92746680024-1"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>cds<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>Sample<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e92746680024-2"><span class="crayon-h">&nbsp;&nbsp;</span>cityfrom<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e92746680024-3"><span class="crayon-h">&nbsp;&nbsp;</span>geoinfo<span class="crayon-o">[</span>country<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'UA'</span><span class="crayon-o">]</span><span class="crayon-o">.</span>country<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e92746680024-4"><span class="crayon-h">&nbsp;&nbsp;</span>geoinfo<span class="crayon-o">[</span>country<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'UA'</span><span class="crayon-o">]</span><span class="crayon-o">.</span>latitude</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e92746680024-5"><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p><div id="attachment_2976" style="width: 740px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/CompareFilter.png" data-slb-active="1" data-slb-asset="1978335672" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2976" loading="lazy" class="size-full wp-image-2976" src="../../../wp-content/uploads/2016/05/CompareFilter.png" alt="Отключенный CompareFilter" width="730" height="497" srcset="../../../wp-content/uploads/2016/05/CompareFilter.png 730w, ../../../wp-content/uploads/2016/05/CompareFilter-300x204.png 300w" sizes="(max-width: 730px) 100vw, 730px"></a><p id="caption-attachment-2976" class="wp-caption-text">Отключенный CompareFilter</p></div>
<p>Если же мы поставим CompareFilter в true, результат будет уже иным:</p>
<div id="attachment_2977" style="width: 620px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/CompareFilterOn.png" data-slb-active="1" data-slb-asset="312919465" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2977" loading="lazy" class="size-full wp-image-2977" src="../../../wp-content/uploads/2016/05/CompareFilterOn.png" alt="Включенный CompareFilter" width="610" height="497" srcset="../../../wp-content/uploads/2016/05/CompareFilterOn.png 610w, ../../../wp-content/uploads/2016/05/CompareFilterOn-300x244.png 300w" sizes="(max-width: 610px) 100vw, 610px"></a><p id="caption-attachment-2977" class="wp-caption-text">Включенный CompareFilter</p></div>
<p>Это важно с точки зрения оптимизации и лучше чтобы оптимизация всегда была включена.</p>
<h3>CDS View с параметрами</h3>
<p>&nbsp;</p>
<p>Внутрь CDS view можно передавать параметры, основное предназначение которых сделать наши CDS более гибкими с возможностью передача их значений внутрь условий where, внутрь функций и выражений, а так же в условия JOIN.</p>
<p>Определяются параметры с помощью ключевого слова WITH PARAMETERS до ключевого слова SELECT. При определении параметра указывается его имя и тип данных. При указании типа можно ссылаться как на элементы данных, так и на DDIC типы, указав префикс abap (abap.int4). Более подробное описание типов смотрите в <a href="http://help.sap.com/abapdocu_750/en/abencds_typing.htm">документации</a>.</p>
<p>Пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e98623965367" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e98623965367-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e98623965367-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e98623965367-1"><span class="crayon-m">define view</span><span class="crayon-h"> </span>Zddl<span class="crayon-sy">_</span>assoc<span class="crayon-sy">_</span>cds<span class="crayon-h"> </span><span class="crayon-m">with parameters</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>carrid<span class="crayon-o">:</span><span class="crayon-h"> </span>s<span class="crayon-sy">_</span>carr<span class="crayon-sy">_</span>id</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e98623965367-2"><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli<span class="crayon-h"> </span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-o">}</span><span class="crayon-h"> </span><span class="crayon-m">where</span><span class="crayon-h"> </span>carrid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">$</span>parameters<span class="crayon-o">.</span>p<span class="crayon-sy">_</span>carrid<span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>SQL запрос к CDS View с параметром:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e9b856625157" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e9b856625157-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e9b856625157-1"><span class="crayon-st">SELECT</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-st">FROM</span><span class="crayon-h"> </span><span class="crayon-e">zddl_assoc_cds</span><span class="crayon-o">(</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>carrid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'UA'</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-st">INTO</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-st">DATA</span><span class="crayon-o">(</span>lt<span class="crayon-sy">_</span>data<span class="crayon-o">)</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>При выборке данных с передачей параметров в ABAP 7.4. будет показано предупреждение о том, что нужно проверить поддерживает ли СУБД передачу параметров в CDS View:</p>
<div id="attachment_2978" style="width: 956px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/WarningParameter.png" data-slb-active="1" data-slb-asset="564325654" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2978" loading="lazy" class="size-full wp-image-2978" src="../../../wp-content/uploads/2016/05/WarningParameter.png" alt="Предупреждение о параметрах" width="946" height="146" srcset="../../../wp-content/uploads/2016/05/WarningParameter.png 946w, ../../../wp-content/uploads/2016/05/WarningParameter-300x46.png 300w, ../../../wp-content/uploads/2016/05/WarningParameter-768x119.png 768w" sizes="(max-width: 946px) 100vw, 946px"></a><p id="caption-attachment-2978" class="wp-caption-text">Предупреждение о параметрах</p></div>
<p>Можно спрятать предупреждение и выполнить проверку:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082e9d449014519" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e9d449014519-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e9d449014519-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082e9d449014519-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082e9d449014519-4">4</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e9d449014519-1"><span class="crayon-st">IF</span><span class="crayon-h"> </span>cl<span class="crayon-sy">_</span>abap<span class="crayon-sy">_</span>dbfeatures<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">use_features</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-st">VALUE</span><span class="crayon-h"> </span>#<span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">(</span><span class="crayon-h"> </span>cl<span class="crayon-sy">_</span>abap<span class="crayon-sy">_</span>dbfeatures<span class="crayon-o">=</span><span class="crayon-o">&gt;</span>views<span class="crayon-sy">_</span>with<span class="crayon-sy">_</span>parameters<span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e9d449014519-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">SELECT</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-st">FROM</span><span class="crayon-h"> </span><span class="crayon-e">zddl_assoc_cds</span><span class="crayon-o">(</span><span class="crayon-h"> </span>p<span class="crayon-sy">_</span>carrid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'UA'</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-c">##DB_FEATURE_MODE[VIEWS_WITH_PARAMETERS]</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082e9d449014519-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">INTO</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-sy">@</span><span class="crayon-st">DATA</span><span class="crayon-o">(</span>lt<span class="crayon-sy">_</span>data<span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082e9d449014519-4"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>Если СУБД не поддерживает передачу параметров, при выполнении SQL запроса будет вызвано исключение &#8212; CX_SY_SQL_UNSUPPORTED_FEATURE. Напомню что в ABAP 7.5 параметры стали доступны для всех СУБД.</p>
<p>В ABAP 7.5 добавилась возможность использования переменных сессии, например $session.user будет содержать внутри себя sy-uname. Подробнее в <a href="http://help.sap.com/abapdocu_750/en/abencds_f1_session_variable.htm">документации</a>.</p>
<p>Параметры могут быть использованы как элементы в перечне полей для выбора:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082ea3605615900" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea3605615900-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'SPFLI_PROJECTION'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-2"><span class="crayon-m">define view</span><span class="crayon-h"> </span>spfli<span class="crayon-sy">_</span>proj<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">with parameters</span><span class="crayon-h"> </span>p1<span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">abap.int4</span><span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>p2<span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">abap.int4</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">select from</span><span class="crayon-h"> </span>scarr<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-m">key</span><span class="crayon-h"> </span>carrid<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">:</span>p1<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>para1<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">$</span>parameters<span class="crayon-o">.</span>p2<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>para2<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea3605615900-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">}</span><span class="crayon-o">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p><div class="arve aligncenter" data-mode="normal" data-oembed="1" data-provider="youtube" id="arve-youtube-i6wakd6_vsc618a04e09d52f443009872" style="max-width:960px;" itemscope="" itemtype="http://schema.org/VideoObject">
<span class="arve-inner">
<span class="arve-embed arve-embed--has-aspect-ratio arve-embed--16by9">
<meta itemprop="embedURL" content="https://www.youtube-nocookie.com/embed/i6wAkD6_Vsc?feature=oembed&amp;iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;autohide=1&amp;playsinline=0&amp;autoplay=0">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="arve-iframe fitvidsignore" data-arve="arve-youtube-i6wakd6_vsc618a04e09d52f443009872" data-src-no-ap="https://www.youtube-nocookie.com/embed/i6wAkD6_Vsc?feature=oembed&amp;iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;autohide=1&amp;playsinline=0&amp;autoplay=0" frameborder="0" height="540" sandbox="allow-scripts allow-same-origin allow-presentation allow-popups allow-popups-to-escape-sandbox" scrolling="no" src="../../../embed/i6wAkD6_Vsc.html?feature=oembed&#038;iv_load_policy=3&#038;modestbranding=1&#038;rel=0&#038;autohide=1&#038;playsinline=0&#038;autoplay=0" width="960"></iframe>

</span>

</span>

</div>

<h3>Code Pushdown</h3>
<p>&nbsp;</p>
<p>Code Pushdown подразумевает собой перенос логики расчёта на уровень СУБД, данный подход оправдывает себя (с точки зрения производительности) когда вы например используете SAP HANA или ваш сервер СУБД заметно мощнее чем сервер приложений.</p>
<p>Сам перенос расчёта подразумевает широкое использование выражений SQL в CDS View, которые имеют больше возможностей, чем в OpenSQL (В планах развития OpenSQL поддержка всех функций CDS).</p>
<p>Стандартный пример CDS View с SQL функциями:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082ea6254459929" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea6254459929-14">14</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'DEMO_CDS_SQLFUNC'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">define view</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>cds<span class="crayon-sy">_</span>sql<span class="crayon-sy">_</span>functions<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-3"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>expressions</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-4"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-m">abs</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>num1<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>abs<span class="crayon-sy">_</span>num1<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">ceil</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>fltp1<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>ceil<span class="crayon-sy">_</span>fltp1<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">floor</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span>dec1<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>floor<span class="crayon-sy">_</span>dec1<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">div</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>num1<span class="crayon-o">,</span><span class="crayon-h"> </span>num2<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>div<span class="crayon-sy">_</span>num1<span class="crayon-sy">_</span>num2<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">mod</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>num1<span class="crayon-o">,</span><span class="crayon-h"> </span>num2<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>mod<span class="crayon-sy">_</span>num1<span class="crayon-sy">_</span>num2<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">division</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;</span>dec2<span class="crayon-o">,</span><span class="crayon-h"> </span>dec3<span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>dvision<span class="crayon-sy">_</span>dec2<span class="crayon-sy">_</span>dec3<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">round</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span>dec3<span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>round<span class="crayon-sy">_</span>dec3<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">concat</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>char1<span class="crayon-o">,</span><span class="crayon-h"> </span>char2<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>concat<span class="crayon-sy">_</span>char1<span class="crayon-sy">_</span>char2<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">lpad</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>char1<span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-s">'x'</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>lpad<span class="crayon-sy">_</span>char1<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">replace</span><span class="crayon-o">(</span><span class="crayon-h">&nbsp;&nbsp; </span>char2<span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-s">'GHI'</span><span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-s">'XXX'</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>replace<span class="crayon-sy">_</span>char2<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea6254459929-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">substring</span><span class="crayon-o">(</span><span class="crayon-h"> </span>char2<span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-o">,</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>substring<span class="crayon-sy">_</span>char2<span class="crayon-h"> </span><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>Описание функций можно найти в официальной <a href="http://help.sap.com/abapdocu_740/en/abencds_f1_builtin_functions.htm">документации</a> или по F1.</p>
<p>Пример использования функции <a href="http://help.sap.com/abapdocu_740/en/abencds_f1_conversion_functions.htm#!ABAP_VARIANT_1@1@">конвертации валюты</a>:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082ea8907895006" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ea8907895006-13">13</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'DEMO_CDS_CRRCONV'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-2"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">define view</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>cds<span class="crayon-sy">_</span>currency<span class="crayon-sy">_</span>conversion<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-3"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-m">with parameters</span><span class="crayon-h"> </span>to<span class="crayon-sy">_</span>currency<span class="crayon-o">:</span><span class="crayon-t">abap.cuky(5)</span><span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>exc<span class="crayon-sy">_</span>date<span class="crayon-o">:</span><span class="crayon-t">abap.dats</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-5"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>prices</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-6"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">{</span><span class="crayon-h"> </span>id<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">currency_conversion</span><span class="crayon-o">(</span><span class="crayon-h"> </span>amount<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>amount<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>source<span class="crayon-sy">_</span>currency<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span>currency<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">round</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span><span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>target<span class="crayon-sy">_</span>currency<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">:</span>to<span class="crayon-sy">_</span>currency<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>exchange<span class="crayon-sy">_</span>rate<span class="crayon-sy">_</span>date<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">:</span>exc<span class="crayon-sy">_</span>date<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>error<span class="crayon-sy">_</span>handling<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-s">'SET_TO_NULL'</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>amount<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ea8907895006-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">:</span>to<span class="crayon-sy">_</span>currency<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>currency<span class="crayon-h"> </span><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Кроме непосредственно функций можно так же использовать литералы, арифметические выражения и условный оператор CASE. Пример с CASE:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082eaa279707528" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eaa279707528-15">15</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'DEMO_CDS_SCASE'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-2"><span class="crayon-m">define view</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>cds<span class="crayon-sy">_</span>searched<span class="crayon-sy">_</span>case<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-m">key</span><span class="crayon-h"> </span>carrid<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">key</span><span class="crayon-h"> </span>connid<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>distance<span class="crayon-o">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>distid<span class="crayon-o">,</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">case</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">when</span><span class="crayon-h"> </span>distance<span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">2000</span><span class="crayon-h"> </span>then<span class="crayon-h"> </span><span class="crayon-s">'long-haul flight'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">when</span><span class="crayon-h"> </span>distance<span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-cn">1000</span><span class="crayon-h"> </span><span class="crayon-m">and</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>distance<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">2000</span><span class="crayon-h"> </span>then<span class="crayon-h"> </span><span class="crayon-s">'medium-haul flight'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">when</span><span class="crayon-h"> </span>distance<span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">1000</span><span class="crayon-h"> </span>then<span class="crayon-h"> </span><span class="crayon-s">'short-haul flight'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">else</span><span class="crayon-h"> </span><span class="crayon-s">'error'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">end as</span><span class="crayon-h"> </span>flight<span class="crayon-sy">_</span>type<span class="crayon-h"> </span><span class="crayon-o">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eaa279707528-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">where</span><span class="crayon-h"> </span>distid<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'MI'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>В ABAP 7.5. набор возможностей CDS <a href="http://help.sap.com/abapdocu_750/en/abencds_f1_builtin_functions.htm">еще шире</a>.</p>
<h3>Просмотр в IDA ALV</h3>
<p>&nbsp;</p>
<p>IDA ALV (List Viewer with Integrated Data Access) – это расширение библиотеки SALV (Simple ALV), которое позволяет обрабатывать большие массивы данных, не передавая все данные разом на сервер приложений (представления). По сути, Вам не требуется заполнять внутреннюю таблицу для передачи её в salv класс, достаточно указать источник данных. IDA ALV используя функции агрегаций будет отображать результат их вычислений.</p>
<p>Простейший пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082eb0777369094" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb0777369094-1">1</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb0777369094-1">cl<span class="crayon-sy">_</span>salv<span class="crayon-sy">_</span>gui<span class="crayon-sy">_</span>table<span class="crayon-sy">_</span>ida<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">create</span><span class="crayon-o">(</span><span class="crayon-h"> </span>iv<span class="crayon-sy">_</span>table<span class="crayon-sy">_</span>name<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'SBOOK'</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">fullscreen</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">display</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p>Во время прокрутки списка в IDA ALV, сервер приложений будет генерировать запросы похожие на следующий:</p>
<div id="attachment_2979" style="width: 859px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/IDATrace.png" data-slb-active="1" data-slb-asset="2109503133" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2979" loading="lazy" class="size-full wp-image-2979" src="../../../wp-content/uploads/2016/05/IDATrace.png" alt="IDA ALV Trace" width="849" height="459" srcset="../../../wp-content/uploads/2016/05/IDATrace.png 849w, ../../../wp-content/uploads/2016/05/IDATrace-300x162.png 300w, ../../../wp-content/uploads/2016/05/IDATrace-768x415.png 768w" sizes="(max-width: 849px) 100vw, 849px"></a><p id="caption-attachment-2979" class="wp-caption-text">IDA ALV Trace</p></div>
<p>То есть вместо полной выборки будут использованы команды по смещению. Приведенный выше синтаксис использует СУБД HANA. Более подробные примеры использования IDA ALV можно найти в пакете: SALV_IDA_TEST.  Так же доступна <a href="http://help.sap.com/saphelp_banking450sp06/helpdata/en/ef/eb734c8e6f41939c39fa15ce51eb4e/frameset.htm">документация</a>.</p>
<div class="arve aligncenter" data-mode="normal" data-oembed="1" data-provider="youtube" id="arve-youtube-pseyo4cate0618a04e09e8f7061474897" style="max-width:960px;" itemscope="" itemtype="http://schema.org/VideoObject">
<span class="arve-inner">
<span class="arve-embed arve-embed--has-aspect-ratio arve-embed--16by9">
<meta itemprop="embedURL" content="https://www.youtube-nocookie.com/embed/pseyo4caTe0?feature=oembed&amp;iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;autohide=1&amp;playsinline=0&amp;autoplay=0">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="arve-iframe fitvidsignore" data-arve="arve-youtube-pseyo4cate0618a04e09e8f7061474897" data-src-no-ap="https://www.youtube-nocookie.com/embed/pseyo4caTe0?feature=oembed&amp;iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;autohide=1&amp;playsinline=0&amp;autoplay=0" frameborder="0" height="540" sandbox="allow-scripts allow-same-origin allow-presentation allow-popups allow-popups-to-escape-sandbox" scrolling="no" src="../../../embed/pseyo4caTe0.html?feature=oembed&#038;iv_load_policy=3&#038;modestbranding=1&#038;rel=0&#038;autohide=1&#038;playsinline=0&#038;autoplay=0" width="960"></iframe>

</span>

</span>

</div>

<h3>Расширение CDS</h3>
<p>&nbsp;</p>
<p>Вы можете расширять стандартные CDS View при этом без указания ключа разработчика. Синтаксис расширения является частью DDL и реализован ключевым словом Extend View. Расширение подразумевает создание дополнительных полей, аннотаций, расчётных полей и параметров к расширяемому CDS View.</p>
<p>Технически расширение реализовано за счёт <a href="http://help.sap.com/abapdocu_750/en/abenappend_view_glosry.htm">Append View</a> к Database View исходного CDS View, в связи с чем, перед ключевым словом Extend View необходимо указать аннотацию @AbapCatalog.sqlViewAppendName: ‘&lt;ИмяAppendView&gt;’.</p>
<p>На текущий момент нельзя расширять CDS View следующих типов:</p>
<ul>
<li>View у которых явно определены имена полей, пример:</li>
</ul>
<p></p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082eb2887536448" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb2887536448-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'BPA_VW'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-2"><span class="crayon-m">define view</span><span class="crayon-h"> </span>business<span class="crayon-sy">_</span>partner<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">(</span>id<span class="crayon-o">,</span><span class="crayon-h"> </span>role<span class="crayon-o">,</span><span class="crayon-h"> </span>company<span class="crayon-sy">_</span>name<span class="crayon-o">,</span><span class="crayon-h"> </span>phone<span class="crayon-sy">_</span>number<span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">select from</span><span class="crayon-h"> </span>snwd<span class="crayon-sy">_</span>bpa<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-m">key</span><span class="crayon-h"> </span>snwd<span class="crayon-sy">_</span>bpa<span class="crayon-o">.</span>bp<span class="crayon-sy">_</span>id<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>snwd<span class="crayon-sy">_</span>bpa<span class="crayon-o">.</span>bp<span class="crayon-sy">_</span>role<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>snwd<span class="crayon-sy">_</span>bpa<span class="crayon-o">.</span>company<span class="crayon-sy">_</span>name<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb2887536448-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>snwd<span class="crayon-sy">_</span>bpa<span class="crayon-o">.</span>phone<span class="crayon-sy">_</span>number<span class="crayon-h"> </span><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p></p>
<ul>
<li>View в которых используются агрегатные функции и выражение GROUP BY.</li>
<li>View в которых используется объединение через UNION.</li>
<li>View которые сами являются расширениями.</li>
</ul>
<p>Агрегатные функции так же нельзя использовать в ваших расширениях. Рекомендуется начинать добавляемые поля с префикса Z (Y), чтобы не возникало конфликтов имён. Добавляемые поля не могут быть помечены как семантический ключ через ключевое слово KEY. Так же нельзя переопределить свойства буферизации через соответствующие аннотации.</p>
<p>После того как расширение будет перенесено через транспортную систему, комбинацию имени AppendView и имени расширенного CDS View уже нельзя будет переопределить.</p>
<p>Пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082eb8877747403" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb8877747403-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb8877747403-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb8877747403-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb8877747403-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082eb8877747403-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082eb8877747403-6">6</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb8877747403-1"><span class="crayon-r">@AbapCatalog.sqlViewAppendName:</span><span class="crayon-h"> </span><span class="crayon-s">'zddl_append_view'</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb8877747403-2"><span class="crayon-r">@EndUserText.label:</span><span class="crayon-h"> </span><span class="crayon-s">'Пример расширения CDS View'</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb8877747403-3"><span class="crayon-m">extend</span><span class="crayon-h"> </span><span class="crayon-m">view</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>cds<span class="crayon-sy">_</span>spfli<span class="crayon-h"> </span>with<span class="crayon-h"> </span>zddl<span class="crayon-sy">_</span>extension<span class="crayon-h"> </span><span class="crayon-o">{</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb8877747403-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>distance<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082eb8877747403-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>spfli<span class="crayon-o">.</span>distid<span class="crayon-h"> </span><span class="crayon-m">as</span><span class="crayon-h"> </span>unit<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082eb8877747403-6"><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p>В примере мы расширили CDS View demo_cds_spfli добавив новые поля, исходный код CDS:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a04e082ebb821794173" class="urvanov-syntax-highlighter-syntax crayon-theme-abap-cds urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a04e082ebb821794173-8">8</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-1"><span class="crayon-r">@AbapCatalog.sqlViewName:</span><span class="crayon-h"> </span><span class="crayon-s">'DEMO_CDS_PRJCTN'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-2"><span class="crayon-m">define view</span><span class="crayon-h"> </span>demo<span class="crayon-sy">_</span>cds<span class="crayon-sy">_</span>spfli<span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-m">as</span><span class="crayon-h"> </span><span class="crayon-m">select from</span><span class="crayon-h"> </span>spfli<span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">{</span><span class="crayon-h"> </span><span class="crayon-m">key</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>mandt<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">key</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>carrid<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-m">key</span><span class="crayon-h"> </span>spfli<span class="crayon-o">.</span>connid<span class="crayon-o">,</span><span class="crayon-h"> </span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>cityfrom<span class="crayon-o">,</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a04e082ebb821794173-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>spfli<span class="crayon-o">.</span>cityto<span class="crayon-h"> </span><span class="crayon-o">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>Результат расширения, два новых поля:</p>
<div id="attachment_2980" style="width: 667px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/ExtensionResult.png" data-slb-active="1" data-slb-asset="2089152043" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2980" loading="lazy" class="size-full wp-image-2980" src="../../../wp-content/uploads/2016/05/ExtensionResult.png" alt="Результат расширения" width="657" height="291" srcset="../../../wp-content/uploads/2016/05/ExtensionResult.png 657w, ../../../wp-content/uploads/2016/05/ExtensionResult-300x133.png 300w" sizes="(max-width: 657px) 100vw, 657px"></a><p id="caption-attachment-2980" class="wp-caption-text">Результат расширения</p></div>
<p>Если в качестве источника данных в Вашем CDS View прозрачная таблица или DB View, Вы можете указать специальное дополнение <a href="http://help.sap.com/abapdocu_750/en/abencds_f1_select_list_entry.htm#!ABAP_ALTERNATIVE_2@2@">$EXTENSION.*</a>, чтобы кроме указанных полей из таблицы выбирались так же те, которые будут добавлены в расширении к этому словарному объекту (Естественное если мы изначально не указали что будем выбирать все поля &#171;*&#187;). После активации расширения, все связанные таким образом CDS View будут автоматически адаптированы.</p>
<p>Подробная документация по расширениям CDS доступна в <a href="http://help.sap.com/abapdocu_750/en/abencds_f1_extend_view.htm">справке</a>.</p>
<div class="arve aligncenter" data-mode="normal" data-oembed="1" data-provider="youtube" id="arve-youtube-xbryyypnuba618a04e09fa57993826507" style="max-width:960px;" itemscope="" itemtype="http://schema.org/VideoObject">
<span class="arve-inner">
<span class="arve-embed arve-embed--has-aspect-ratio arve-embed--16by9">
<meta itemprop="embedURL" content="https://www.youtube-nocookie.com/embed/XbRyYYpnuBA?feature=oembed&amp;iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;autohide=1&amp;playsinline=0&amp;autoplay=0">
<iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" class="arve-iframe fitvidsignore" data-arve="arve-youtube-xbryyypnuba618a04e09fa57993826507" data-src-no-ap="https://www.youtube-nocookie.com/embed/XbRyYYpnuBA?feature=oembed&amp;iv_load_policy=3&amp;modestbranding=1&amp;rel=0&amp;autohide=1&amp;playsinline=0&amp;autoplay=0" frameborder="0" height="540" sandbox="allow-scripts allow-same-origin allow-presentation allow-popups allow-popups-to-escape-sandbox" scrolling="no" src="../../../embed/XbRyYYpnuBA.html?feature=oembed&#038;iv_load_policy=3&#038;modestbranding=1&#038;rel=0&#038;autohide=1&#038;playsinline=0&#038;autoplay=0" width="960"></iframe>

</span>

</span>

</div>

<h3>Ошибки активации</h3>
<p>&nbsp;</p>
<p>При активации CDS у Вас могут возникать ошибки активации, для того чтобы их посмотреть нужно перейти по меню Navigate -&gt; Open activation log:</p>
<div id="attachment_2981" style="width: 1113px" class="wp-caption alignnone"><a href="../../../wp-content/uploads/2016/05/Actiovation-Log.png" data-slb-active="1" data-slb-asset="310645193" data-slb-internal="0" data-slb-group="2952"><img aria-describedby="caption-attachment-2981" loading="lazy" class="size-full wp-image-2981" src="../../../wp-content/uploads/2016/05/Actiovation-Log.png" alt="Журнал активации Eclipse" width="1103" height="262" srcset="../../../wp-content/uploads/2016/05/Actiovation-Log.png 1103w, ../../../wp-content/uploads/2016/05/Actiovation-Log-300x71.png 300w, ../../../wp-content/uploads/2016/05/Actiovation-Log-768x182.png 768w, ../../../wp-content/uploads/2016/05/Actiovation-Log-1024x243.png 1024w" sizes="(max-width: 1103px) 100vw, 1103px"></a><p id="caption-attachment-2981" class="wp-caption-text">Журнал активации Eclipse</p></div>
<p>Далее зажав Ctrl щелкаете по журналу, где уже будет более развернутая информация, по которой Вы сможете понять суть ошибки.</p>
<h2>Работа с CDS Role</h2>
<p>&nbsp;</p>
<p>Как уже было упомянуто ранее, CDS в ABAP 7.4 представлено двумя основными сущностями – CDS View и CDS Role. CDS View описывают модели данных, CDS Role определяют полномочия на доступ к этим моделям.</p>
<p>Статья на тему того как <a href="../../../2015/12/07/abap-news-for-release-750-abap-cds-access-control/index.htm">работает</a> данный функционал. Обратите внимание, что в ABAP 7.4 оно работает только с определённой версии SP.</p>
<h2>Источники</h2>
<p>&nbsp;</p>
<p>На SCN есть сборный <a href="../../../2016/02/01/getting-started-with-abap-core-data-services/index.htm">документ</a>, включающий в себя подробное описание CDS. Кроме него есть еще очень <a href="../../../2015/02/02/core-data-services-cds-abap-feature-matrix/index.htm">любопытный документ</a>, где собраны все возможности CDS в рамках версий систем, позволяющий понять, что можно использовать на вашей версии.</p>
<p>Курсы от SAP в которых рассматриваются ABAP CDS:</p>
<ul>
<li>HA400</li>
<li>S4H410.</li>
</ul>
							</div>
		<div class="tags-links"><a href="../../../tag/adt/index.htm" rel="tag">adt</a> <a href="../../../tag/alv/index.htm" rel="tag">ALV</a> <a href="../../../tag/cds/index.htm" rel="tag">cds</a> <a href="../../../tag/ida/index.htm" rel="tag">ida</a></div></article>
	
	<nav class="navigation post-navigation" role="navigation" aria-label="Записи">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../../kak-uchit-abap/index.htm" rel="prev"><span class="meta-nav" aria-hidden="true">Назад</span> <span class="screen-reader-text">Предыдущая запись:</span> <span class="post-title">Как учить ABAP?</span></a></div><div class="nav-next"><a href="../../../database-work/abap-managed-database-procedures-amdp/index.htm" rel="next"><span class="meta-nav" aria-hidden="true">Далее</span> <span class="screen-reader-text">Следующая запись:</span> <span class="post-title">ABAP Managed Database Procedures (AMDP)</span></a></div></div>
	</nav>

<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			<span itemprop="interactionCount">1</span> комментарий  		</h2>

		<ol class="comment-list">
					<li id="comment-17745" class="comment even thread-even depth-1">
			<article id="div-comment-17745" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../../avatar/1d4cf7776b8978fac9856bc8fbbd0e95.png?s=80&#038;d=retro&#038;r=g' srcset='../../../avatar/1d4cf7776b8978fac9856bc8fbbd0e95-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Kostik Kuznetsoff</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17745"><time datetime="2016-11-10T12:34:00+04:00">10.11.2016 в 12:34</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Очень интересно и полезно, спасибо.<br>
Я так понимаю на производительности программ и выборок это никак не скажется, но сам процесс написания выборок упрощается, а так же есть возможность использовать одни и те же выборки для разных программ. Смущает конечно использование Eclipse у меня на компе при соединении с SAP  он жутко тормозит 🙂</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-1.htm?replytocom=17745#respond' data-commentid="17745" data-postid="2952" data-belowelement="div-comment-17745" data-respondelement="respond" data-replyto="Комментарий к записи Kostik Kuznetsoff" aria-label='Комментарий к записи Kostik Kuznetsoff'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		</ol>

		
		
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Добавить комментарий <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.htm#respond" style="display:none;">Отменить ответ</a></small></h3><form action="https://abap-blog.ru/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Ваш адрес email не будет опубликован.</span></p><p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Имя</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245"></p>
<div class="anr_captcha_field"><div id="anr_captcha_field_1" class="anr_captcha_field_div"></div></div><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Отправить комментарий"> <input type='hidden' name='comment_post_ID' value='2952' id='comment_post_ID'>
<input type='hidden' name='comment_parent' id='comment_parent' value='0'>
</p></form>	</div><!-- #respond -->
	
	
</div>

			</div>
							</div>
					</div>
	</div>
</div>
<script type='text/javascript' id='contact-form-7-js-extra'>
/* <![CDATA[ */
var wpcf7 = {"api":{"root":"https:\/\/abap-blog.ru\/wp-json\/","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script src='../../../wp-content/plugins/contact-form-7/includes/js/index.js?ver=5.5.1' id='contact-form-7-js'></script>
<script src='../../../wp-includes/js/jquery/ui/effect.min.js?ver=1.12.1' id='jquery-effects-core-js'></script>
<script src='../../../wp-includes/js/jquery/ui/effect-slide.min.js?ver=1.12.1' id='jquery-effects-slide-js'></script>
<script src='../../../wp-includes/js/jquery/ui/effect-highlight.min.js?ver=1.12.1' id='jquery-effects-highlight-js'></script>
<script src='../../../wp-includes/js/jquery/ui/effect-fold.min.js?ver=1.12.1' id='jquery-effects-fold-js'></script>
<script src='../../../wp-includes/js/jquery/ui/effect-blind.min.js?ver=1.12.1' id='jquery-effects-blind-js'></script>
<script src='../../../wp-content/plugins/show-hidecollapse-expand/assets/js/bg-show-hide.js?ver=5.8.1' id='bg-show-hide-script-js'></script>
<script src='../../../wp-includes/js/comment-reply.min.js?ver=5.8.1' id='comment-reply-js'></script>
<script src='../../../wp-content/plugins/dynamic-to-top/js/libs/jquery.easing.js?ver=1.3' id='jquery-easing-js'></script>
<script type='text/javascript' id='dynamic-to-top-js-extra'>
/* <![CDATA[ */
var mv_dynamic_to_top = {"text":"To Top","version":"0","min":"300","speed":"1100","easing":"easeInExpo","margin":"20"};
/* ]]> */
</script>
<script src='../../../wp-content/plugins/dynamic-to-top/js/dynamic.to.top.min.js?ver=3.5' id='dynamic-to-top-js'></script>
<script src='../../../recaptcha/api.js?render=6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC&#038;ver=3.0' id='google-recaptcha-js'></script>
<script type='text/javascript' id='wpcf7-recaptcha-js-extra'>
/* <![CDATA[ */
var wpcf7_recaptcha = {"sitekey":"6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC","actions":{"homepage":"homepage","contactform":"contactform"}};
/* ]]> */
</script>
<script src='../../../wp-content/plugins/contact-form-7/modules/recaptcha/index.js?ver=5.5.1' id='wpcf7-recaptcha-js'></script>
<script src='../../../wp-includes/js/wp-embed.min.js?ver=5.8.1' id='wp-embed-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/client/js/prod/lib.core.js?ver=2.8.1' id='slb_core-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/client/js/prod/lib.view.js?ver=2.8.1' id='slb_view-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/themes/baseline/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_baseline-base-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/themes/default/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_default-base-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/template-tags/item/js/prod/tag.item.js?ver=2.8.1' id='slb-asset-item-base-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/template-tags/ui/js/prod/tag.ui.js?ver=2.8.1' id='slb-asset-ui-base-js'></script>
<script src='../../../wp-content/plugins/simple-lightbox/content-handlers/image/js/prod/handler.image.js?ver=2.8.1' id='slb-asset-image-base-js'></script>
<script type="text/javascript" id="slb_footer">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB && SLB.has_child('View.init') ) { SLB.View.init({"ui_autofit":true,"ui_animate":true,"slideshow_autostart":false,"slideshow_duration":"6","group_loop":true,"ui_overlay_opacity":"0.8","ui_title_default":false,"theme_default":"slb_default","ui_labels":{"loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","nav_next":"\u0412\u043f\u0435\u0440\u0435\u0434","nav_prev":"\u041d\u0430\u0437\u0430\u0434","slideshow_start":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","slideshow_stop":"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","group_status":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 %current%  \u0438\u0437 %total%"}}); }
if ( !!window.SLB && SLB.has_child('View.assets') ) { {$.extend(SLB.View.assets, {"1194974804":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/Untitled-Diagram-1.png"},"1968455467":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/CreateDDL.png"},"1406398654":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/DDLDefenition.png"},"2019475248":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/CDSTemplate.png"},"1350415294":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/DefineTemplate.png"},"1686311275":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/GraphicalCDSEditor.png"},"654083249":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/TADIRObjects.png"},"1862263247":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/DBView.png"},"95513949":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/MenuDBView.png"},"95290192":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/ViewONDB.png"},"914588663":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/DataView.png"},"1818155052":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/AssosiationsView.png"},"1894090319":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/ViewFromConsole.png"},"519297318":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/JoinWithNull.png"},"1932874920":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/JOINSelect.png"},"1629069361":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/JOINFrom.png"},"614263840":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/filterCDS.png"},"1978335672":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/CompareFilter.png"},"312919465":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/CompareFilterOn.png"},"564325654":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/WarningParameter.png"},"2109503133":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/IDATrace.png"},"2089152043":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/ExtensionResult.png"},"310645193":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2016\/05\/Actiovation-Log.png"}});} }
/* THM */
if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_baseline',{"name":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043b\u0438\u043d\u0438\u044f","parent":"","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/baseline\/css\/style.css","deps":[]}],"layout_raw":"<div class=\"slb_container\"><div class=\"slb_content\">{{item.content}}<div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><div class=\"slb_controls\"><span class=\"slb_close\">{{ui.close}}<\/span><span class=\"slb_slideshow\">{{ui.slideshow_control}}<\/span><\/div><div class=\"slb_loading\">{{ui.loading}}<\/div><\/div><div class=\"slb_details\"><div class=\"inner\"><div class=\"slb_data\"><div class=\"slb_data_content\"><span class=\"slb_data_title\">{{item.title}}<\/span><span class=\"slb_group_status\">{{ui.group_status}}<\/span><div class=\"slb_data_desc\">{{item.description}}<\/div><\/div><\/div><div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><\/div><\/div><\/div>"}); }if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_default',{"name":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0441\u0432\u0435\u0442\u043b\u044b\u0439)","parent":"slb_baseline","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/default\/css\/style.css","deps":[]}]}); }})})(jQuery);}/* ]]> */</script>
<script type="text/javascript" id="slb_context">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB ) { {$.extend(SLB, {"context":["public","user_guest"]});} }})})(jQuery);}/* ]]> */</script>
			<script type="text/javascript">
				var anr_onloadCallback = function() {
					for ( var i = 0; i < document.forms.length; i++ ) {
						var form = document.forms[i];
						var captcha_div = form.querySelector( '.anr_captcha_field_div' );

						if ( null === captcha_div )
							continue;
						captcha_div.innerHTML = '';
						( function( form ) {
							var anr_captcha = grecaptcha.render( captcha_div,{
								'sitekey' : '6LfmhbAaAAAAABBrfPpMngzFHB6qZ4ATxXd3rvOR',
								'size'  : 'normal',
								'theme' : 'light'
							});
							if ( typeof jQuery !== 'undefined' ) {
								jQuery( document.body ).on( 'checkout_error', function(){
									grecaptcha.reset(anr_captcha);
								});
							}
							if ( typeof wpcf7 !== 'undefined' ) {
								document.addEventListener( 'wpcf7submit', function() {
									grecaptcha.reset(anr_captcha);
								}, false );
							}
						})(form);
					}
				};
			</script>
						<script src="../../../recaptcha/api-1.js?onload=anr_onloadCallback&#038;render=explicit" async="" defer="">
			</script>
			</body>
</html>
