<!DOCTYPE html>
<html lang="ru-RU" id="html">
<head>
		<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="../../xfn/11.html">
	<link rel="pingback" href="https://abap-blog.ru/xmlrpc.php">
	<title>ABAP Blog | ABAP Object Services – Transaction Service</title>

		<!-- All in One SEO 4.1.4.4 -->
		<meta name="description" content="Transaction Service - инструмент позволяющий контролировать транзакции при обработке хранимых объектов.">
		<meta name="robots" content="max-image-preview:large">
		<meta name="keywords" content="abap objects services,transaction services,работа с бд">
		<link rel="canonical" href="index.htm">
		<script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"https:\/\/abap-blog.ru\/#website","url":"https:\/\/abap-blog.ru\/","name":"ABAP Blog","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445 \u043e\u0442 SAP","inLanguage":"ru-RU","publisher":{"@id":"https:\/\/abap-blog.ru\/#person"}},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/#person","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#personImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"BreadcrumbList","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/","name":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 SAP \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445: ABAP, HANA, UI5, OData, Fiori.","url":"https:\/\/abap-blog.ru\/"},"nextItem":"https:\/\/abap-blog.ru\/database-work\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/database-work\/#listItem","position":2,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/database-work\/","name":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0411\u0414","description":"Transaction Service - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.","url":"https:\/\/abap-blog.ru\/database-work\/"},"nextItem":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#listItem","previousItem":"https:\/\/abap-blog.ru\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#listItem","position":3,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/","name":"ABAP Object Services \u2013 Transaction Service","description":"Transaction Service - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.","url":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/"},"previousItem":"https:\/\/abap-blog.ru\/database-work\/#listItem"}]},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/author\/admin\/#author","url":"https:\/\/abap-blog.ru\/author\/admin\/","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#webpage","url":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/","name":"ABAP Blog | ABAP Object Services \u2013 Transaction Service","description":"Transaction Service - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.","inLanguage":"ru-RU","isPartOf":{"@id":"https:\/\/abap-blog.ru\/#website"},"breadcrumb":{"@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#breadcrumblist"},"author":"https:\/\/abap-blog.ru\/author\/admin\/#author","creator":"https:\/\/abap-blog.ru\/author\/admin\/#author","datePublished":"2014-05-31T19:21:22+04:00","dateModified":"2021-03-02T06:10:47+04:00"},{"@type":"Article","@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#article","name":"ABAP Blog | ABAP Object Services \u2013 Transaction Service","description":"Transaction Service - \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432.","inLanguage":"ru-RU","headline":"ABAP Object Services \u2013 Transaction Service","author":{"@id":"https:\/\/abap-blog.ru\/author\/admin\/#author"},"publisher":{"@id":"https:\/\/abap-blog.ru\/#person"},"datePublished":"2014-05-31T19:21:22+04:00","dateModified":"2021-03-02T06:10:47+04:00","articleSection":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0411\u0414, abap objects services, transaction services","mainEntityOfPage":{"@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#webpage"},"isPartOf":{"@id":"https:\/\/abap-blog.ru\/database-work\/abap-object-services-transaction-service\/#webpage"},"image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/#articleImage","url":"https:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/database.png","width":380,"height":285}}]}
		</script>
		<script type="text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-150412824-1", { 'cookieDomain': 'abap-blog.ru' } );
			ga('require', 'outboundLinkTracker');
			ga('send', 'pageview');
		</script>
		<script async="" src="../../analytics.js"></script>
		<script async="" src="../../wp-content/plugins/all-in-one-seo-pack/app/Common/Assets/js/autotrack.js?ver=4.1.4.4"></script>
		<!-- All in One SEO -->

<link rel='dns-prefetch' href='../../index-1.htm'>
<link rel='dns-prefetch' href='//fonts.googleapis.com'>
<link rel='dns-prefetch' href='../../index-2.htm'>
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента" href="../../feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев" href="../../comments/feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев к &laquo;ABAP Object Services – Transaction Service&raquo;" href="feed/index.htm.rss">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/abap-blog.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.1"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='urvanov_syntax_highlighter-css' href='../../wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-theme-abapblog-css' href='../../wp-content/uploads/urvanov-syntax-highlighter/themes/abapblog/abapblog.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-font-monospace-css' href='../../wp-content/plugins/urvanov-syntax-highlighter/fonts/monospace.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='wp-block-library-css' href='../../wp-includes/css/dist/block-library/style.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='arve-main-css' href='../../wp-content/plugins/advanced-responsive-video-embedder/build/main.css?ver=b809f4d4c33c91a5ae3a5099af09bdde' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='../../wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.5.1' media='all'>
<link rel='stylesheet' id='bg-shce-genericons-css' href='../../wp-content/plugins/show-hidecollapse-expand/assets/css/genericons/genericons.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='bg-show-hide-css' href='../../wp-content/plugins/show-hidecollapse-expand/assets/css/bg-show-hide.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='dashicons-css' href='../../wp-includes/css/dashicons.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='tooltip-css' href='../../wp-content/plugins/wp-poll/assets/tool-tip.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-cb-css' href='../../wp-content/plugins/wp-poll/assets/front/css/checkbox.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-css' href='../../wp-content/plugins/wp-poll/assets/front/css/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='flat-fonts-css' href='../../css.css?family=Lobster%7CRoboto:400,700%7CRoboto+Slab%7CRoboto%20Condensed' media='all'>
<link rel='stylesheet' id='flat-theme-css' href='../../wp-content/themes/flat/assets/css/flat.css?ver=1.7.11' media='all'>
<link rel='stylesheet' id='flat-style-css' href='../../wp-content/themes/flat/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='slb_core-css' href='../../wp-content/plugins/simple-lightbox/client/css/app.css?ver=2.8.1' media='all'>
<link rel='stylesheet' id='decent-comments-widget-css' href='../../wp-content/plugins/decent-comments/css/decent-comments-widget.css' media='all'>
<script src='../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.22","is_admin":"0","ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 %s \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, %s \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.22' id='urvanov_syntax_highlighter_js-js'></script>
<script src='../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script src='../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script async="async" src='../../wp-content/plugins/advanced-responsive-video-embedder/build/main.js?ver=b809f4d4c33c91a5ae3a5099af09bdde' id='arve-main-js'></script>
<script src='../../wp-content/plugins/wp-poll/assets/front/js/svgcheckbx.js?ver=5.8.1' id='wpp-front-cb-js'></script>
<script type='text/javascript' id='wpp-front-js-extra'>
/* <![CDATA[ */
var wpp_object = {"ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","copyText":"Copied !","voteText":"Vote(s)","tempProDownload":"https:\/\/pluginbazar.com\/my-account\/downloads\/","tempProDownloadTxt":"Download Version 1.1.0"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/wp-poll/assets/front/js/scripts.js?ver=5.8.1' id='wpp-front-js'></script>
<script src='../../wp-content/themes/flat/assets/js/flat.js?ver=1.7.11' id='flat-js-js'></script>
<!--[if lt IE 9]>
<script src='https://abap-blog.ru/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2' id='html5shiv-js'></script>
<![endif]-->
<link rel="https://api.w.org/" href="../../wp-json/index.htm.json"><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/2051.json"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.8.1">
<link rel='shortlink' href='index.htm?p=2051'>
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-325.json?url=https%3A%2F%2Fabap-blog.ru%2Fdatabase-work%2Fabap-object-services-transaction-service%2F">
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-325.xml?url=https%3A%2F%2Fabap-blog.ru%2Fdatabase-work%2Fabap-object-services-transaction-service%2F&#038;format=xml">

<!-- WP Youtube Player 1.7 by unijimpe -->
<style type="text/css">#page:before, .sidebar-offcanvas, #secondary { background-color: #272727; }@media (max-width: 1199px) { #page &gt; .container { background-color: #272727; } }body { background-size: initial; }</style><style type="text/css">#masthead .site-title {font-family:Lobster}body {font-family:Roboto }h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style><style type="text/css" media="screen">body{position:relative}#dynamic-to-top{display:none;overflow:hidden;width:auto;z-index:90;position:fixed;bottom:20px;right:20px;top:auto;left:auto;font-family:sans-serif;font-size:1em;color:#fff;text-decoration:none;text-shadow:0 1px 0 #333;font-weight:bold;padding:17px 16px;border:2px solid #000;background:#4c5055;-webkit-background-origin:border;-moz-background-origin:border;-icab-background-origin:border;-khtml-background-origin:border;-o-background-origin:border;background-origin:border;-webkit-background-clip:padding-box;-moz-background-clip:padding-box;-icab-background-clip:padding-box;-khtml-background-clip:padding-box;-o-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-ms-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-moz-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-o-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-khtml-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-icab-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-webkit-border-radius:30px;-moz-border-radius:30px;-icab-border-radius:30px;-khtml-border-radius:30px;border-radius:30px}#dynamic-to-top:hover{background:#4fd650;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 255, 255, 255, .2 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );cursor:pointer}#dynamic-to-top:active{background:#4c5055;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 0, 0, 0, .3 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) )}#dynamic-to-top,#dynamic-to-top:active,#dynamic-to-top:focus,#dynamic-to-top:hover{outline:none}#dynamic-to-top span{display:block;overflow:hidden;width:14px;height:12px;background:url( ../../wp-content/plugins/dynamic-to-top/css/images/up.png )no-repeat center center}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("../../wp-content/uploads/2014/10/escheresque_ste.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
		</head>

<body class="post-template-default single single-post postid-2051 single-format-standard custom-background" itemscope="" itemtype="http://schema.org/WebPage">
		<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left" style="background: #272727;">			
			
			<div id="secondary1" class="col-lg-t" style="background: #272727; display:none">
								<header id="masthead1" class="site-headerex" role="banner">
										<div class="hgroupex">
						<h1 class="site-title display-title"><a href="../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
									</header>
							</div>


			<div id="secondary" class="col-lg-3" style="display:block">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-glavnoe-menyu" class="nav-menu"><li id="menu-item-2313" class="fa fa-home menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-2313"><a href="../../index.htm">Главная</a>
<ul class="sub-menu">
	<li id="menu-item-2363" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2363"><a href="../../category/osnovy-abap/index.htm">Основы ABAP</a>
	<ul class="sub-menu">
		<li id="menu-item-2906" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2906"><a href="../../category/osnovy-abap/oop/index.htm">ABAP Objects</a></li>
		<li id="menu-item-2370" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2370"><a href="../../category/osnovy-abap/slovar/index.htm">ABAP Словарь</a></li>
		<li id="menu-item-2367" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2367"><a href="../../category/osnovy-abap/files/index.htm">Работа с файлами</a></li>
		<li id="menu-item-2364" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2364"><a href="../../category/osnovy-abap/sap-dynpro/index.htm">SAP Dynpro</a></li>
		<li id="menu-item-6845" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6845"><a href="../../category/osnovy-abap/vnutrennie-tablicy/index.htm">Внутренние таблицы</a></li>
		<li id="menu-item-6849" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6849"><a href="../../category/osnovy-abap/dinamicheskoe-programmirovanie/index.htm">Динамическое программирование</a></li>
	</ul>
</li>
	<li id="menu-item-2366" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-2366"><a href="../../category/database-work/index.htm">Работа с БД</a>
	<ul class="sub-menu">
		<li id="menu-item-7303" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7303"><a href="../../category/hana/index.htm">HANA</a></li>
	</ul>
</li>
	<li id="menu-item-2368" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2368"><a href="../../category/network/index.htm">Сетевые технологии</a>
	<ul class="sub-menu">
		<li id="menu-item-6328" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6328"><a href="../../category/network/ui5fiori/index.htm">UI5 &amp; Fiori</a></li>
		<li id="menu-item-6327" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6327"><a href="../../category/network/odata-network/index.htm">OData</a></li>
		<li id="menu-item-2907" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2907"><a href="../../category/network/web-dynpro/index.htm">Web Dynpro</a></li>
	</ul>
</li>
	<li id="menu-item-2369" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2369"><a href="../../category/enhancements/index.htm">Расширения</a></li>
	<li id="menu-item-6329" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6329"><a href="../../category/abap-cloud/index.htm">ABAP Cloud</a></li>
	<li id="menu-item-2365" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2365"><a href="../../category/others/index.htm">Прочее</a></li>
</ul>
</li>
<li id="menu-item-3536" class="fa fa-bell menu-item menu-item-type-post_type menu-item-object-page menu-item-3536"><a href="../../abap-the-best-practice/index.htm">ABAP Best Practice</a></li>
<li id="menu-item-3727" class="fa fa-child menu-item menu-item-type-post_type menu-item-object-page menu-item-3727"><a href="../../vakansii/index.htm">Вакансии ABAP</a></li>
<li id="menu-item-3885" class="fa fa-bookmark menu-item menu-item-type-post_type menu-item-object-page menu-item-3885"><a href="../../abap-notes/index.htm">Быстрые заметки</a></li>
<li id="menu-item-2316" class="fa fa-info-circle menu-item menu-item-type-post_type menu-item-object-page menu-item-2316"><a href="../../about/index.htm">Обо мне</a></li>
</ul>					</nav>
									</header>
				
				<div class="sidebar-offcanvas">
<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="search-2" class="widget widget_search">
	<form method="get" id="searchform" action="https://abap-blog.ru/">
		<label for="s" class="assistive-text">Поиск</label>
		<input type="text" class="field" name="s" id="s" placeholder="Поиск">
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Поиск">
	</form>
					</aside>
					<aside id="linkcat-2" class="widget widget_links">
						<h3 class='widget-title'>Ссылки</h3>

	<ul class='xoxo blogroll'>
<li><a href="../../topics/abap.html" target="_blank">ABAP Community</a></li>
<li><a href="../../wiki/display/ABAP/ABAP Development.html" title="Wiki по ABAP" target="_blank">ABAP Development Wiki</a></li>
<li><a href="../../doc/abapdocu_latest_index_htm/latest/en-US/index.htm" title="Последняя версия справки по ABAP" target="_blank">ABAP Help</a></li>
<li><a href="../../doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm" target="_blank">ABAP Help (Cloud)</a></li>
<li><a href="../../learning-journeys/overview.html?role=Developer" target="_blank">Developer Learning Journeys</a></li>
<li><a href="../../index-3.htm" target="_blank">Open Source Projects</a></li>
<li><a href="../../tutorial-navigator.html" target="_blank">SAP Tutorials</a></li>
<li><a href="https://t.me/abapblog" target="_blank"><img src="../../wp-content/uploads/2020/04/telegram-1.png" alt="Канал в Telegram"> Канал в Telegram</a></li>

	</ul>
					</aside>

					<aside id="endo_wrc_widget-2" class="widget widget_endo_wrc_widget">
						<h3 class='widget-title'>Цитаты</h3>
<p>«Делай. Или не делай. Не надо пытаться».<br>
<strong>Йода</strong></p>
					</aside>
								<aside id="custom-post-type-recent-posts-3" class="widget widget_recent_entries">
						<h3 class='widget-title'>Новое</h3>
			<ul>
													<li>
										<a href="../../abap-notes/poluchenie-instancii-cl_gui_alv_grid-dlya-salv/index.htm">Получение инстанции cl_gui_alv_grid для SALV</a>
											<span class="post-date">11.09.2021</span>
														</li>
													<li>
										<a href="../../abap-cloud/introduction-to-abap-in-the-cloud/index.htm">Introduction to ABAP in the Cloud</a>
											<span class="post-date">18.08.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/getting-started-with-fpm-bopf-integration/index.htm">Getting Started with FPM BOPF Integration</a>
											<span class="post-date">01.06.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/how-to-use-authority-checks-in-business-object-processing-framework/index.htm">30. How to Use Authority Checks in Business Object Processing Framework</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-extensibility/index.htm">29. BOPF Extensibility</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-enterprise-procurement-model-epm/index.htm">28. BOPF Enterprise Procurement Model (EPM)</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-integration/index.htm">27. BOPF Integration</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-business-configuration-objects/index.htm">26. BOPF Business Configuration Objects</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-performance/index.htm">25. BOPF Performance</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-supportability/index.htm">24. BOPF Supportability</a>
											<span class="post-date">29.05.2021</span>
														</li>
							</ul>
								</aside>
					<aside id="decent_comments_widget-2" class="widget widget_decent_comments_widget">
						<h3 class='widget-title'>Последние комментарии</h3>
<div class="decent-comments"><ul><li><div class="comment"><span class="comment-author">Николай</span><span class="comment-date"> 27.10.2021 в 15:19</span><span class="comment-link"> на <a href="../../osnovy-abap/internal-table-as-data-source-select/index.htm#comment-17857">Внутренние таблицы как источник в SQL запросах</a></span><span class="comment-excerpt">Спасибо за статью. Если нужно сделать агрегацию внутренней таблицы то агрегация через передачу во временную таблицу на БД тоже будет работать медленней чем через loop/collect? Например таблица 100к записей, которая становится 5к после агрегации. </span></div></li><li><div class="comment"><span class="comment-author">Аноним</span><span class="comment-date"> 14.10.2021 в 13:50</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17856">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Так поведение Decorator не надо будет повторно описывать повторно в других Component. Но это возможно при изменении типа mo_component, например, на object. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 11.10.2021 в 06:50</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17854">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет:) Возможно, я не так выразил мысль. Я имел ввиду, какая ценность от класса Decorator, если можно декорировать поведение от Component и от него же наследовать конкретные декораторы? (см. первую UML диаграмму) </span></div></li><li><div class="comment"><span class="comment-author">Astrafox</span><span class="comment-date"> 10.10.2021 в 12:39</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17853">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет! Можно и так, однако конкретный компонент может иметь более широкий интерфейс, нежели тот, что нужен в декораторах. Тут скорее пример не совсем удачный, декорируемое поведение лучше вынести в отдельный интерфейс, реализуемый как компонентом, так и декораторами. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 04.10.2021 в 12:51</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17850">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">А какую роль играет базовый класс декоратора lcl_decorator? Что мешает конкретные декораторы наследовать от компонента lcl_concrete_component? Клиентский код и логика выполнения не поменяется. </span></div></li></ul></div>					</aside>
											</div>
				</div>
			</div>

						<div id="primary" class="content-area col-lg-9" itemprop="mainContentOfPage" style="">
							<div id="content" class="site-content" role="main" itemscope="" itemtype="http://schema.org/Article">
			<article id="post-2051" class="post-2051 post type-post status-publish format-standard hentry category-database-work tag-abap-objects-services tag-transaction-services">
	<header class="entry-header">
		<h1 class="entry-title" itemprop="name">ABAP Object Services – Transaction Service</h1>
							<div class="entry-meta"><span class="entry-date"><a href="index.htm" rel="bookmark"><time class="entry-date published" datetime="2014-05-31T23:21:22+04:00" itemprop="datepublished">31.05.2014</time></a></span> от <span class="author vcard" itemscope="" itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="../../author/admin/index.htm" rel="author" itemprop="url"><span itemprop="name">Astrafox</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="index.htm#respond" itemprop="discussionUrl">Нет комментариев</a></span></div>
			</header>
		
	
	<div class="entry-content" itemprop="articleBody">
				<p><a href="../../wp-content/uploads/2014/05/database.png" data-slb-active="1" data-slb-asset="801656852" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignleft wp-image-2068 " src="../../wp-content/uploads/2014/05/database.png" alt="database" width="305" height="229" srcset="../../wp-content/uploads/2014/05/database.png 380w, ../../wp-content/uploads/2014/05/database-300x225.png 300w" sizes="(max-width: 305px) 100vw, 305px"></a>Инструмент обработки транзакций позволяет разработчику контролировать процессы записи изменений из хранимых объектах в базу данных.</p>
<p>Transaction Service основан на <a href="../programmirovanie-obnovlenij-bd-v-r3/index.htm">классической схеме обновления данных</a>, с небольшими дополнениями. Используя TS нет необходимости ручного вызова модулей обновлений. Кроме того, TS вводит такое понятие как ООП транзакция.<span id="more-2051"></span></p>
<h3>Компоненты Transaction Service</h3>
<p>Рассмотрим используемые в TS компоненты. Сама по себе ООП транзакция это ссылка на объект, созданный с помощью менеджера транзакций.</p>
<p><a href="../../wp-content/uploads/2014/05/tscomponents.gif" data-slb-active="1" data-slb-asset="354083227" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2052" src="../../wp-content/uploads/2014/05/tscomponents.gif" alt="tscomponents" width="651" height="757"></a></p>
<h4>Методы системного класса <strong>CL_OS_SYSTEM</strong></h4>
<p><strong>GET_</strong><strong>TRANSACTION_</strong><strong>MANAGER</strong>(). Используется для получения ссылки на менеджер транзакций. Пример:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0ca3aff7c694929418" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff7c694929418-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-2"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">REF</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>if<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-3"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>transaction<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">REF</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>if<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>transaction<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-4">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-5">go<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>cl<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>system<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">get_transaction_manager</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-6">go<span class="crayon-sy">_</span>transaction<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>go<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">create_transaction</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-7">go<span class="crayon-sy">_</span>transaction<span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">start</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-8"><span class="crayon-c">" .. Операции над PS объектами</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff7c694929418-9">go<span class="crayon-sy">_</span>transaction<span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">end</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span><span class="crayon-h"> </span><span class="crayon-c">" Завершаем транзакцию = COMMIT WORK</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p><strong>INIT_</strong><strong>AND_</strong><strong>SET_</strong><strong>MODES</strong>. Инициализация и установка режима для транзакций верхнего уровня. Метод вызывается всего один раз для каждой программы (явно или неявно), если вызвать повторно приведет к ошибке. Если вы хотите переопределить настройки режимов, вызывать данный метод необходимо в самом начале программы, до обращения к другим сервисам ABAP Objects.  Обычно вызывается в LOAD-OF-PROGRAM или конструкторе класса приложения (Для <strong>Web</strong><strong>Dynpro</strong> приложений в <strong>WDDOINIT</strong>) . Описание режимов даётся далее.</p>
<p><strong>Обратите внимание на возможную ошибку при использовании данного метода</strong>:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0ca3aff93120761258" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff93120761258-10">10</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-2"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>sflight<span class="crayon-sy">_</span>agent<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">REF</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>zca<span class="crayon-sy">_</span>sflight<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-4">cl<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>system<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">init_and_set_modes</span><span class="crayon-o">(</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-5"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span>i<span class="crayon-sy">_</span>external<span class="crayon-sy">_</span>commit<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">oscon_true</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-7"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span>i<span class="crayon-sy">_</span>update<span class="crayon-sy">_</span>mode<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>oscon<span class="crayon-sy">_</span>dmode<span class="crayon-sy">_</span>update<span class="crayon-sy">_</span>task</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-8"><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff93120761258-10">go<span class="crayon-sy">_</span>sflight<span class="crayon-sy">_</span>agent<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>zca<span class="crayon-sy">_</span>sflight<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span>agent<span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>Агент класса получаем через статический атрибут, среда выполнения запускает статический конструктор в начале блока обработки, т.е. перед вызовом метода <strong>INIT_</strong><strong>AND_</strong><strong>SET_</strong><strong>MODES</strong>, что приведет к ошибке. Правильный вызов:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0ca3aff97413492933" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3aff97413492933-13">13</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-2"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>sflight<span class="crayon-sy">_</span>agent<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">REF</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>zca<span class="crayon-sy">_</span>sflight<span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-4"><span class="crayon-m">LOAD-OF-PROGRAM</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-5"><span class="crayon-h">&nbsp;&nbsp;</span>cl<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>system<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">init_and_set_modes</span><span class="crayon-o">(</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">EXPORTING</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>i<span class="crayon-sy">_</span>external<span class="crayon-sy">_</span>commit<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">oscon_true</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-8"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>i<span class="crayon-sy">_</span>update<span class="crayon-sy">_</span>mode<span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span>oscon<span class="crayon-sy">_</span>dmode<span class="crayon-sy">_</span>update<span class="crayon-sy">_</span>task</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-9"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-10">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-11"><span class="crayon-m">START-OF-SELECTION</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-12">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3aff97413492933-13"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>sflight<span class="crayon-sy">_</span>agent<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>zca<span class="crayon-sy">_</span>sflight<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-o">&gt;</span>agent<span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p><strong>GET_</strong><strong>CLASS_</strong><strong>AGENT. </strong>Относительно имени класса получает ссылку на агент класса.</p>
<p><strong>GET_CLASS_AGENT_INFO. </strong>Получение информации об агенте класса, структура &#8212; OSTYP_CA_INFO.</p>
<h3></h3>
<h4>Атрибуты класса <strong>CL_</strong><strong>OS_</strong><strong>SYSTEM</strong></h4>
<p><strong>ACTIVE_CLASS_AGENT</strong>. Внутренняя таблица со всеми инициализированными агентами хранимых классов в рамках текущей внутренней сессии.<br>
<strong>EXTERNAL_COMMIT</strong>. Режим транзакции.<br>
<strong>INIT_</strong><strong>STATE</strong>. Состояние инициализации Object Services, если 0 значит Object Services не инициализирован, во время инициализации статус 1, после 2.</p>
<p>&nbsp;</p>
<h4>Методы менеджера транзакций (класса, реализующий интерфейс <strong>IF_OS_TRANSACTION_MANAGER</strong>)</h4>
<p><strong>IF_OS_TRANSACTION_MANAGER~CREATE_TRANSACTION. </strong>Создаёт новую транзакцию и возвращает в качестве результата объект класса, реализующего интерфейс &#8212; <strong>IF_OS_TRANSACTION</strong>.</p>
<p><strong>IF_OS_TRANSACTION_MANAGER~GET_CURRENT_TRANSACTION. </strong>Получение объекта текущей транзакции.</p>
<p><strong>IF_OS_TRANSACTION_MANAGER~GET_TOP_TRANSACTION. </strong>Получение объекта на транзакцию верхнего уровня.</p>
<p>&nbsp;</p>
<h4>Методы транзакций (класса, реализующего интерфейс <strong>IF_OS_TRANSACTION</strong>)</h4>
<p><strong>IF_OS_TRANSACTION~START</strong>. Начинает транзакцию, если нет транзакции верхнего уровня, стартует транзакция верхнего уровня, иначе вложенная транзакция. Нельзя запускать вложенную транзакцию, если предыдущая вложенная транзакция не была завершена. Данный метод вызывается только для транзакций со статусом <strong>OSCON_TSTATUS_NEW</strong>. Метод вызывается только один раз для транзакции. <strong>После завершения транзакции нельзя снова начать транзакцию, необходимо создать новую транзакцию (через менеджер транзакций), </strong>можно использовать ту же ссылочную переменную<strong>.</strong></p>
<p><strong>IF_OS_TRANSACTION~END. </strong>Завершает транзакцию. Если транзакция верхнего уровня в ООП режиме, будет неявно вызван COMMIT WORK, что повлечет за собой вызов модуля обновления (CALL FUNCTION IN UPDATE TASK) и обновление хранимых объектов. Таким образом, после обращения к обновленному хранимому объекту, он вновь будет загружен из БД. Если по какой-либо причине завершение транзакции не удалось, статус транзакции останется тем, что был до вызова метода (<strong>OSCON_TSTATUS_RUNNING</strong>), разработчик должен решить, что ему делать с транзакцией.</p>
<p><strong>IF_OS_TRANSACTION~UNDO</strong>. Завершает транзакцию. Изменения, сделанные в рамках текущей транзакции, откатываются на то состояние, в котором были объекты до старта транзакции. Если транзакция является транзакцией верхнего уровня в ООП режиме, будет неявно вызван ROLLBACK WORK. <strong>Механизм возврата отключен по умолчанию для неявно созданной транзакции верхнего уровня в режиме совместимости, т.к. система не может определить начальное состояние объектов (методы </strong><strong>START, </strong><strong>END не вызываются) Механизм возврата не возвращает в первоначальное состояние следующие объекты: Атрибуты обычных </strong><strong>ABAP объектов, статические атрибуты, временные объекты, данные вне класса – внутренние таблицы, структуры и пр. Можно переопределить механизм возврата, расширив его на перечисленные объекты.</strong> Изменения в объектах фиксируются и обрабатываются агентом хранимого класса, у каждого из хранимых объектов есть события для уведомления агента об изменениях. Для сохранения состояния хранимого объекта и возвращения его состояния используются методы SET(GET) интерфейса IF_OS_STATE, структура этих методов основана на шаблоне проектирования <a href="../../wiki/Хранитель_(шаблон_проектирования).html">«хранитель»</a>, но при этом используются специальный системный вызов <a href="http://help.sap.com/abapdocu_740/en/abapsystem-call_oo.htm">SYSTEM-CALL OBJMGR GET STATE</a>, созданный специально для Object Services (SAP не рекомендует его использовать в своих объектах, данный системный вызов считывает все атрибуты класса в специально сгенерированную для этого структуру). Схема вызовов при изменении атрибута будет выглядеть следующим образом:</p>
<p><a href="../../wp-content/uploads/2014/05/tstrace1.png" data-slb-active="1" data-slb-asset="1974175860" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2054" src="../../wp-content/uploads/2014/05/tstrace1.png" alt="tstrace" width="784" height="503" srcset="../../wp-content/uploads/2014/05/tstrace1.png 784w, ../../wp-content/uploads/2014/05/tstrace1-300x192.png 300w" sizes="(max-width: 784px) 100vw, 784px"></a></p>
<p>На первом шаге вызывается сгенерированный метод для изменения атрибута, перед основным кодом в данном методе происходит вызов макроса <strong>state_</strong><strong>write_</strong><strong>access </strong>из инклуда <strong>if_</strong><strong>os_</strong><strong>state_</strong><strong>macros</strong>. Далее внутри макроса запускается событие <strong>write_</strong><strong>access</strong>, на данное событие в агенте класса повешен обработчик, который внутри себя получает от хранимого объекта его состояние и записывает в специальную таблицу <strong>PM_UNDO_INFO</strong>.</p>
<p>Только после того, как вся цепочка будет вызвана, хранимый атрибут будет перезаписан.</p>
<p><strong>IF_OS_TRANSACTION~END_AND_CHAIN.</strong>Завершает транзакцию и тут же создает и начинает новую. Если транзакция верхнего уровня в ООП режиме, хранимые объекты сохраняются в БД, но при этом <strong>не загружаются повторно из БД</strong> (что может быть гораздо оптимальнее, чем просто END). Возвращает ссылочную переменную на новую транзакцию. Если по какой-либо причине завершение транзакции не удалось, статус транзакции останется тем, что был до вызова метода (<strong>OSCON_TSTATUS_RUNNING</strong>), разработчик должен решить, что ему делать с транзакцией.</p>
<p><strong>IF_OS_TRANSACTION~UNDO_AND_CHAIN. </strong>Отменяет предыдущую и начинает новую транзакцию, объекты так же не будут загружаться из БД. Возвращает ссылочную переменную на новую транзакцию. Пример использования:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0ca3affa2280850125" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0ca3affa2280850125-9">9</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-1"><span class="crayon-st">DATA</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-2"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">REF</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>if<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-sy">,</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-3"><span class="crayon-h">&nbsp;&nbsp;</span>go<span class="crayon-sy">_</span>transaction<span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">REF</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span>if<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>transaction<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-4">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-5">go<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>cl<span class="crayon-sy">_</span>os<span class="crayon-sy">_</span>system<span class="crayon-o">=</span><span class="crayon-o">&gt;</span><span class="crayon-e">get_transaction_manager</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-6">go<span class="crayon-sy">_</span>transaction<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>go<span class="crayon-sy">_</span>transaction<span class="crayon-sy">_</span>manager<span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">create_transaction</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-7">go<span class="crayon-sy">_</span>transaction<span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">start</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-8"><span class="crayon-c">" .. Операции над PS объектами</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0ca3affa2280850125-9">go<span class="crayon-sy">_</span>transaction<span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span>go<span class="crayon-sy">_</span>transaction<span class="crayon-o">-</span><span class="crayon-o">&gt;</span><span class="crayon-e">undo_and_chain</span><span class="crayon-o">(</span><span class="crayon-h"> </span><span class="crayon-o">)</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p><strong>IF_OS_TRANSACTION~REGISTER_CHECK_AGENT. </strong>Регистрирует агента проверки консистентности данных для хранимого объекта. Агент проверки — это класс, реализующий интерфейс <strong>IF_OS_CHECK</strong>. Данный интерфейс имеет метод IS_CONSISTENT, который возвращает переменную с типом OSCON_BOOLEAN. Как правило, интерфейс реализуют в классе хранимого объекта. Если проверка вернет OSCON_FALSE, изменения по объекту не будут записаны в БД. Проверка вызывается при выполнении методов END и END_AND_CHAIN, если какой-либо агент вернет ошибку, все остальные проверки не будут далее выполняться. Если агент возвращает ошибку, вызывается исключение CX_OS_AGENT_CHECK_FAILED, обработав которое можно изменить ошибочный объект и попытаться сохранить объекты заново, либо отменить изменения методом UNDO. Пример: добавим реализацию интерфейса IF_OS_CHECKв класс ZCL_SFLIGHT и реализуем его метод:</p>
<p><a href="../../wp-content/uploads/2014/05/agent_check.png" data-slb-active="1" data-slb-asset="1981253454" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2055" src="../../wp-content/uploads/2014/05/agent_check.png" alt="agent_check" width="316" height="172" srcset="../../wp-content/uploads/2014/05/agent_check.png 316w, ../../wp-content/uploads/2014/05/agent_check-300x163.png 300w" sizes="(max-width: 316px) 100vw, 316px"></a></p>
<p>Пытаемся сохранить с нулевой ценой:</p>
<p><a href="../../wp-content/uploads/2014/05/check_error.png" data-slb-active="1" data-slb-asset="1841746338" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2056" src="../../wp-content/uploads/2014/05/check_error.png" alt="check_error" width="555" height="437" srcset="../../wp-content/uploads/2014/05/check_error.png 555w, ../../wp-content/uploads/2014/05/check_error-300x236.png 300w" sizes="(max-width: 555px) 100vw, 555px"></a></p>
<p>Как видим при попытке завершить транзакцию, система не смогла пройти проверку класса агента.</p>
<p>Агент можно использовать для сохранения каких-либо атрибутов, которые надо заполнить непосредственно перед записью в БД, например, дату и время изменения, пользователя, менявшего объект и т.п.</p>
<p>Обычно регистрация агента, если он реализован в хранимом классе, происходит внутри метода INIT:</p>
<p><a href="../../wp-content/uploads/2014/05/init_check.png" data-slb-active="1" data-slb-asset="1824716023" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2057" src="../../wp-content/uploads/2014/05/init_check.png" alt="init_check" width="603" height="459" srcset="../../wp-content/uploads/2014/05/init_check.png 603w, ../../wp-content/uploads/2014/05/init_check-300x228.png 300w" sizes="(max-width: 603px) 100vw, 603px"></a></p>
<p><strong>IF_OS_TRANSACTION~GET_STATUS. </strong>Получение статуса транзакции. Существуют следующие статусы:</p>
<ul>
<li><strong>OSCON_TSTATUS_NEW. </strong>Транзакция создана, но еще не начата, можно использовать только метод START.</li>
<li><strong>OSCON_TSTATUS_RUNNING. </strong>Транзакция начата и является активной.</li>
<li><strong>OSCON_TSTATUS_END_REQ. </strong>Транзакция была завершена вызовом метода END и ожидает окончания проверки агентом проверки или окончания обработчиков событий.</li>
<li><strong>OSCON_TSTATUS_FIN_SUCCESS. </strong>Транзакция успешно завершена вызовом метода END.</li>
<li><strong>OSCON_TSTATUS_FIN_UNDO. </strong>Транзакция отменена, объекты возвращены в их первоначальное состояние.</li>
<li><strong>OSCON_</strong><strong>TSTATUS_</strong><strong>FIN_</strong><strong>ABORT. </strong>Транзакция отменена, объекты не возвращены в их первоначальное состояние.</li>
</ul>
<p><a href="../../wp-content/uploads/2014/05/tsstatus.png" data-slb-active="1" data-slb-asset="972921223" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2058" src="../../wp-content/uploads/2014/05/tsstatus.png" alt="tsstatus" width="653" height="396" srcset="../../wp-content/uploads/2014/05/tsstatus.png 653w, ../../wp-content/uploads/2014/05/tsstatus-300x181.png 300w" sizes="(max-width: 653px) 100vw, 653px"></a></p>
<p><strong>IF_OS_TRANSACTION~SET_MODE_UNDO_RELEVANT. </strong>Может использоваться для отключения механизма возврата объектов в первоначальное состояние (с целью оптимизации потребления памяти) после вызова метода UNDO (UNDO_AND_CHAIN). Статус транзакции в таком случае после отмены будет <strong>OSCON_</strong><strong>TSTATUS_</strong><strong>FIN_</strong><strong>ABORT.</strong></p>
<p><strong>IF_OS_TRANSACTION~SET_MODE_UPDATE. </strong>Используется для транзакций верхнего уровня в режиме совместимости, может вызываться только один раз, устанавливает режим обновления для транзакции. Для ООП режима, режим обновления выставляется через системный класс <strong>CL_</strong><strong>OS_</strong><strong>SYSTEM</strong> (см. ниже). Если выбрать локальные или прямые обновления, неявно будет запущен оператор <b>SET UPDATE TASK LOCAL при</b> старте транзакции.</p>
<p><strong>IF_OS_TRANSACTION~GET_MODES. </strong>Считывание вышеописанных параметров транзакции: режим обновления и т.п.</p>
<p>События транзакций:</p>
<p><strong>IF_OS_TRANSACTION~SAVE_REQUESTED</strong>. Событие вызывается, когда транзакция верхнего уровня завершается методом END, до момента, когда агент класса запишет изменения. Данное событие может использоваться для заполнения хранимых атрибутов (например, даты, времени изменения объекта), либо вызова каких-либо внутренних методов перед самым сохранением объекта. Обратите внимание что в обработчиках этого события нельзя вызывать методы TS, если хочется предотвратить запись в БД, необходимо использовать агента проверки.</p>
<p><strong>IF_OS_TRANSACTION~SAVE_PREPARED</strong>.  Событие вызывается, когда ООП транзакция верхнего уровня завершается методом END, после того как хранимые атрибуты были записаны в записи обновлений, но непосредственно до вызова COMMIT WORK. Событие используется обычно для сохранения каких-либо данных не связанных с объектом, путём вызова модуля обновления и т.п.</p>
<p><strong>IF_</strong><strong>OS_</strong><strong>TRANSACTION~</strong><strong>FINISHED</strong>. Событие срабатывает в конце транзакции, вне зависимости от того, как она была завершена (END,UNDO).</p>
<p>Атрибуты транзакций:</p>
<ul>
<li><strong>SUPER_</strong><strong>TRANSACTION</strong>. Если атрибут содержит пустую ссылку, транзакция является транзакцией верхнего уровня.</li>
<li><strong>SUBTRANSACTION</strong>. Если атрибут содержит пустую ссылку, транзакция находится на нижнем уровне.</li>
<li><strong>CHAINED</strong>. Если abap_true, транзакция была запущена после вызова метода END_AND_CHAIN или UNDO_AND_CHAIN.</li>
<li><strong>CHECK_</strong><strong>AGENTS. </strong>Внутреняя таблица с зарегистрированными агентами проверки.</li>
<li><strong>UNDO_</strong><strong>RELEVANT. </strong>abap_true – механизм возврата включен.</li>
<li><strong>TRANSACTION_STATE. </strong>Статус транзакции.</li>
<li><strong>DATA_</strong><strong>SAVE_</strong><strong>STATE. </strong>Статус сохранения данных.</li>
<li><strong>UPDATE_</strong><strong>MODE. </strong>Режим обновления.</li>
<li><strong>FLAG_UPDT_MODE_CHANGED. </strong>Выставляется, если для транзакции в режиме совместимости был изменен режим обновления.</li>
</ul>
<p>&nbsp;</p>
<h3>Режимы транзакций</h3>
<p>&nbsp;</p>
<p>Режим определяется только для транзакции верхнего уровня. Есть два режима:</p>
<ul>
<li><strong>Режим совместимости</strong>. Параметр в методе инициализации &#8212; <strong>E_EXTERNAL_COMMIT</strong> равен значению OSCON_TRUE (по умолчанию). В классическом ABAP приложении, при обновлении базы данных, в системе регистрируются модули обновления, после вызова COMMIT WORK происходит их выполнение (синхронно или асинхронно). При использовании PS в таком приложении, будет неявно создана объектно-ориентированная транзакция верхнего уровня, в режиме совместимости. Все обращения к хранимым объектам будут обрабатываться непосредственно в ней. При вызове COMMIT WORK, ООП транзакция верхнего уровня будет завершена и создана новая. Изменения, сделанные до текущего момента в хранимых объектах, будут перенесены в БД. Аналогичным образом при вызове ROLLBACK WORK, все изменения в объектах будут отменены. В режиме совместимости нельзя использовать методы для старта (START), завершения транзакции (END) т.к. это приведет к возникновению дампа.</li>
<li><strong>ООП Режим</strong>. Параметр в методе инициализации &#8212; <strong>E_EXTERNAL_COMMIT</strong> равен значению OSCON_FALSE.  Если в ABAP Objects Services была явным образом создана ООП транзакция (ООП Режим), для её подтверждения надо использовать методы TS (END – COMMIT WORK, UNDO – ROLLBACK WORK), нельзя использовать COMMIT WORKили ROLLBACK WORK, т.к. это приведет к ошибке времени выполнения. Явно созданная ООП транзакция верхнего уровня, при её завершении будет вызывать неявным образом COMMIT WORK. Любая другая созданная ООП транзакция, до момента завершения предыдущей, будет считаться вложенной. Вложенная транзакция должна быть закончена до окончания родительской транзакции. Вложенные транзакции никогда не вызывают COMMIT WORK после своего завершения. Изменения, сделанные в хранимых объектах до момента создания новой транзакции верхнего уровня в ООП режиме, будут проигнорированы.</li>
</ul>
<p>По своему назначению, вложенные транзакции необходимы только ради того, чтобы иметь возможность откатываться в случае каких-либо проблем на то состояние, в котором были объекты до начала вложенной транзакции. Первоначальное состояние объектов берется из памяти, а не из БД. Система не позволяет использовать несколько уровней вложенности, следующая вложенная транзакция должна начинаться только тогда, когда закончила выполняться предыдущая (в противном случае возникнет ошибка времени выполнения):</p>
<p><a href="../../wp-content/uploads/2014/05/transactions1.png" data-slb-active="1" data-slb-asset="165959662" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2060" src="../../wp-content/uploads/2014/05/transactions1.png" alt="transactions" width="523" height="246" srcset="../../wp-content/uploads/2014/05/transactions1.png 523w, ../../wp-content/uploads/2014/05/transactions1-300x141.png 300w" sizes="(max-width: 523px) 100vw, 523px"></a></p>
<p>Кроме режима транзакции, необходимо определить режим обновления. При завершении транзакции верхнего уровня (вызов COMMIT WORK в режиме совместимости, вызов метода END в ООП транзакциях), TS начинает обновлять измененные хранимые объекты в БД, путём запуска модуля обновления.</p>
<p>Существуют следующие режимы обновления:</p>
<ul>
<li>Асинхронный режим (<strong>OSCON_</strong><strong>DMODE_</strong><strong>DEFAULT</strong>или <strong>OSCON_</strong><strong>DMODE_</strong><strong>UPDATE_</strong><strong>TASK</strong>)</li>
<li>Синхронный режим (<strong>OSCON_DMODE_UPDATE_TASK_SYNC</strong>)</li>
<li>Прямое обновление (<strong>OSCON_DMODE_DIRECT</strong>)</li>
<li>Локальные обновления (<strong>OSCON_DMODE_LOCAL</strong>)</li>
</ul>
<p>Режим обновления может быть явно задан при определении ООП транзакции SAP в SE93:</p>
<p><a href="../../wp-content/uploads/2014/05/se93.png" data-slb-active="1" data-slb-asset="923322725" data-slb-internal="0" data-slb-group="2051"><img loading="lazy" class="alignnone size-full wp-image-2061" src="../../wp-content/uploads/2014/05/se93.png" alt="se93" width="381" height="286" srcset="../../wp-content/uploads/2014/05/se93.png 381w, ../../wp-content/uploads/2014/05/se93-300x225.png 300w" sizes="(max-width: 381px) 100vw, 381px"></a></p>
<p>Более подробно о режимах обновления читайте в <a href="../programmirovanie-obnovlenij-bd-v-r3/index.htm">предыдущей статье</a>.</p>
<h3></h3>
<h3>Состояние хранимых объектов при обработке транзакций</h3>
<p>&nbsp;</p>
<p>Обработка ООП транзакций может влиять на статусы хранимых объектов следующим образом:</p>
<ul>
<li><strong>Начало транзакции</strong>. В начале транзакции верхнего уровня, все объекты откатываются до состояния NOT_LOADED. Таким образом, если вы меняли, удаляли или создавали хранимые объекты до создания транзакции верхнего уровня, все ваши изменения будут утеряны. Подобное поведение не касается временных объектов, т.к. они не связаны с БД. Создание вложенной транзакции не оказывает никакого влияния не на хранимые объекты, не на временные объекты.</li>
<li><strong>Конец транзакции</strong>. Если транзакция верхнего уровня завершается методом END, система записывает все изменения, что были внутри неё произведены, в БД. При завершении вложенной транзакции методом END, статусы хранимых объектов никак не изменяются. При завершении транзакций методом UNDO (если механизм отката включен), как вложенных, так и дочерних, статусы объектов возвращаются в первоначальное состояние (на момент старта транзакции). Для того чтобы не загружать объекты из БД слишком часто, объекты со статусом LOADED, сохраняют свой статус, даже если их статус в начале транзакции был NOT_LOADED. Статус LOADED сохраняется, даже если вы изменяли атрибуты или удаляли объекты, все будет восстановлено. Если механизм отката не активирован, ничего не происходит.</li>
</ul>
<p>Классические операторы обработки SAP LUW– COMMIT WORK и ROLLBACK WORK, при обработке транзакций верхнего уровня в режиме совместимости, имеют тот же эффект, что и методы END, UNDO для ООП транзакций верхнего уровня: Всем хранимым объектам присваивается статус NOT_LOADED. Временные объекты остаются со статусом временный объект, даже после отката ROLLBACK WORK.</p>
<p>Методы END_AND_CHAIN и UNDO_AND_CHAIN так же могут изменять состояние объектов, в зависимости от первоначального состояния объекта:</p>
<ul>
<li><strong>END_AND_CHAIN. </strong>NEW – объект создался во время транзакции, после вызова метода его статус будет LOADED.  DELETED – объект удален во время транзакции, после вызова метода его статус будет NOT_LOADED.</li>
</ul>
<ul>
<li><strong>UNDO_AND_CHAIN.</strong> NEW – объект был создан во время транзакции, после вызова метода объект будет иметь статус NOT_LOADED. DELETED – в зависимости от того, какой был статус до начала транзакции.  NOT LOADED останется NOT_LOADED, LOADED останется LOADED.</li>
</ul>
<p>В процессе разработки, вы должны решить для себя, какой из методов завершения транзакции вы будете использовать END или END_AND_CHAIN и UNDOили UNDO_AND_CHAIN. Если вы хотите чтобы все загруженные ранее объекты, считались заново из БД, используйте END и UNDO, в противном случае CHAIN методы. Из-за того что загружаться заново из БД объекты не будут, использование CHAIN методов будет оптимальнее. В режиме совместимости, у вас нет такого выбора, все объекты, так или иначе, будут загружены заново для каждого нового LUW после доступа к ним.</p>
							</div>
		<div class="tags-links"><a href="../../tag/abap-objects-services/index.htm" rel="tag">abap objects services</a> <a href="../../tag/transaction-services/index.htm" rel="tag">transaction services</a></div></article>
	
	<nav class="navigation post-navigation" role="navigation" aria-label="Записи">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../abap-object-services-persistence-service/index.htm" rel="prev"><span class="meta-nav" aria-hidden="true">Назад</span> <span class="screen-reader-text">Предыдущая запись:</span> <span class="post-title">ABAP Object Services &#8212; Persistence Service &#8212; часть 1.</span></a></div><div class="nav-next"><a href="../abap-object-services-query-service/index.htm" rel="next"><span class="meta-nav" aria-hidden="true">Далее</span> <span class="screen-reader-text">Следующая запись:</span> <span class="post-title">ABAP Object Services &#8212; Query Service</span></a></div></div>
	</nav>

<div id="comments" class="comments-area">

	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Добавить комментарий <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.htm#respond" style="display:none;">Отменить ответ</a></small></h3><form action="https://abap-blog.ru/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Ваш адрес email не будет опубликован.</span></p><p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Имя</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245"></p>
<div class="anr_captcha_field"><div id="anr_captcha_field_1" class="anr_captcha_field_div"></div></div><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Отправить комментарий"> <input type='hidden' name='comment_post_ID' value='2051' id='comment_post_ID'>
<input type='hidden' name='comment_parent' id='comment_parent' value='0'>
</p></form>	</div><!-- #respond -->
	
	
</div>

			</div>
							</div>
					</div>
	</div>
</div>
<script type='text/javascript' id='contact-form-7-js-extra'>
/* <![CDATA[ */
var wpcf7 = {"api":{"root":"https:\/\/abap-blog.ru\/wp-json\/","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script src='../../wp-content/plugins/contact-form-7/includes/js/index.js?ver=5.5.1' id='contact-form-7-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect.min.js?ver=1.12.1' id='jquery-effects-core-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-slide.min.js?ver=1.12.1' id='jquery-effects-slide-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-highlight.min.js?ver=1.12.1' id='jquery-effects-highlight-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-fold.min.js?ver=1.12.1' id='jquery-effects-fold-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-blind.min.js?ver=1.12.1' id='jquery-effects-blind-js'></script>
<script src='../../wp-content/plugins/show-hidecollapse-expand/assets/js/bg-show-hide.js?ver=5.8.1' id='bg-show-hide-script-js'></script>
<script src='../../wp-includes/js/comment-reply.min.js?ver=5.8.1' id='comment-reply-js'></script>
<script src='../../wp-content/plugins/dynamic-to-top/js/libs/jquery.easing.js?ver=1.3' id='jquery-easing-js'></script>
<script type='text/javascript' id='dynamic-to-top-js-extra'>
/* <![CDATA[ */
var mv_dynamic_to_top = {"text":"To Top","version":"0","min":"300","speed":"1100","easing":"easeInExpo","margin":"20"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/dynamic-to-top/js/dynamic.to.top.min.js?ver=3.5' id='dynamic-to-top-js'></script>
<script src='../../recaptcha/api.js?render=6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC&#038;ver=3.0' id='google-recaptcha-js'></script>
<script type='text/javascript' id='wpcf7-recaptcha-js-extra'>
/* <![CDATA[ */
var wpcf7_recaptcha = {"sitekey":"6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC","actions":{"homepage":"homepage","contactform":"contactform"}};
/* ]]> */
</script>
<script src='../../wp-content/plugins/contact-form-7/modules/recaptcha/index.js?ver=5.5.1' id='wpcf7-recaptcha-js'></script>
<script src='../../wp-includes/js/wp-embed.min.js?ver=5.8.1' id='wp-embed-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/client/js/prod/lib.core.js?ver=2.8.1' id='slb_core-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/client/js/prod/lib.view.js?ver=2.8.1' id='slb_view-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/themes/baseline/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_baseline-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/themes/default/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_default-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/template-tags/item/js/prod/tag.item.js?ver=2.8.1' id='slb-asset-item-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/template-tags/ui/js/prod/tag.ui.js?ver=2.8.1' id='slb-asset-ui-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/content-handlers/image/js/prod/handler.image.js?ver=2.8.1' id='slb-asset-image-base-js'></script>
<script type="text/javascript" id="slb_footer">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB && SLB.has_child('View.init') ) { SLB.View.init({"ui_autofit":true,"ui_animate":true,"slideshow_autostart":false,"slideshow_duration":"6","group_loop":true,"ui_overlay_opacity":"0.8","ui_title_default":false,"theme_default":"slb_default","ui_labels":{"loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","nav_next":"\u0412\u043f\u0435\u0440\u0435\u0434","nav_prev":"\u041d\u0430\u0437\u0430\u0434","slideshow_start":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","slideshow_stop":"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","group_status":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 %current%  \u0438\u0437 %total%"}}); }
if ( !!window.SLB && SLB.has_child('View.assets') ) { {$.extend(SLB.View.assets, {"801656852":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/database.png"},"354083227":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/tscomponents.gif"},"1974175860":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/tstrace1.png"},"1981253454":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/agent_check.png"},"1841746338":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/check_error.png"},"1824716023":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/init_check.png"},"972921223":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/tsstatus.png"},"165959662":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/transactions1.png"},"923322725":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2014\/05\/se93.png"}});} }
/* THM */
if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_baseline',{"name":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043b\u0438\u043d\u0438\u044f","parent":"","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/baseline\/css\/style.css","deps":[]}],"layout_raw":"<div class=\"slb_container\"><div class=\"slb_content\">{{item.content}}<div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><div class=\"slb_controls\"><span class=\"slb_close\">{{ui.close}}<\/span><span class=\"slb_slideshow\">{{ui.slideshow_control}}<\/span><\/div><div class=\"slb_loading\">{{ui.loading}}<\/div><\/div><div class=\"slb_details\"><div class=\"inner\"><div class=\"slb_data\"><div class=\"slb_data_content\"><span class=\"slb_data_title\">{{item.title}}<\/span><span class=\"slb_group_status\">{{ui.group_status}}<\/span><div class=\"slb_data_desc\">{{item.description}}<\/div><\/div><\/div><div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><\/div><\/div><\/div>"}); }if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_default',{"name":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0441\u0432\u0435\u0442\u043b\u044b\u0439)","parent":"slb_baseline","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/default\/css\/style.css","deps":[]}]}); }})})(jQuery);}/* ]]> */</script>
<script type="text/javascript" id="slb_context">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB ) { {$.extend(SLB, {"context":["public","user_guest"]});} }})})(jQuery);}/* ]]> */</script>
			<script type="text/javascript">
				var anr_onloadCallback = function() {
					for ( var i = 0; i < document.forms.length; i++ ) {
						var form = document.forms[i];
						var captcha_div = form.querySelector( '.anr_captcha_field_div' );

						if ( null === captcha_div )
							continue;
						captcha_div.innerHTML = '';
						( function( form ) {
							var anr_captcha = grecaptcha.render( captcha_div,{
								'sitekey' : '6LfmhbAaAAAAABBrfPpMngzFHB6qZ4ATxXd3rvOR',
								'size'  : 'normal',
								'theme' : 'light'
							});
							if ( typeof jQuery !== 'undefined' ) {
								jQuery( document.body ).on( 'checkout_error', function(){
									grecaptcha.reset(anr_captcha);
								});
							}
							if ( typeof wpcf7 !== 'undefined' ) {
								document.addEventListener( 'wpcf7submit', function() {
									grecaptcha.reset(anr_captcha);
								}, false );
							}
						})(form);
					}
				};
			</script>
						<script src="../../recaptcha/api-1.js?onload=anr_onloadCallback&#038;render=explicit" async="" defer="">
			</script>
			</body>
</html>
