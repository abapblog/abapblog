<!DOCTYPE html>
<html lang="ru-RU" id="html">
<head>
		<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="profile" href="../../xfn/11.html">
	<link rel="pingback" href="https://abap-blog.ru/xmlrpc.php">
	<title>ABAP Blog | Программирование обновлений БД в ABAP</title>

		<!-- All in One SEO 4.1.4.4 -->
		<meta name="description" content="Введение в концепцию обновлений табличных данных из ABAP программ: SAP LUW, DB LUW, отложенные обновления и др.">
		<meta name="robots" content="max-image-preview:large">
		<meta name="keywords" content="perform on commit,set update task local,v1,v2,модули обновления,неявный commit,работа с бд">
		<link rel="canonical" href="index.htm">
		<script type="application/ld+json" class="aioseo-schema">
			{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebSite","@id":"https:\/\/abap-blog.ru\/#website","url":"https:\/\/abap-blog.ru\/","name":"ABAP Blog","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445 \u043e\u0442 SAP","inLanguage":"ru-RU","publisher":{"@id":"https:\/\/abap-blog.ru\/#person"}},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/#person","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#personImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"BreadcrumbList","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#breadcrumblist","itemListElement":[{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/#listItem","position":1,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/","name":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f","description":"\u0412\u0441\u0435 \u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432 SAP \u0440\u0435\u0448\u0435\u043d\u0438\u044f\u0445: ABAP, HANA, UI5, OData, Fiori.","url":"https:\/\/abap-blog.ru\/"},"nextItem":"https:\/\/abap-blog.ru\/database-work\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/database-work\/#listItem","position":2,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/database-work\/","name":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0411\u0414","description":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c: SAP LUW, DB LUW, \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0434\u0440.","url":"https:\/\/abap-blog.ru\/database-work\/"},"nextItem":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#listItem","previousItem":"https:\/\/abap-blog.ru\/#listItem"},{"@type":"ListItem","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#listItem","position":3,"item":{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/","name":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0411\u0414 \u0432 ABAP","description":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c: SAP LUW, DB LUW, \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0434\u0440.","url":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/"},"previousItem":"https:\/\/abap-blog.ru\/database-work\/#listItem"}]},{"@type":"Person","@id":"https:\/\/abap-blog.ru\/author\/admin\/#author","url":"https:\/\/abap-blog.ru\/author\/admin\/","name":"Astrafox","image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#authorImage","url":"https:\/\/secure.gravatar.com\/avatar\/907cc9d3a027be8998658f18c0a7fa4e?s=96&d=retro&r=g","width":96,"height":96,"caption":"Astrafox"}},{"@type":"WebPage","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#webpage","url":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/","name":"ABAP Blog | \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0411\u0414 \u0432 ABAP","description":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c: SAP LUW, DB LUW, \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0434\u0440.","inLanguage":"ru-RU","isPartOf":{"@id":"https:\/\/abap-blog.ru\/#website"},"breadcrumb":{"@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#breadcrumblist"},"author":"https:\/\/abap-blog.ru\/author\/admin\/#author","creator":"https:\/\/abap-blog.ru\/author\/admin\/#author","datePublished":"2012-03-21T14:56:22+04:00","dateModified":"2021-08-07T06:39:16+04:00"},{"@type":"Article","@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#article","name":"ABAP Blog | \u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0411\u0414 \u0432 ABAP","description":"\u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c: SAP LUW, DB LUW, \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0434\u0440.","inLanguage":"ru-RU","headline":"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0439 \u0411\u0414 \u0432 ABAP","author":{"@id":"https:\/\/abap-blog.ru\/author\/admin\/#author"},"publisher":{"@id":"https:\/\/abap-blog.ru\/#person"},"datePublished":"2012-03-21T14:56:22+04:00","dateModified":"2021-08-07T06:39:16+04:00","commentCount":8,"articleSection":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0411\u0414, PERFORM ON COMMIT, SET UPDATE TASK LOCAL, V1, V2, \u041c\u043e\u0434\u0443\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f, \u041d\u0435\u044f\u0432\u043d\u044b\u0439 COMMIT","mainEntityOfPage":{"@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#webpage"},"isPartOf":{"@id":"https:\/\/abap-blog.ru\/database-work\/programmirovanie-obnovlenij-bd-v-r3\/#webpage"},"image":{"@type":"ImageObject","@id":"https:\/\/abap-blog.ru\/#articleImage","url":"https:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/11.png","width":1440,"height":900}}]}
		</script>
		<script type="text/javascript">
			window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
			ga('create', "UA-150412824-1", { 'cookieDomain': 'abap-blog.ru' } );
			ga('require', 'outboundLinkTracker');
			ga('send', 'pageview');
		</script>
		<script async="" src="../../analytics.js"></script>
		<script async="" src="../../wp-content/plugins/all-in-one-seo-pack/app/Common/Assets/js/autotrack.js?ver=4.1.4.4"></script>
		<!-- All in One SEO -->

<link rel='dns-prefetch' href='../../index-1.htm'>
<link rel='dns-prefetch' href='//fonts.googleapis.com'>
<link rel='dns-prefetch' href='../../index-2.htm'>
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента" href="../../feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев" href="../../comments/feed/index.htm.rss">
<link rel="alternate" type="application/rss+xml" title="ABAP Blog &raquo; Лента комментариев к &laquo;Программирование обновлений БД в ABAP&raquo;" href="feed/index.htm.rss">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/13.1.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/abap-blog.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.8.1"}};
			!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode;p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0);e=i.toDataURL();return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([10084,65039,8205,55357,56613],[10084,65039,8203,55357,56613])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(n=t.source||{}).concatemoji?c(n.concatemoji):n.wpemoji&&n.twemoji&&(c(n.twemoji),c(n.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='urvanov_syntax_highlighter-css' href='../../wp-content/plugins/urvanov-syntax-highlighter/css/min/urvanov_syntax_highlighter.min.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-theme-abapblog-css' href='../../wp-content/uploads/urvanov-syntax-highlighter/themes/abapblog/abapblog.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='crayon-font-monospace-css' href='../../wp-content/plugins/urvanov-syntax-highlighter/fonts/monospace.css?ver=2.8.22' media='all'>
<link rel='stylesheet' id='wp-block-library-css' href='../../wp-includes/css/dist/block-library/style.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='arve-main-css' href='../../wp-content/plugins/advanced-responsive-video-embedder/build/main.css?ver=b809f4d4c33c91a5ae3a5099af09bdde' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='../../wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.5.1' media='all'>
<link rel='stylesheet' id='bg-shce-genericons-css' href='../../wp-content/plugins/show-hidecollapse-expand/assets/css/genericons/genericons.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='bg-show-hide-css' href='../../wp-content/plugins/show-hidecollapse-expand/assets/css/bg-show-hide.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='dashicons-css' href='../../wp-includes/css/dashicons.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='tooltip-css' href='../../wp-content/plugins/wp-poll/assets/tool-tip.min.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-cb-css' href='../../wp-content/plugins/wp-poll/assets/front/css/checkbox.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='wpp-front-css' href='../../wp-content/plugins/wp-poll/assets/front/css/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='flat-fonts-css' href='../../css.css?family=Lobster%7CRoboto:400,700%7CRoboto+Slab%7CRoboto%20Condensed' media='all'>
<link rel='stylesheet' id='flat-theme-css' href='../../wp-content/themes/flat/assets/css/flat.css?ver=1.7.11' media='all'>
<link rel='stylesheet' id='flat-style-css' href='../../wp-content/themes/flat/style.css?ver=5.8.1' media='all'>
<link rel='stylesheet' id='slb_core-css' href='../../wp-content/plugins/simple-lightbox/client/css/app.css?ver=2.8.1' media='all'>
<link rel='stylesheet' id='decent-comments-widget-css' href='../../wp-content/plugins/decent-comments/css/decent-comments-widget.css' media='all'>
<script src='../../wp-includes/js/jquery/jquery.min.js?ver=3.6.0' id='jquery-core-js'></script>
<script src='../../wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2' id='jquery-migrate-js'></script>
<script type='text/javascript' id='urvanov_syntax_highlighter_js-js-extra'>
/* <![CDATA[ */
var UrvanovSyntaxHighlighterSyntaxSettings = {"version":"2.8.22","is_admin":"0","ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","prefix":"urvanov-syntax-highlighter-","setting":"urvanov-syntax-highlighter-setting","selected":"urvanov-syntax-highlighter-setting-selected","changed":"urvanov-syntax-highlighter-setting-changed","special":"urvanov-syntax-highlighter-setting-special","orig_value":"data-orig-value","debug":""};
var UrvanovSyntaxHighlighterSyntaxStrings = {"copy":"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 %s \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f, %s \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/urvanov-syntax-highlighter/js/min/urvanov_syntax_highlighter.min.js?ver=2.8.22' id='urvanov_syntax_highlighter_js-js'></script>
<script src='../../wp-includes/js/dist/vendor/regenerator-runtime.min.js?ver=0.13.7' id='regenerator-runtime-js'></script>
<script src='../../wp-includes/js/dist/vendor/wp-polyfill.min.js?ver=3.15.0' id='wp-polyfill-js'></script>
<script async="async" src='../../wp-content/plugins/advanced-responsive-video-embedder/build/main.js?ver=b809f4d4c33c91a5ae3a5099af09bdde' id='arve-main-js'></script>
<script src='../../wp-content/plugins/wp-poll/assets/front/js/svgcheckbx.js?ver=5.8.1' id='wpp-front-cb-js'></script>
<script type='text/javascript' id='wpp-front-js-extra'>
/* <![CDATA[ */
var wpp_object = {"ajaxurl":"https:\/\/abap-blog.ru\/wp-admin\/admin-ajax.php","copyText":"Copied !","voteText":"Vote(s)","tempProDownload":"https:\/\/pluginbazar.com\/my-account\/downloads\/","tempProDownloadTxt":"Download Version 1.1.0"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/wp-poll/assets/front/js/scripts.js?ver=5.8.1' id='wpp-front-js'></script>
<script src='../../wp-content/themes/flat/assets/js/flat.js?ver=1.7.11' id='flat-js-js'></script>
<!--[if lt IE 9]>
<script src='https://abap-blog.ru/wp-content/themes/flat/assets/js/html5shiv.min.js?ver=3.7.2' id='html5shiv-js'></script>
<![endif]-->
<link rel="https://api.w.org/" href="../../wp-json/index.htm.json"><link rel="alternate" type="application/json" href="../../wp-json/wp/v2/posts/625.json"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 5.8.1">
<link rel='shortlink' href='index.htm?p=625'>
<link rel="alternate" type="application/json+oembed" href="../../wp-json/oembed/1.0/embed-119.json?url=https%3A%2F%2Fabap-blog.ru%2Fdatabase-work%2Fprogrammirovanie-obnovlenij-bd-v-r3%2F">
<link rel="alternate" type="text/xml+oembed" href="../../wp-json/oembed/1.0/embed-119.xml?url=https%3A%2F%2Fabap-blog.ru%2Fdatabase-work%2Fprogrammirovanie-obnovlenij-bd-v-r3%2F&#038;format=xml">

<!-- WP Youtube Player 1.7 by unijimpe -->
<style type="text/css">#page:before, .sidebar-offcanvas, #secondary { background-color: #272727; }@media (max-width: 1199px) { #page &gt; .container { background-color: #272727; } }body { background-size: initial; }</style><style type="text/css">#masthead .site-title {font-family:Lobster}body {font-family:Roboto }h1,h2,h3,h4,h5,h6 {font-family:Roboto Slab}#masthead .site-description, .hentry .entry-meta {font-family:Roboto Condensed}</style><style type="text/css" media="screen">body{position:relative}#dynamic-to-top{display:none;overflow:hidden;width:auto;z-index:90;position:fixed;bottom:20px;right:20px;top:auto;left:auto;font-family:sans-serif;font-size:1em;color:#fff;text-decoration:none;text-shadow:0 1px 0 #333;font-weight:bold;padding:17px 16px;border:2px solid #000;background:#4c5055;-webkit-background-origin:border;-moz-background-origin:border;-icab-background-origin:border;-khtml-background-origin:border;-o-background-origin:border;background-origin:border;-webkit-background-clip:padding-box;-moz-background-clip:padding-box;-icab-background-clip:padding-box;-khtml-background-clip:padding-box;-o-background-clip:padding-box;background-clip:padding-box;-webkit-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-ms-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-moz-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-o-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-khtml-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-icab-box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );box-shadow:0 1px 3px rgba( 0, 0, 0, 0.4 ), inset 0 0 0 1px rgba( 0, 0, 0, 0.2 ), inset 0 1px 0 rgba( 255, 255, 255, .4 ), inset 0 10px 10px rgba( 255, 255, 255, .1 );-webkit-border-radius:30px;-moz-border-radius:30px;-icab-border-radius:30px;-khtml-border-radius:30px;border-radius:30px}#dynamic-to-top:hover{background:#4fd650;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 255, 255, 255, .2 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 255, 255, 255, .2 ), rgba( 0, 0, 0, 0 ) );cursor:pointer}#dynamic-to-top:active{background:#4c5055;background:#4c5055 -webkit-gradient( linear, 0% 0%, 0% 100%, from( rgba( 0, 0, 0, .3 ) ), to( rgba( 0, 0, 0, 0 ) ) );background:#4c5055 -webkit-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -moz-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -khtml-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -o-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -ms-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 -icab-linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) );background:#4c5055 linear-gradient( top, rgba( 0, 0, 0, .1 ), rgba( 0, 0, 0, 0 ) )}#dynamic-to-top,#dynamic-to-top:active,#dynamic-to-top:focus,#dynamic-to-top:hover{outline:none}#dynamic-to-top span{display:block;overflow:hidden;width:14px;height:12px;background:url( ../../wp-content/plugins/dynamic-to-top/css/images/up.png )no-repeat center center}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("../../wp-content/uploads/2014/10/escheresque_ste.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
		</head>

<body class="post-template-default single single-post postid-625 single-format-standard custom-background" itemscope="" itemtype="http://schema.org/WebPage">
		<div id="page">
	<div class="container">
		<div class="row row-offcanvas row-offcanvas-left" style="background: #272727;">			
			
			<div id="secondary1" class="col-lg-t" style="background: #272727; display:none">
								<header id="masthead1" class="site-headerex" role="banner">
										<div class="hgroupex">
						<h1 class="site-title display-title"><a href="../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
									</header>
							</div>


			<div id="secondary" class="col-lg-3" style="display:block">
								<header id="masthead" class="site-header" role="banner">
										<div class="hgroup">
						<h1 class="site-title display-title"><a href="../../index.htm" title="ABAP Blog" rel="home"><span itemprop="name">ABAP Blog</span></a></h1><h2 itemprop="description" class="site-description">Все о разработке в решениях от SAP</h2>					</div>
					<button type="button" class="btn btn-link hidden-lg toggle-sidebar" data-toggle="offcanvas" aria-label="Sidebar"><i class="fa fa-gear"></i></button>
					<button type="button" class="btn btn-link hidden-lg toggle-navigation" aria-label="Navigation Menu"><i class="fa fa-bars"></i></button>
					<nav id="site-navigation" class="navigation main-navigation" role="navigation">
						<ul id="menu-glavnoe-menyu" class="nav-menu"><li id="menu-item-2313" class="fa fa-home menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-has-children menu-item-2313"><a href="../../index.htm">Главная</a>
<ul class="sub-menu">
	<li id="menu-item-2363" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2363"><a href="../../category/osnovy-abap/index.htm">Основы ABAP</a>
	<ul class="sub-menu">
		<li id="menu-item-2906" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2906"><a href="../../category/osnovy-abap/oop/index.htm">ABAP Objects</a></li>
		<li id="menu-item-2370" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2370"><a href="../../category/osnovy-abap/slovar/index.htm">ABAP Словарь</a></li>
		<li id="menu-item-2367" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2367"><a href="../../category/osnovy-abap/files/index.htm">Работа с файлами</a></li>
		<li id="menu-item-2364" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2364"><a href="../../category/osnovy-abap/sap-dynpro/index.htm">SAP Dynpro</a></li>
		<li id="menu-item-6845" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6845"><a href="../../category/osnovy-abap/vnutrennie-tablicy/index.htm">Внутренние таблицы</a></li>
		<li id="menu-item-6849" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6849"><a href="../../category/osnovy-abap/dinamicheskoe-programmirovanie/index.htm">Динамическое программирование</a></li>
	</ul>
</li>
	<li id="menu-item-2366" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-has-children menu-item-2366"><a href="../../category/database-work/index.htm">Работа с БД</a>
	<ul class="sub-menu">
		<li id="menu-item-7303" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-7303"><a href="../../category/hana/index.htm">HANA</a></li>
	</ul>
</li>
	<li id="menu-item-2368" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-2368"><a href="../../category/network/index.htm">Сетевые технологии</a>
	<ul class="sub-menu">
		<li id="menu-item-6328" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6328"><a href="../../category/network/ui5fiori/index.htm">UI5 &amp; Fiori</a></li>
		<li id="menu-item-6327" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6327"><a href="../../category/network/odata-network/index.htm">OData</a></li>
		<li id="menu-item-2907" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2907"><a href="../../category/network/web-dynpro/index.htm">Web Dynpro</a></li>
	</ul>
</li>
	<li id="menu-item-2369" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2369"><a href="../../category/enhancements/index.htm">Расширения</a></li>
	<li id="menu-item-6329" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-6329"><a href="../../category/abap-cloud/index.htm">ABAP Cloud</a></li>
	<li id="menu-item-2365" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2365"><a href="../../category/others/index.htm">Прочее</a></li>
</ul>
</li>
<li id="menu-item-3536" class="fa fa-bell menu-item menu-item-type-post_type menu-item-object-page menu-item-3536"><a href="../../abap-the-best-practice/index.htm">ABAP Best Practice</a></li>
<li id="menu-item-3727" class="fa fa-child menu-item menu-item-type-post_type menu-item-object-page menu-item-3727"><a href="../../vakansii/index.htm">Вакансии ABAP</a></li>
<li id="menu-item-3885" class="fa fa-bookmark menu-item menu-item-type-post_type menu-item-object-page menu-item-3885"><a href="../../abap-notes/index.htm">Быстрые заметки</a></li>
<li id="menu-item-2316" class="fa fa-info-circle menu-item menu-item-type-post_type menu-item-object-page menu-item-2316"><a href="../../about/index.htm">Обо мне</a></li>
</ul>					</nav>
									</header>
				
				<div class="sidebar-offcanvas">
<div id="main-sidebar" class="widget-area" role="complementary">
											<aside id="search-2" class="widget widget_search">
	<form method="get" id="searchform" action="https://abap-blog.ru/">
		<label for="s" class="assistive-text">Поиск</label>
		<input type="text" class="field" name="s" id="s" placeholder="Поиск">
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Поиск">
	</form>
					</aside>
					<aside id="linkcat-2" class="widget widget_links">
						<h3 class='widget-title'>Ссылки</h3>

	<ul class='xoxo blogroll'>
<li><a href="../../topics/abap.html" target="_blank">ABAP Community</a></li>
<li><a href="../../wiki/display/ABAP/ABAP Development.html" title="Wiki по ABAP" target="_blank">ABAP Development Wiki</a></li>
<li><a href="../../doc/abapdocu_latest_index_htm/latest/en-US/index.htm" title="Последняя версия справки по ABAP" target="_blank">ABAP Help</a></li>
<li><a href="../../doc/abapdocu_cp_index_htm/CLOUD/en-US/index.htm" target="_blank">ABAP Help (Cloud)</a></li>
<li><a href="../../learning-journeys/overview.html?role=Developer" target="_blank">Developer Learning Journeys</a></li>
<li><a href="../../index-3.htm" target="_blank">Open Source Projects</a></li>
<li><a href="../../tutorial-navigator.html" target="_blank">SAP Tutorials</a></li>
<li><a href="https://t.me/abapblog" target="_blank"><img src="../../wp-content/uploads/2020/04/telegram-1.png" alt="Канал в Telegram"> Канал в Telegram</a></li>

	</ul>
					</aside>

					<aside id="endo_wrc_widget-2" class="widget widget_endo_wrc_widget">
						<h3 class='widget-title'>Цитаты</h3>
<p>Если проекты рушатся под градом правок, внесенных в ТЗ, это означает, что в них есть недостаток. Мы должны найти способ сделать проекты устойчивыми к таким изменениям и защитить их от разложения.</p>
<p><strong><a href="../../wiki/Robert_C._Martin.html">R. Martin</a></strong></p>
					</aside>
								<aside id="custom-post-type-recent-posts-3" class="widget widget_recent_entries">
						<h3 class='widget-title'>Новое</h3>
			<ul>
													<li>
										<a href="../../abap-notes/poluchenie-instancii-cl_gui_alv_grid-dlya-salv/index.htm">Получение инстанции cl_gui_alv_grid для SALV</a>
											<span class="post-date">11.09.2021</span>
														</li>
													<li>
										<a href="../../abap-cloud/introduction-to-abap-in-the-cloud/index.htm">Introduction to ABAP in the Cloud</a>
											<span class="post-date">18.08.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/getting-started-with-fpm-bopf-integration/index.htm">Getting Started with FPM BOPF Integration</a>
											<span class="post-date">01.06.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/how-to-use-authority-checks-in-business-object-processing-framework/index.htm">30. How to Use Authority Checks in Business Object Processing Framework</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-extensibility/index.htm">29. BOPF Extensibility</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-enterprise-procurement-model-epm/index.htm">28. BOPF Enterprise Procurement Model (EPM)</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-integration/index.htm">27. BOPF Integration</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-business-configuration-objects/index.htm">26. BOPF Business Configuration Objects</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-performance/index.htm">25. BOPF Performance</a>
											<span class="post-date">29.05.2021</span>
														</li>
													<li>
										<a href="../../abap-notes/bopf-supportability/index.htm">24. BOPF Supportability</a>
											<span class="post-date">29.05.2021</span>
														</li>
							</ul>
								</aside>
					<aside id="decent_comments_widget-2" class="widget widget_decent_comments_widget">
						<h3 class='widget-title'>Последние комментарии</h3>
<div class="decent-comments"><ul><li><div class="comment"><span class="comment-author">Николай</span><span class="comment-date"> 27.10.2021 в 15:19</span><span class="comment-link"> на <a href="../../osnovy-abap/internal-table-as-data-source-select/index.htm#comment-17857">Внутренние таблицы как источник в SQL запросах</a></span><span class="comment-excerpt">Спасибо за статью. Если нужно сделать агрегацию внутренней таблицы то агрегация через передачу во временную таблицу на БД тоже будет работать медленней чем через loop/collect? Например таблица 100к записей, которая становится 5к после агрегации. </span></div></li><li><div class="comment"><span class="comment-author">Аноним</span><span class="comment-date"> 14.10.2021 в 13:50</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17856">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Так поведение Decorator не надо будет повторно описывать повторно в других Component. Но это возможно при изменении типа mo_component, например, на object. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 11.10.2021 в 06:50</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17854">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет:) Возможно, я не так выразил мысль. Я имел ввиду, какая ценность от класса Decorator, если можно декорировать поведение от Component и от него же наследовать конкретные декораторы? (см. первую UML диаграмму) </span></div></li><li><div class="comment"><span class="comment-author">Astrafox</span><span class="comment-date"> 10.10.2021 в 12:39</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17853">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">Привет! Можно и так, однако конкретный компонент может иметь более широкий интерфейс, нежели тот, что нужен в декораторах. Тут скорее пример не совсем удачный, декорируемое поведение лучше вынести в отдельный интерфейс, реализуемый как компонентом, так и декораторами. </span></div></li><li><div class="comment"><span class="comment-author">Александр</span><span class="comment-date"> 04.10.2021 в 12:51</span><span class="comment-link"> на <a href="../../osnovy-abap/oop/dekorator-decorator-wrapper/index.htm#comment-17850">Декоратор (Decorator, Wrapper)</a></span><span class="comment-excerpt">А какую роль играет базовый класс декоратора lcl_decorator? Что мешает конкретные декораторы наследовать от компонента lcl_concrete_component? Клиентский код и логика выполнения не поменяется. </span></div></li></ul></div>					</aside>
											</div>
				</div>
			</div>

						<div id="primary" class="content-area col-lg-9" itemprop="mainContentOfPage" style="">
							<div id="content" class="site-content" role="main" itemscope="" itemtype="http://schema.org/Article">
			<article id="post-625" class="post-625 post type-post status-publish format-standard hentry category-database-work tag-perform-on-commit tag-set-update-task-local tag-v1 tag-v2 tag-moduli-obnovleniya tag-neyavnyj-commit">
	<header class="entry-header">
		<h1 class="entry-title" itemprop="name">Программирование обновлений БД в ABAP</h1>
							<div class="entry-meta"><span class="entry-date"><a href="index.htm" rel="bookmark"><time class="entry-date published" datetime="2012-03-21T18:56:22+04:00" itemprop="datepublished">21.03.2012</time></a></span> от <span class="author vcard" itemscope="" itemprop="author" itemtype="http://schema.org/Person"><a class="url fn n" href="../../author/admin/index.htm" rel="author" itemprop="url"><span itemprop="name">Astrafox</span></a></span><span class="sep">&middot;</span><span class="comments-link"><a href="index.htm#comments" itemprop="discussionUrl">8 комментариев</a></span></div>
			</header>
		
	
	<div class="entry-content" itemprop="articleBody">
				<p>Транзакция &#8212; в информатике, группа последовательных операций, которая представляет собой логическую единицу работы с данными. Транзакция может быть выполнена либо целиком и успешно, с соблюдением целостности данных и независимо от параллельно идущих других транзакций, либо не выполнена вообще, в каковом случае она не должна произвести никакого эффекта. Транзакционность в системе SAP поддерживается на двух уровнях; на уровне СУБД и на уровне сервера приложений:</p>
<p><span id="more-625"></span></p>
<ul>
<li>На уровне СУБД транзакционность поддерживается путем открытия ЛЕР (логических единиц работы, английский вариант LUW Logical Unit of Work). В начале выполнения программы при обращении к базе данных открывается ЛЕР на уровне базы данных, далее при работе программы, если происходит явный или не явный COMMIT, то текущий ЛЕР закрывается, все данные сохраняются в БД и открывается новый ЛЕР.</li>
</ul>
<div><span style="line-height: 18px;"> </span></div>
<ul>
<li>На уровне сервера приложений для обеспечения транзакционности используются «модули обновления» (такие как CALL FUNCTION IN UPDATE TASK, PERFORM ON COMMIT), данные модули при вызове регистрируются в системе, но не выполняются сразу. Система собирает очередь обновления, после того, как в программе появляется явный оператор завершения транзакции (COMMIT WORK), система начинает выполнять последовательно зарегистрированные процессы обновления. Если в программе выполняется явный оператор отката транзакции (ROLLBACK WORK), то система удаляет вызовы из очереди обновления и откатывает текущий ЛЕР на уровне БД.</li>
</ul>
<p>По способу организации обновление базы данных может происходить следующим образом:</p>
<ol start="1">
<li>Обновление, инициируемое в основном приложении:</li>
</ol>
<ul>
<li>Прямое обновление</li>
<li>Обновление, использующее отложенные вызовы процедур</li>
</ul>
<ol start="2">
<li>Обновления, запускаемые программами обновления, со следующими параметрами:</li>
</ol>
<div>
<ul>
<li>Синхронный, асинхронный и локальный запуск</li>
<li>Через модули обновлений с типом V1 или V2.</li>
</ul>
</div>
<p>&nbsp;</p>
<p><strong>Прямое обновление</strong></p>
<p>Прямое обновление подразумевает использование операторов OpenSQL изменяющих состояние базы данных, после чего происходит вызов COMMIT WORK. Программа будет остановлена на операторе COMMIT WORK до тех пор, пока все обновления не выполнятся.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0fd97ddfa484270004" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97ddfa484270004-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97ddfa484270004-2">2</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97ddfa484270004-1"><span class="crayon-st">UPDATE</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>ИмяТаблицы<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">SET</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>ИмяПоля<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>Значение<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">WHERE</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>Ключ<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97ddfa484270004-2"><span class="crayon-st">COMMIT</span><span class="crayon-h"> </span><span class="crayon-st">WORK</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p><strong>Отложенный вызов процедур обновлений</strong></p>
<p>Отложенный вызов подразумевает собой регистрацию процедур обновления с помощью ключевого слова PERFORM &lt;ИмяПроцедуры&gt; <strong>ON </strong><strong>COMMIT</strong> (ROLLBACK). Запуск этих процедур не происходит сразу, они начинают выполняться только после оператора COMMIT WORK (ROLLBACK). Данные процедуры не должны иметь интерфейса. В случае, если в какой либо зарегистрированной процедуре происходит ошибка, для отмены изменений необходимо вызвать MESSAGE с типом A.  Работа программы возобновляется после того как отработает последняя процедура.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0fd97de0a057194456" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de0a057194456-13">13</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-1"><span class="crayon-c">* Регистрация процедуры обновления</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-2"><span class="crayon-st">PERFORM</span><span class="crayon-h"> </span><span class="crayon-st">UPDATE</span><span class="crayon-h"> </span><span class="crayon-st">ON</span><span class="crayon-h"> </span><span class="crayon-st">COMMIT</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-3"><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-4"><span class="crayon-c">* (Сбор данных) Заполнение внутренней таблицы, из которой будет происходить</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-5"><span class="crayon-c">* обновление таблицы базы данных..</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-6"><span class="crayon-o">.</span><span class="crayon-o">.</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-8"><span class="crayon-st">COMMIT</span><span class="crayon-h"> </span><span class="crayon-st">WORK</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-9"><span class="crayon-c">* Продолжение работы программы после обновления</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-10">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-11"><span class="crayon-st">FORM</span><span class="crayon-h"> </span><span class="crayon-st">UPDATE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-12"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">UPDATE</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>ИмяТаблицы<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">FROM</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>ИмяТаблицы<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de0a057194456-13"><span class="crayon-st">ENDFORM</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>Кроме того отложенные вызовы процедур могут быть использованы в обновлениях запускаемых программой обновления (см. ниже).</p>
<p>Обычно выполнение процедур происходит в том же порядке, в котором они вызваны, однако можно переопределить порядок вызова процедуры с помощью ключевого слова LEVEL &lt;Уровень&gt;. Чем ниже уровень, тем раньше будет запущена процедура.</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0fd97de14696891765" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de14696891765-14">14</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-1"><span class="crayon-st">PERFORM</span><span class="crayon-h"> </span><span class="crayon-st">X</span><span class="crayon-h"> </span><span class="crayon-st">ON</span><span class="crayon-h"> </span><span class="crayon-st">COMMIT</span><span class="crayon-h"> </span><span class="crayon-st">LEVEL</span><span class="crayon-h"> </span><span class="crayon-cn">2.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-2"><span class="crayon-st">PERFORM</span><span class="crayon-h"> </span><span class="crayon-st">Y</span><span class="crayon-h"> </span><span class="crayon-st">ON</span><span class="crayon-h"> </span><span class="crayon-st">COMMIT</span><span class="crayon-h"> </span><span class="crayon-st">LEVEL</span><span class="crayon-h"> </span><span class="crayon-cn">1.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-4"><span class="crayon-st">COMMIT</span><span class="crayon-h"> </span><span class="crayon-st">WORK</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-6"><span class="crayon-st">FORM</span><span class="crayon-h"> </span><span class="crayon-st">X</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-7"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-s">'X'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-8"><span class="crayon-st">ENDFORM</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-10"><span class="crayon-st">FORM</span><span class="crayon-h"> </span><span class="crayon-st">Y</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-11"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">WRITE</span><span class="crayon-h"> </span><span class="crayon-s">'Y'</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-12"><span class="crayon-st">ENDFORM</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de14696891765-14"><span class="crayon-c">* Результат: Y X.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p>Прямые обновления рекомендуется использовать, когда количество обновляемых данных минимально.</p>
<p>Крайне не рекомендуется использовать одновременно прямые и обновления запускаемые программой обновления, тем более в расширениях системы, где во время работы программы может быть вызван неявный DB COMMIT из-за чего прямые обновления в систему будут записаны, а те что делались программой обновления нет (небыли запущены). Проблемы неявных COMMIT’ов рассмотрена ниже.</p>
<p>Отменить отложенные вызовы, без отмены SAP LUW можно следующим способом:</p><!-- Urvanov Syntax Highlighter v2.8.22 -->

		<div id="urvanov-syntax-highlighter-618a0fd97de17778945249" class="urvanov-syntax-highlighter-syntax crayon-theme-abapblog urvanov-syntax-highlighter-font-monospace urvanov-syntax-highlighter-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-bottom: 12px; clear: none; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="urvanov-syntax-highlighter-plain-wrap"></div>
			<div class="urvanov-syntax-highlighter-main" style="">
				<table class="crayon-table">
					<tr class="urvanov-syntax-highlighter-row">
				<td class="crayon-nums " data-settings="show">
					<div class="urvanov-syntax-highlighter-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-1">1</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-2">2</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-3">3</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-4">4</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-5">5</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-6">6</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-7">7</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-8">8</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-9">9</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-10">10</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-11">11</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-12">12</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-13">13</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-14">14</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-15">15</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-16">16</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-17">17</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-18">18</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-19">19</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-20">20</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-21">21</div><div class="crayon-num crayon-striped-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-22">22</div><div class="crayon-num" data-line="urvanov-syntax-highlighter-618a0fd97de17778945249-23">23</div></div>
				</td>
						<td class="urvanov-syntax-highlighter-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-1"><span class="crayon-st">REPORT</span><span class="crayon-h"> </span>zpoc<span class="crayon-sy">_</span>roc<span class="crayon-sy">_</span>clear<span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-2">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-3"><span class="crayon-st">FIELD</span><span class="crayon-o">-</span><span class="crayon-st">SYMBOLS</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">TYPE</span><span class="crayon-h"> </span><span class="crayon-st">STANDARD</span><span class="crayon-h"> </span><span class="crayon-st">TABLE</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-4">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-5"><span class="crayon-st">PERFORM</span><span class="crayon-h"> </span><span class="crayon-st">ZTEST</span><span class="crayon-h"> </span><span class="crayon-st">ON</span><span class="crayon-h"> </span><span class="crayon-st">COMMIT</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-6">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-7"><span class="crayon-c">" Отчистим зарегистрированные POC события</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-8"><span class="crayon-st">ASSIGN</span><span class="crayon-h"> </span><span class="crayon-o">(</span><span class="crayon-s">'(SAPMSSY0)orders'</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-9"><span class="crayon-st">IF</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">ASSIGNED</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-10"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">REFRESH</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-11"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-12">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-13"><span class="crayon-c">" Отчистим зарегистрированные ROC события</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-14"><span class="crayon-st">ASSIGN</span><span class="crayon-h"> </span><span class="crayon-o">(</span><span class="crayon-s">'(SAPMSSY0)rb_orders'</span><span class="crayon-o">)</span><span class="crayon-h"> </span><span class="crayon-st">TO</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-15"><span class="crayon-st">IF</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-st">IS</span><span class="crayon-h"> </span><span class="crayon-st">ASSIGNED</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">REFRESH</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span>fs<span class="crayon-sy">_</span>poc<span class="crayon-sy">_</span>orders<span class="crayon-o">&gt;</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-17"><span class="crayon-st">ENDIF</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-18">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-19"><span class="crayon-st">COMMIT</span><span class="crayon-h"> </span><span class="crayon-st">WORK</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-20">&nbsp;</div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-21"><span class="crayon-st">FORM</span><span class="crayon-h"> </span><span class="crayon-st">ZTEST</span><span class="crayon-o">.</span></div><div class="crayon-line crayon-striped-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">BREAK</span><span class="crayon-o">-</span><span class="crayon-st">POINT</span><span class="crayon-o">.</span></div><div class="crayon-line" id="urvanov-syntax-highlighter-618a0fd97de17778945249-23"><span class="crayon-st">ENDFORM</span><span class="crayon-o">.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p><strong>Обновления, запускаемые программой обновления</strong></p>
<p>Общая схема работы выглядит следующим образом:</p>
<p><a href="../../wp-content/uploads/2012/03/11.png" data-slb-active="1" data-slb-asset="1377657617" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-626" title="1" src="../../wp-content/uploads/2012/03/11.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/11.png 1440w, ../../wp-content/uploads/2012/03/11-300x187.png 300w, ../../wp-content/uploads/2012/03/11-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>Как правило, программа обновления запускается в отдельном рабочем процессе, отдельно от главной диалоговой программы (исключение локальное обновление).  Рассмотрим процесс по шагам:</p>
<p><a href="../../wp-content/uploads/2012/03/21.png" data-slb-active="1" data-slb-asset="2031478638" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-627" title="2" src="../../wp-content/uploads/2012/03/21.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/21.png 1440w, ../../wp-content/uploads/2012/03/21-300x187.png 300w, ../../wp-content/uploads/2012/03/21-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p><strong>Шаг 1</strong>. Диалоговая программа получает данные от пользователя и заносит их специальную таблицу с запросами на обновление.</p>
<p><a href="../../wp-content/uploads/2012/03/31.png" data-slb-active="1" data-slb-asset="1679491993" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-628" title="3" src="../../wp-content/uploads/2012/03/31.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/31.png 1440w, ../../wp-content/uploads/2012/03/31-300x187.png 300w, ../../wp-content/uploads/2012/03/31-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p><strong>Шаг 2</strong>. Диалоговая программа завершает свой LUW, инициируя перенос пакета созданных запросов в программу обновления, вызывает оператор COMMIT WORK (AND WAIT).</p>
<p><a href="../../wp-content/uploads/2012/03/41.png" data-slb-active="1" data-slb-asset="90648527" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-629" title="4" src="../../wp-content/uploads/2012/03/41.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/41.png 1440w, ../../wp-content/uploads/2012/03/41-300x187.png 300w, ../../wp-content/uploads/2012/03/41-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p><strong>Шаг 3</strong>. На третьем шаге  пакет запросов будет перенесен системой в программу обновления.</p>
<p><a href="../../wp-content/uploads/2012/03/5.png" data-slb-active="1" data-slb-asset="156971887" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-630" title="5" src="../../wp-content/uploads/2012/03/5.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/5.png 1440w, ../../wp-content/uploads/2012/03/5-300x187.png 300w, ../../wp-content/uploads/2012/03/5-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p><strong>Шаг 4. </strong>Программа обновления переносит все данные из запросов в базу данных.</p>
<p><a href="../../wp-content/uploads/2012/03/6.png" data-slb-active="1" data-slb-asset="112490386" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-631" title="6" src="../../wp-content/uploads/2012/03/6.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/6.png 1440w, ../../wp-content/uploads/2012/03/6-300x187.png 300w, ../../wp-content/uploads/2012/03/6-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p><strong>Шаг 5. </strong>Если программа обновления выполнилась успешно, система удаляет все запросы, связанные с текущим LUW. В случае если происходит ошибка, обрабатываемые записи в таблице помечаются как некорректные. Пользователь, запустивший обновление, получает уведомление на SAP почту. За отправку уведомлений отвечает параметр rdisp/vbmail, за список пользователей параметр rdisp/vb_mail_user_list. Транзакция показывающая запросы обновлений – <strong>SM13</strong>.</p>
<p><a href="../../wp-content/uploads/2012/03/7.png" data-slb-active="1" data-slb-asset="1254569398" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-632" title="7" src="../../wp-content/uploads/2012/03/7.png" alt="" width="1440" height="908" srcset="../../wp-content/uploads/2012/03/7.png 1440w, ../../wp-content/uploads/2012/03/7-300x189.png 300w, ../../wp-content/uploads/2012/03/7-1024x645.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>С технической точки зрения, регистрация запросов на обновление происходит с помощью специальных ФМ – модулей обновления. Определяется в свойствах ФМ:</p>
<p><a href="../../wp-content/uploads/2012/03/8.png" data-slb-active="1" data-slb-asset="50972477" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-633" title="8" src="../../wp-content/uploads/2012/03/8.png" alt="" width="428" height="183" srcset="../../wp-content/uploads/2012/03/8.png 428w, ../../wp-content/uploads/2012/03/8-300x128.png 300w" sizes="(max-width: 428px) 100vw, 428px"></a></p>
<p>Интерфейс данных функций поддерживает только IMPORTING и TABLES параметры. Параметры EXPORTING и EXCEPTIONS игнорируются и не должны использоваться.</p>
<p><a href="../../wp-content/uploads/2012/03/9.png" data-slb-active="1" data-slb-asset="680644554" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-634" title="9" src="../../wp-content/uploads/2012/03/9.png" alt="" width="1440" height="940" srcset="../../wp-content/uploads/2012/03/9.png 1440w, ../../wp-content/uploads/2012/03/9-300x195.png 300w, ../../wp-content/uploads/2012/03/9-1024x668.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>Регистрация запросов на обновление в диалоговой программе происходит с помощью специального вызова ФМ с ключевым выражением – IN UPDATE TASK. Все запросы сохраняются в таблице со специальным ключом VBKEY, который идентифицирует текущий LUW.  Как только вы запустите COMMIT WORK (Шаг 2), будет инициировано обновление (Шаг 3).</p>
<p>Для того чтобы удалить все запросы на обновления можно воспользоваться либо ROLLBACK WORK, либо MESSAGE TYPE A. При этом будут отменены как все запросы на обновления, так и все прямые изменения (если они были, нежелательно), будет создан новый LUW.</p>
<p><a href="../../wp-content/uploads/2012/03/10.png" data-slb-active="1" data-slb-asset="899738339" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-635" title="10" src="../../wp-content/uploads/2012/03/10.png" alt="" width="1440" height="941" srcset="../../wp-content/uploads/2012/03/10.png 1440w, ../../wp-content/uploads/2012/03/10-300x196.png 300w, ../../wp-content/uploads/2012/03/10-1024x669.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>В модулях обновления запрещено использование COMMIT WORK или ROLLBACK WORK, но если вы хотите отменить все изменения вносимые запросами, необходимо вызывать MESSAGE TYPE A. После чего все запросы в текущем LUW будут отмечены как ошибочные (тр. SM13), пользователь совершающий обновление будет оповещен об ошибке.</p>
<p><a href="../../wp-content/uploads/2012/03/112.png" data-slb-active="1" data-slb-asset="985160436" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-637" title="11" src="../../wp-content/uploads/2012/03/112.png" alt="" width="1440" height="940" srcset="../../wp-content/uploads/2012/03/112.png 1440w, ../../wp-content/uploads/2012/03/112-300x195.png 300w, ../../wp-content/uploads/2012/03/112-1024x668.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>При использовании системы блокировок, если параметр _scope выставлен по умолчанию (2), система снимет все поставленные блокировки (см. статью про блокировки).</p>
<p><strong>Асинхронный запуск модулей обновления</strong></p>
<p>При асинхронном обновлении диалоговая программа и программа обновления запускаются в разных рабочих процессах на сервере приложений:</p>
<p><a href="../../wp-content/uploads/2012/03/12.png" data-slb-active="1" data-slb-asset="1078348281" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-638" title="12" src="../../wp-content/uploads/2012/03/12.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/12.png 1440w, ../../wp-content/uploads/2012/03/12-300x187.png 300w, ../../wp-content/uploads/2012/03/12-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>После вызова COMMIT WORK системой будет запущена программа обновления, при этом диалоговая программа не будет остановлена и продолжит свою работу, не ожидая конца обновлений.</p>
<p>Асинхронные обновления должны использоваться в программах, где обновление базы данных занимает продолжительное время.</p>
<p><strong>Синхронный запуск модулей обновления</strong></p>
<p>При синхронном запуске модулей обновления необходимо использовать конструкцию COMMIT WORK <strong>AND WAIT</strong>.</p>
<p><a href="../../wp-content/uploads/2012/03/13.png" data-slb-active="1" data-slb-asset="1654419627" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-639" title="13" src="../../wp-content/uploads/2012/03/13.png" alt="" width="1440" height="933" srcset="../../wp-content/uploads/2012/03/13.png 1440w, ../../wp-content/uploads/2012/03/13-300x194.png 300w, ../../wp-content/uploads/2012/03/13-1024x663.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>При синхронном запуске диалоговая программа и программа обновления так же запускаются в разных рабочих процессах на сервере приложений. Разница состоит в том, что программа приостанавливает свою работу до тех пор, пока не будет завершена программа обновления. При этом в после ошибки sy-subrc попадет код ошибки, в случае если она произошла в программе обновления.</p>
<p><strong>Локальные обновления</strong></p>
<p><a href="../../wp-content/uploads/2012/03/14.png" data-slb-active="1" data-slb-asset="1945928683" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-640" title="14" src="../../wp-content/uploads/2012/03/14.png" alt="" width="1440" height="884" srcset="../../wp-content/uploads/2012/03/14.png 1440w, ../../wp-content/uploads/2012/03/14-300x184.png 300w, ../../wp-content/uploads/2012/03/14-1024x628.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>При локальном обновлении обработка запросов на обновление осуществляется в той же диалоговой программе, где они были зарегистрированы, сами запросы хранятся при этом в области памяти, а не в таблице. Для того чтобы включить локальные обновления необходимо воспользоваться следующим выражением <strong>SET </strong><strong>UPDATE </strong><strong>TASK </strong><strong>LOCAL</strong> до момента регистрации запросов.  Работа программы возобновляется только после обработки всех запросов текущего LUW, т.о. обновление происходит синхронно, из-за этого локальные обновления применяются в основном в <strong>фоновом режиме</strong>.</p>
<p>&nbsp;</p>
<p><strong>Типы модулей обновления</strong></p>
<p><a href="../../wp-content/uploads/2012/03/15.png" data-slb-active="1" data-slb-asset="23238520" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-641" title="15" src="../../wp-content/uploads/2012/03/15.png" alt="" width="417" height="178" srcset="../../wp-content/uploads/2012/03/15.png 417w, ../../wp-content/uploads/2012/03/15-300x128.png 300w" sizes="(max-width: 417px) 100vw, 417px"></a></p>
<p>Существует два типа модулей обновления V1 и V2. Тип определяет порядок обработки запросов. Сначала обрабатываются все запросы V1 в своем LUW (в отдельном рабочем процессе, если в системе настроены V2 модули обновления), затем если все V1 запросы были выполнены, запускается обновление V2 запросов в отдельном LUW.</p>
<p>V1 модули могут быть с возможностью повторного запуска и без. Повторить запросы можно через транзакцию SM13. Запросы V2 модулей можно всегда повторить.</p>
<p>Общая схема работы V1 и V2 модулей:</p>
<p><a href="../../wp-content/uploads/2012/03/16.png" data-slb-active="1" data-slb-asset="754946245" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-642" title="16" src="../../wp-content/uploads/2012/03/16.png" alt="" width="1440" height="900" srcset="../../wp-content/uploads/2012/03/16.png 1440w, ../../wp-content/uploads/2012/03/16-300x187.png 300w, ../../wp-content/uploads/2012/03/16-1024x640.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>Как видно из рисунка – V1 и V2 запросы обрабатываются в отдельных рабочих процессах. В случае если в системе не настроено использование V2 модулей, они будут выполняться в том же рабочем процессе что и V1, но в разных DB LUW. Следует отметить, что если используются блокировки и параметр _scope стоит по умолчанию (2), в момент запуска обработки V2 запросов все блокировки будут уже сняты.</p>
<p><span style="color: #ff0000;">Стоит обратить особое внимание на то, что при запуске в синхронном режиме ожидание будет происходить только для V1 модулей, система не будет ожидать пока выполнятся V2 модули.</span></p>
<p><strong>Отложенный запуск процедур обновлений в модулях обновлений</strong></p>
<p><a href="../../wp-content/uploads/2012/03/17.png" data-slb-active="1" data-slb-asset="273271014" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-643" title="17" src="../../wp-content/uploads/2012/03/17.png" alt="" width="1440" height="906" srcset="../../wp-content/uploads/2012/03/17.png 1440w, ../../wp-content/uploads/2012/03/17-300x188.png 300w, ../../wp-content/uploads/2012/03/17-1024x644.png 1024w" sizes="(max-width: 1440px) 100vw, 1440px"></a></p>
<p>Во время обновлений часто используемых таблиц, важно чтобы обновление прошло как можно позже (не держать физическую блокировку базы данных на протяжении выполнения всех запросов, либо сделать какие-то действия на этапе их непосредственного сохранения в расширении системы). Для этого можно воспользоваться  отложенными процедурами обновления, схема их работы аналогична той, что была описана выше (прямые обновления), их вызов происходит в момент, когда все запросы были обработаны.</p>
<p><strong>Проблемы неявных </strong><strong>COMMIT’ов</strong></p>
<p>При обработке программы на сервере приложений системы часто происходит закрытие текущей ЛЕР БД и открытие новой ЛЕР БД в рамках одной программы (неявные COMMIT’ы). Данная ситуация постоянно происходит при обработке экранов. На из справки (ниже) по обновлению системы видно, что при каждой обработке событий PAI на экране происходит неявный DB COMMIT, после чего текущий ЛЕР БД закрывается и открывается новый, и все прямые обновления сделанные в БД больше откатить нельзя. На первый взгляд, что в этом такого, но давайте рассмотрим пример.</p>
<p><a href="../../wp-content/uploads/2012/03/19.png" data-slb-active="1" data-slb-asset="105359324" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-644" title="19" src="../../wp-content/uploads/2012/03/19.png" alt="" width="494" height="360" srcset="../../wp-content/uploads/2012/03/19.png 494w, ../../wp-content/uploads/2012/03/19-300x218.png 300w" sizes="(max-width: 494px) 100vw, 494px"></a></p>
<p>Для примера была создана таблица ZTEST_UPDATE в БД</p>
<p><a href="../../wp-content/uploads/2012/03/20.png" data-slb-active="1" data-slb-asset="666647582" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-645" title="20" src="../../wp-content/uploads/2012/03/20.png" alt="" width="725" height="369" srcset="../../wp-content/uploads/2012/03/20.png 725w, ../../wp-content/uploads/2012/03/20-300x152.png 300w" sizes="(max-width: 725px) 100vw, 725px"></a></p>
<p><strong>Написана простая программа.</strong></p>
<p><a href="../../wp-content/uploads/2012/03/21.jpg" data-slb-active="1" data-slb-asset="1670049483" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-646" title="21" src="../../wp-content/uploads/2012/03/21.jpg" alt="" width="734" height="382" srcset="../../wp-content/uploads/2012/03/21.jpg 734w, ../../wp-content/uploads/2012/03/21-300x156.jpg 300w" sizes="(max-width: 734px) 100vw, 734px"></a></p>
<p>До запуска данной программы таблица была пустая.</p>
<p>После запуска программы из общих соображений ожидается, что таблица так и останется пустой, но это не так. Сообщение выданное в виде окошка, вызывает неявный DB COMMIT и после этого оператор отката ROLLBACK WORK откатывает уже новую ЛЕР, а ЛЕР в которой был сделан MODIFY уже закрыт, и изменения в БД сохранены.</p>
<p><a href="../../wp-content/uploads/2012/03/22.png" data-slb-active="1" data-slb-asset="1617060226" data-slb-internal="0" data-slb-group="625"><img loading="lazy" class="alignnone size-full wp-image-647" title="22" src="../../wp-content/uploads/2012/03/22.png" alt="" width="494" height="415" srcset="../../wp-content/uploads/2012/03/22.png 494w, ../../wp-content/uploads/2012/03/22-300x252.png 300w" sizes="(max-width: 494px) 100vw, 494px"></a></p>
<p>Однако, если убрать оператор MESSAGE (в Программе 1), то таблица так и останется пустой.</p>
<p>Неявные DB COMMIT’ы вызываются в следующих случаях:</p>
<ul>
<li>Смена SAP экрана</li>
<li>Вызов диалогового сообщения</li>
<li>Оператор Wait прерван рабочим процессом</li>
<li>Синхронный или асинхронный вызов RFC функции (исключение qRFC, tRFC, bgRFC)</li>
<li>&#8230;</li>
</ul>
<p>Полный перечень таких ситуаций можно посмотреть в <a href="../../doc/abapdocu_latest_index_htm/latest/en-US/abendb_commit.htm" target="_blank" rel="noopener">справке</a>.</p>
<p>Неявные DB ROLLBACK&#8217;и вызываются в следующих случаях:</p>
<ul>
<li>Ошибка времени выполнения</li>
<li>Сообщение об ошибке с типом A,X</li>
</ul>
							</div>
		<div class="tags-links"><a href="../../tag/perform-on-commit/index.htm" rel="tag">PERFORM ON COMMIT</a> <a href="../../tag/set-update-task-local/index.htm" rel="tag">SET UPDATE TASK LOCAL</a> <a href="../../tag/v1/index.htm" rel="tag">V1</a> <a href="../../tag/v2/index.htm" rel="tag">V2</a> <a href="../../tag/moduli-obnovleniya/index.htm" rel="tag">Модули обновления</a> <a href="../../tag/neyavnyj-commit/index.htm" rel="tag">Неявный COMMIT</a></div></article>
	
	<nav class="navigation post-navigation" role="navigation" aria-label="Записи">
		<h2 class="screen-reader-text">Навигация по записям</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../../network/remote-function-call/index.htm" rel="prev"><span class="meta-nav" aria-hidden="true">Назад</span> <span class="screen-reader-text">Предыдущая запись:</span> <span class="post-title">Remote Function Call</span></a></div><div class="nav-next"><a href="../../osnovy-abap/sap-dynpro/poluchenie-dannyx-iz-standartnyx-sap-gui-alv-otchyotov/index.htm" rel="next"><span class="meta-nav" aria-hidden="true">Далее</span> <span class="screen-reader-text">Следующая запись:</span> <span class="post-title">Получение данных из стандартных SAP GUI ALV отчётов</span></a></div></div>
	</nav>

<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			<span itemprop="interactionCount">8</span> комментариев		</h2>

		<ol class="comment-list">
					<li id="comment-3292" class="comment even thread-even depth-1 parent">
			<article id="div-comment-3292" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/0504b243c1cae6336908719ad0c2ead4.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/0504b243c1cae6336908719ad0c2ead4-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Alexander G.</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-3292"><time datetime="2013-07-25T14:34:06+04:00">25.07.2013 в 14:34</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Отличная статья, спасибо, выручила!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-1.htm?replytocom=3292#respond' data-commentid="3292" data-postid="625" data-belowelement="div-comment-3292" data-respondelement="respond" data-replyto="Комментарий к записи Alexander G." aria-label='Комментарий к записи Alexander G.'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-3297" class="comment byuser comment-author-admin bypostauthor odd alt depth-2">
			<article id="div-comment-3297" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/907cc9d3a027be8998658f18c0a7fa4e.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/907cc9d3a027be8998658f18c0a7fa4e-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Astrafox</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-3297"><time datetime="2013-07-25T16:02:28+04:00">25.07.2013 в 16:02</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Спасибо за отзыв, некоторые материалы были позаимствованы из данной статьи: sapland.ru/articles/stats/2010/1/Tonkie_momenti_obnovleniya_bazi_dannih_v_ABAP.html</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-2.htm?replytocom=3297#respond' data-commentid="3297" data-postid="625" data-belowelement="div-comment-3297" data-respondelement="respond" data-replyto="Комментарий к записи Astrafox" aria-label='Комментарий к записи Astrafox'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-9198" class="comment even thread-odd thread-alt depth-1 parent">
			<article id="div-comment-9198" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/index.htm.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/index.htm-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo avatar-default' height='80' width='80' loading='lazy'>						<b class="fn">Andron</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-9198"><time datetime="2013-12-06T17:15:04+04:00">06.12.2013 в 17:15</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Коротко и  исчерпывающе! Спасибо!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-3.htm?replytocom=9198#respond' data-commentid="9198" data-postid="625" data-belowelement="div-comment-9198" data-respondelement="respond" data-replyto="Комментарий к записи Andron" aria-label='Комментарий к записи Andron'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17834" class="comment odd alt depth-2 parent">
			<article id="div-comment-17834" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/index.htm.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/index.htm-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo avatar-default' height='80' width='80' loading='lazy'>						<b class="fn">Антон</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17834"><time datetime="2021-08-06T11:54:02+04:00">06.08.2021 в 11:54</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Коллега, при вызове CALL TRANSACTION и SUBMIT не происходит неявного комита, если же комита нет внутри вызываемой программы.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-4.htm?replytocom=17834#respond' data-commentid="17834" data-postid="625" data-belowelement="div-comment-17834" data-respondelement="respond" data-replyto="Комментарий к записи Антон" aria-label='Комментарий к записи Антон'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17835" class="comment byuser comment-author-admin bypostauthor even depth-3">
			<article id="div-comment-17835" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/907cc9d3a027be8998658f18c0a7fa4e.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/907cc9d3a027be8998658f18c0a7fa4e-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Astrafox</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17835"><time datetime="2021-08-07T10:37:36+04:00">07.08.2021 в 10:37</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Верно, при вызове этих операторов будет открыт новый SAP LUW, но не DB LUW.</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-5.htm?replytocom=17835#respond' data-commentid="17835" data-postid="625" data-belowelement="div-comment-17835" data-respondelement="respond" data-replyto="Комментарий к записи Astrafox" aria-label='Комментарий к записи Astrafox'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-17836" class="comment byuser comment-author-admin bypostauthor odd alt depth-3">
			<article id="div-comment-17836" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/907cc9d3a027be8998658f18c0a7fa4e.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/907cc9d3a027be8998658f18c0a7fa4e-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Astrafox</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17836"><time datetime="2021-08-07T10:39:57+04:00">07.08.2021 в 10:39</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Спасибо за уточнение!</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-6.htm?replytocom=17836#respond' data-commentid="17836" data-postid="625" data-belowelement="div-comment-17836" data-respondelement="respond" data-replyto="Комментарий к записи Astrafox" aria-label='Комментарий к записи Astrafox'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		<li id="comment-17616" class="comment even thread-even depth-1 parent">
			<article id="div-comment-17616" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/69a8d4578ddc3f09d43e56d5ad8ef58c.jpeg?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/69a8d4578ddc3f09d43e56d5ad8ef58c-1.jpeg 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Ильмир Нуриев</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17616"><time datetime="2014-10-17T15:16:00+04:00">17.10.2014 в 15:16</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>А есть аналог ассинхроного коммита для метода?<br>
Или проще в метод зашить вызов фм или перформ с соответствующими параметрами?</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-7.htm?replytocom=17616#respond' data-commentid="17616" data-postid="625" data-belowelement="div-comment-17616" data-respondelement="respond" data-replyto="Комментарий к записи Ильмир Нуриев" aria-label='Комментарий к записи Ильмир Нуриев'>Ответить</a></div>			</article><!-- .comment-body -->
		<ol class="children">
		<li id="comment-17617" class="comment odd alt depth-2">
			<article id="div-comment-17617" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt='' src='../../avatar/47a1eb6e85596e832b844631b7c9dd09.png?s=80&#038;d=retro&#038;r=g' srcset='../../avatar/47a1eb6e85596e832b844631b7c9dd09-1.png 2x?s=160&#038;d=retro&#038;r=g 2x' class='avatar avatar-80 photo' height='80' width='80' loading='lazy'>						<b class="fn">Astrafox</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="index.htm#comment-17617"><time datetime="2014-10-17T16:13:00+04:00">17.10.2014 в 16:13</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>Реализации отложенных обновлений для методов не существует. </p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel='nofollow' class='comment-reply-link' href='index-8.htm?replytocom=17617#respond' data-commentid="17617" data-postid="625" data-belowelement="div-comment-17617" data-respondelement="respond" data-replyto="Комментарий к записи Astrafox" aria-label='Комментарий к записи Astrafox'>Ответить</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
		</ol>

		
		
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Добавить комментарий для <a href="#comment-17617">Astrafox</a> <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.htm#respond">Отменить ответ</a></small></h3><form action="https://abap-blog.ru/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate=""><p class="comment-notes"><span id="email-notes">Ваш адрес email не будет опубликован.</span></p><p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Имя</label> <input id="author" name="author" type="text" value="" size="30" maxlength="245"></p>
<div class="anr_captcha_field"><div id="anr_captcha_field_1" class="anr_captcha_field_div"></div></div><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Отправить комментарий"> <input type='hidden' name='comment_post_ID' value='625' id='comment_post_ID'>
<input type='hidden' name='comment_parent' id='comment_parent' value='17617'>
</p></form>	</div><!-- #respond -->
	
	
</div>

			</div>
							</div>
					</div>
	</div>
</div>
<script type='text/javascript' id='contact-form-7-js-extra'>
/* <![CDATA[ */
var wpcf7 = {"api":{"root":"https:\/\/abap-blog.ru\/wp-json\/","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script src='../../wp-content/plugins/contact-form-7/includes/js/index.js?ver=5.5.1' id='contact-form-7-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect.min.js?ver=1.12.1' id='jquery-effects-core-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-slide.min.js?ver=1.12.1' id='jquery-effects-slide-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-highlight.min.js?ver=1.12.1' id='jquery-effects-highlight-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-fold.min.js?ver=1.12.1' id='jquery-effects-fold-js'></script>
<script src='../../wp-includes/js/jquery/ui/effect-blind.min.js?ver=1.12.1' id='jquery-effects-blind-js'></script>
<script src='../../wp-content/plugins/show-hidecollapse-expand/assets/js/bg-show-hide.js?ver=5.8.1' id='bg-show-hide-script-js'></script>
<script src='../../wp-includes/js/comment-reply.min.js?ver=5.8.1' id='comment-reply-js'></script>
<script src='../../wp-content/plugins/dynamic-to-top/js/libs/jquery.easing.js?ver=1.3' id='jquery-easing-js'></script>
<script type='text/javascript' id='dynamic-to-top-js-extra'>
/* <![CDATA[ */
var mv_dynamic_to_top = {"text":"To Top","version":"0","min":"300","speed":"1100","easing":"easeInExpo","margin":"20"};
/* ]]> */
</script>
<script src='../../wp-content/plugins/dynamic-to-top/js/dynamic.to.top.min.js?ver=3.5' id='dynamic-to-top-js'></script>
<script src='../../recaptcha/api.js?render=6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC&#038;ver=3.0' id='google-recaptcha-js'></script>
<script type='text/javascript' id='wpcf7-recaptcha-js-extra'>
/* <![CDATA[ */
var wpcf7_recaptcha = {"sitekey":"6LdA3s4UAAAAADBjYG-YFAEz4zKS3lKp1CB_BHMC","actions":{"homepage":"homepage","contactform":"contactform"}};
/* ]]> */
</script>
<script src='../../wp-content/plugins/contact-form-7/modules/recaptcha/index.js?ver=5.5.1' id='wpcf7-recaptcha-js'></script>
<script src='../../wp-includes/js/wp-embed.min.js?ver=5.8.1' id='wp-embed-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/client/js/prod/lib.core.js?ver=2.8.1' id='slb_core-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/client/js/prod/lib.view.js?ver=2.8.1' id='slb_view-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/themes/baseline/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_baseline-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/themes/default/js/prod/client.js?ver=2.8.1' id='slb-asset-slb_default-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/template-tags/item/js/prod/tag.item.js?ver=2.8.1' id='slb-asset-item-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/template-tags/ui/js/prod/tag.ui.js?ver=2.8.1' id='slb-asset-ui-base-js'></script>
<script src='../../wp-content/plugins/simple-lightbox/content-handlers/image/js/prod/handler.image.js?ver=2.8.1' id='slb-asset-image-base-js'></script>
<script type="text/javascript" id="slb_footer">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB && SLB.has_child('View.init') ) { SLB.View.init({"ui_autofit":true,"ui_animate":true,"slideshow_autostart":false,"slideshow_duration":"6","group_loop":true,"ui_overlay_opacity":"0.8","ui_title_default":false,"theme_default":"slb_default","ui_labels":{"loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430","close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","nav_next":"\u0412\u043f\u0435\u0440\u0435\u0434","nav_prev":"\u041d\u0430\u0437\u0430\u0434","slideshow_start":"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","slideshow_stop":"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443","group_status":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 %current%  \u0438\u0437 %total%"}}); }
if ( !!window.SLB && SLB.has_child('View.assets') ) { {$.extend(SLB.View.assets, {"1377657617":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/11.png"},"2031478638":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/21.png"},"1679491993":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/31.png"},"90648527":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/41.png"},"156971887":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/5.png"},"112490386":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/6.png"},"1254569398":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/7.png"},"50972477":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/8.png"},"680644554":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/9.png"},"899738339":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/10.png"},"985160436":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/112.png"},"1078348281":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/12.png"},"1654419627":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/13.png"},"1945928683":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/14.png"},"23238520":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/15.png"},"754946245":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/16.png"},"273271014":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/17.png"},"105359324":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/19.png"},"666647582":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/20.png"},"1670049483":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/21.jpg"},"1617060226":{"id":null,"type":"image","internal":true,"source":"http:\/\/abap-blog.ru\/wp-content\/uploads\/2012\/03\/22.png"}});} }
/* THM */
if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_baseline',{"name":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u043b\u0438\u043d\u0438\u044f","parent":"","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/baseline\/css\/style.css","deps":[]}],"layout_raw":"<div class=\"slb_container\"><div class=\"slb_content\">{{item.content}}<div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><div class=\"slb_controls\"><span class=\"slb_close\">{{ui.close}}<\/span><span class=\"slb_slideshow\">{{ui.slideshow_control}}<\/span><\/div><div class=\"slb_loading\">{{ui.loading}}<\/div><\/div><div class=\"slb_details\"><div class=\"inner\"><div class=\"slb_data\"><div class=\"slb_data_content\"><span class=\"slb_data_title\">{{item.title}}<\/span><span class=\"slb_group_status\">{{ui.group_status}}<\/span><div class=\"slb_data_desc\">{{item.description}}<\/div><\/div><\/div><div class=\"slb_nav\"><span class=\"slb_prev\">{{ui.nav_prev}}<\/span><span class=\"slb_next\">{{ui.nav_next}}<\/span><\/div><\/div><\/div><\/div>"}); }if ( !!window.SLB && SLB.has_child('View.extend_theme') ) { SLB.View.extend_theme('slb_default',{"name":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0441\u0432\u0435\u0442\u043b\u044b\u0439)","parent":"slb_baseline","styles":[{"handle":"base","uri":"https:\/\/abap-blog.ru\/wp-content\/plugins\/simple-lightbox\/themes\/default\/css\/style.css","deps":[]}]}); }})})(jQuery);}/* ]]> */</script>
<script type="text/javascript" id="slb_context">/* <![CDATA[ */if ( !!window.jQuery ) {(function($){$(document).ready(function(){if ( !!window.SLB ) { {$.extend(SLB, {"context":["public","user_guest"]});} }})})(jQuery);}/* ]]> */</script>
			<script type="text/javascript">
				var anr_onloadCallback = function() {
					for ( var i = 0; i < document.forms.length; i++ ) {
						var form = document.forms[i];
						var captcha_div = form.querySelector( '.anr_captcha_field_div' );

						if ( null === captcha_div )
							continue;
						captcha_div.innerHTML = '';
						( function( form ) {
							var anr_captcha = grecaptcha.render( captcha_div,{
								'sitekey' : '6LfmhbAaAAAAABBrfPpMngzFHB6qZ4ATxXd3rvOR',
								'size'  : 'normal',
								'theme' : 'light'
							});
							if ( typeof jQuery !== 'undefined' ) {
								jQuery( document.body ).on( 'checkout_error', function(){
									grecaptcha.reset(anr_captcha);
								});
							}
							if ( typeof wpcf7 !== 'undefined' ) {
								document.addEventListener( 'wpcf7submit', function() {
									grecaptcha.reset(anr_captcha);
								}, false );
							}
						})(form);
					}
				};
			</script>
						<script src="../../recaptcha/api-1.js?onload=anr_onloadCallback&#038;render=explicit" async="" defer="">
			</script>
			</body>
</html>
