{"id":2667,"date":"2015-11-09T15:41:12","date_gmt":"2015-11-09T11:41:12","guid":{"rendered":"http:\/\/abap-blog.ru\/?p=2667"},"modified":"2021-03-02T10:12:54","modified_gmt":"2021-03-02T06:12:54","slug":"secure-store-and-forward","status":"publish","type":"post","link":"https:\/\/abap-blog.ru\/others\/secure-store-and-forward\/","title":{"rendered":"Secure store and forward"},"content":{"rendered":"<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssh-private-public-keys21.jpg\"><img loading=\"lazy\" class=\" wp-image-2668 alignleft\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssh-private-public-keys21.jpg\" alt=\"ssh-private-public-keys2[1]\" width=\"247\" height=\"166\" \/><\/a><\/p>\n<p><strong>Secure store and forward<\/strong> (SSF) &#8212; \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 SAP NetWeaver. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 (\u042d\u0426\u041f), \u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430\u00a0\u0434\u0430\u043d\u043d\u044b\u0445.<\/p>\n<p>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SSF \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u043c (\u043d\u0430\u0437\u043e\u0432\u0435\u043c \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c). \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u044b: PKCS#7, PKCS#1 \u0438 \u0434\u0440.<\/p>\n<p>\u0412 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0430\u0442\u044c\u0435 \u043d\u0430 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u042d\u0426\u041f \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 SAP, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u0432. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u044c \u0447\u0442\u043e \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e ABAP \u0441\u0442\u0435\u043a.<\/p>\n<p><!--more--><\/p>\n<h2>\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b<\/h2>\n<p>\u0412\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0441\u043e\u0431\u043e\u0439 \u043d\u0430\u0431\u043e\u0440 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439. \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f SAP \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0434\u0432\u0430 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u00a0(ABAP \u0441\u0442\u0435\u043a):<\/p>\n<ul>\n<li><strong>SAPSECULIB<\/strong> \u2013 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 DSA \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\/\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u042d\u0426\u041f (\u0442.\u043a. \u0441\u0430\u043c \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043d\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u0434\u043b\u044f \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f);<\/li>\n<li><strong>SAPCRYPTOLIB<\/strong> \u2013 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043a\u0430\u043a DSA, \u0442\u0430\u043a \u0438 RSA \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c, \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u044b\u0431\u043e\u0440\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043a\u043b\u044e\u0447\u0430. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\/\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u042d\u0426\u041f, \u0442\u0430\u043a \u0438 \u0434\u043b\u044f \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f (RSA);<\/li>\n<\/ul>\n<p>\u041e\u0431\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0436\u0435\u043b\u0435\u0437\u043e \u0442\u0430\u043a\u043e\u0435 \u043a\u0430\u043a: \u0441\u043c\u0430\u0440\u0442-\u043a\u0430\u0440\u0442\u044b, \u0442\u043e\u043a\u0435\u043d\u044b \u0438 \u043f\u0440\u043e\u0447\u0435\u0435, \u0441\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u0432 \u043e\u0431\u043e\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u0431\u0443\u0434\u0443\u0442 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u0445 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u0414\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0436\u0435\u043b\u0435\u0437\u0430, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b.<\/p>\n<p>\u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 SAPSECULIB \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u0430 SAPCRYPTOLIB, \u0434\u043b\u044f \u0447\u0435\u0433\u043e \u0435\u0441\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 <a href=\"http:\/\/service.sap.com\/sap\/support\/notes\/578377\">\u043d\u043e\u0442\u044b<\/a>.<\/p>\n<h2>\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b<\/h2>\n<p>\u0412\u043d\u0435\u0448\u043d\u0438\u0435 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442 \u0441\u043e\u0431\u043e\u0439 \u041f\u041e \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u0443\u0440\u043e\u0432\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f. \u0414\u043e\u0441\u0442\u0443\u043f \u043a \u043d\u0438\u043c \u043c\u043e\u0436\u0435\u0442 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438:<\/p>\n<ul>\n<li>\u0427\u0435\u0440\u0435\u0437 RFC \u0432\u044b\u0437\u043e\u0432 SSF \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435<\/li>\n<li>\u0427\u0435\u0440\u0435\u0437 ActiveX \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0438 \u0432\u044b\u0437\u043e\u0432 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430 MS Crypto-API<\/li>\n<\/ul>\n<p>\u0412 \u043b\u044e\u0431\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435. SSF \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u044d\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0441 \u0437\u0430\u0440\u0430\u043d\u0435\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0431\u0430\u0437\u0435 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0439 SAP \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438.<\/p>\n<h2>\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 SSF<\/h2>\n<p>\u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a SSF \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0430\u0431\u043e\u0440 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u0437\u0432\u0430\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u0432, \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u0437 \u043d\u0438\u0445 \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u0434\u0430\u043b\u0435\u0435:<\/p>\n<table>\n<tbody>\n<tr>\n<td width=\"319\">\u00a0<strong>\u0424\u041c<\/strong><\/td>\n<td width=\"319\"><strong>\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435<\/strong><\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*VERSION<\/td>\n<td width=\"319\">\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0432\u0435\u0440\u0441\u0438\u044e \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*QUERYPROPERTIES<\/td>\n<td width=\"319\">\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432: \u0444\u043e\u0440\u043c\u0430\u0442\u044b \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f, \u0445\u0435\u0448-\u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u044b \u0438 \u0442.\u043f.<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*SIGN<\/td>\n<td width=\"319\">\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u042d\u0426\u041f<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*VERIFY<\/td>\n<td width=\"319\">\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u042d\u0426\u041f<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*ENVELOPE<\/td>\n<td width=\"319\">\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*DEVELOPE<\/td>\n<td width=\"319\">\u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*ADDSIGN<\/td>\n<td width=\"319\">\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u044c \u043a \u0443\u0436\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u043c\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044e.<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_*DIGEST<\/td>\n<td width=\"319\">\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0445\u0435\u0448\u0430<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSF_GET_PARAMETER<\/td>\n<td width=\"319\">\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 SSF \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f<\/td>\n<\/tr>\n<tr>\n<td width=\"319\">SSFS_CALL_CONTROL<\/td>\n<td width=\"319\">\u0412\u044b\u0437\u043e\u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 Microsoft Crypto API<\/td>\n<\/tr>\n<\/tbody>\n<\/table>\n<p>* &#8212; \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c * \u043d\u0430 KRN_, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: SSF_KRN_VERSION:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/version.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-2669\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/version.png\" alt=\"version\" width=\"891\" height=\"175\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/version.png 891w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/version-300x59.png 300w\" sizes=\"(max-width: 891px) 100vw, 891px\" \/><\/a><\/p>\n<p>\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 SSF \u0437\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a:<\/p>\n<ul>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0439 \u0445\u0435\u0448-\u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c,<\/li>\n<li>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u044c,<\/li>\n<li>\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043f\u043e\u0434\u043f\u0438\u0441\u044c,<\/li>\n<li>\u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0438 \u0438 \u0434\u0440.<\/li>\n<\/ul>\n<p>\u0414\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439, \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0433\u0443\u0442\u00a0\u0440\u0430\u0437\u043b\u0438\u0447\u0430\u0442\u044c\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0445 \u043a\u0430\u043a \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u044b, \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e, \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c SSF \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f \u044d\u0442\u043e \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u043a\u0443\u0440\u0441 \u0432\u0435\u0434\u0435\u043d\u0438\u044f (SE16) \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435 SSFAPPLIC, \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-2670\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app.png\" alt=\"ssf_app\" width=\"466\" height=\"349\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app.png 466w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app-300x225.png 300w\" sizes=\"(max-width: 466px) 100vw, 466px\" \/><\/a><\/p>\n<p>\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 X \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f, \u0435\u0441\u043b\u0438 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0434\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043d\u0435\u043b\u044c\u0437\u044f \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440. \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u043c \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043f\u0440\u043e\u0441\u0442\u0430\u0432\u0438\u0432 \u0432\u0435\u0437\u0434\u0435 X.<\/p>\n<p>\u0414\u043b\u044f \u0435\u0433\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e <strong>STRUST<\/strong> \u0438 \u043d\u0430\u0436\u0430\u0442\u044c F9 (\u0421\u0440\u0435\u0434\u0430 -&gt; \u0412\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 SSF), \u0437\u0430\u0434\u0430\u0434\u0438\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app_options.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-2671\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app_options.png\" alt=\"ssf_app_options\" width=\"594\" height=\"316\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app_options.png 594w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_app_options-300x160.png 300w\" sizes=\"(max-width: 594px) 100vw, 594px\" \/><\/a><\/p>\n<p>\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0424\u041c <strong>SSF_GET_PARAMETER<\/strong>. \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u0438\u0437 \u043d\u0438\u0445 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0432\u043e \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.<\/p>\n<p>\u041a\u0440\u043e\u043c\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0445 \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b SSF, \u0442\u0443\u0442 \u0442\u0430\u043a \u0436\u0435 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0444\u0430\u0439\u043b\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 SSF \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0435 \u043a\u043b\u044e\u0447\u0438, \u0430 \u0442\u0430\u043a \u0436\u0435 \u043b\u0438\u0447\u043d\u043e\u0439 \u0430\u0434\u0440\u0435\u0441\u043d\u043e\u0439 \u043a\u043d\u0438\u0433\u0435, \u0433\u0434\u0435 \u0434\u043b\u044f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 \u0434\u043e\u043b\u0436\u043d\u044b \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 (\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b). \u0412 \u043d\u0430\u0448\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u0444\u0430\u0439\u043b.<\/p>\n<h2>\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\/\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u042d\u0426\u041f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435<\/h2>\n<p>\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043c\u044b \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u042d\u0426\u041f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 <strong>SAPCRYPTOLIB<\/strong> \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439, \u0430 \u0442\u0430\u043a \u0436\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043c \u0435\u0451 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e.<\/p>\n<p>\u041f\u0440\u0435\u0436\u0434\u0435 \u0447\u0435\u043c \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u0438 SSF \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0430\u0440\u0443 \u2013 \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439\/\u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043b\u044e\u0447 \u0438 \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u0438\u0445 \u0432 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 (PSE \u0444\u0430\u0439\u043b).<\/p>\n<p>\u0414\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0430\u0440\u044b \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0441\u044f <a href=\"https:\/\/www.openssl.org\/\">OpenSSL<\/a> \u2013 \u043d\u0430\u0431\u043e\u0440 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438. \u0412 \u0441\u0442\u0430\u0442\u044c\u0435 \u044f \u043d\u0435 \u0431\u0443\u0434\u0443 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0435 OpenSSL, \u0431\u0443\u0434\u0443\u0442 \u043b\u0438\u0448\u044c \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b.<\/p>\n<p>\u0418 \u0442\u0430\u043a, \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447:<\/p>\n<pre class=\"lang:sh decode:true \">openssl genrsa -out private.pem<\/pre>\n<p>\u041d\u0430 \u0434\u0430\u043d\u043d\u043e\u043c \u0448\u0430\u0433\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043a\u043b\u044e\u0447\u0430. \u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f DSA \u043a\u043b\u044e\u0447\u0430 \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0443\u0442\u0438\u043b\u0438\u0442\u043e\u0439 gendsa.<\/p>\n<p>\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043b\u044e\u0447:<\/p>\n<pre class=\"lang:sh decode:true \">openssl rsa -in private.pem -out public.pem \u2013pubout<\/pre>\n<p>\u0414\u0430\u043b\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442, \u043d\u043e \u043f\u0440\u0435\u0436\u0434\u0435 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0444\u0430\u0439\u043b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u043d\u0430 \u0431\u0430\u0437\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442, \u0437\u0430\u043f\u0438\u0448\u0435\u043c \u0432 \u043d\u0435\u0433\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435:<\/p>\n<pre class=\"lang:ini decode:true\">[ req ]\r\n# \u0421\u0435\u043a\u0446\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439\r\ndefault_bits           = 2048\r\n# \u0427\u0438\u0441\u043b\u043e \u0431\u0438\u0442\r\ndefault_keyfile        = private.pem\r\n# \u0418\u043c\u044f \u043a\u043b\u044e\u0447\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0433\u043e \u0434\u043b\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430\r\ndistinguished_name     = req_distinguished_name\r\n# DN \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438, \u0432\u044b\u0434\u0430\u0432\u0448\u0435\u0439 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\r\nprompt                 = no\r\n# \u0411\u0440\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \u043d\u0435\u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c\r\n[ req_distinguished_name ]\r\n# DN \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438\r\nCN=RU\r\n# \u0421\u0442\u0440\u0430\u043d\u0430\r\nST=SPB\r\n# \u041e\u0431\u043b\u0430\u0441\u0442\u044c\r\nL=SPB\r\n# \u0413\u043e\u0440\u043e\u0434\r\nO=OCRV\r\n# \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438\r\nOU=DEV\r\n# \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u0438\u044f\r\nCN=SIDOROCHKIN\r\n# \u0418\u043c\u044f \u0434\u043b\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 (\u043f\u0435\u0440\u0441\u043e\u043d\u044b, \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0449\u0435\u0439 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442)\r\nemailAddress=sidorochkin@gmail.ru\r\n# \u041c\u044b\u043b\u043e \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438<\/pre>\n<p>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430:<\/p>\n<pre class=\"lang:sh decode:true \">openssl req -new -x509 -key private.pem -out cert.crt -days 365 -config config.cfg -sha1<\/pre>\n<p>\u0414\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u043f\u0430\u0440\u044b \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0439\/\u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043b\u044e\u0447 \u043d\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0444\u0430\u0439\u043b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 PKCS#12, \u0434\u043b\u044f \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043c \u043a\u043e\u043c\u0430\u043d\u0434\u0443:<\/p>\n<pre class=\"lang:sh decode:true \">openssl pkcs12 -export -in cert.crt -inkey private.pem -out client.p12 -name \"PK12 File\"<\/pre>\n<p>\u0414\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u043c\u043e\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0435\u043c\u0443 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u043d\u0430\u0442\u044c \u043a\u0430\u043a \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0430\u0440\u044b \u0437\u0430\u043a\u0440\u044b\u0442\u044b\u0445\/\u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043a\u043b\u044e\u0447\u0435\u0439, \u0437\u0430 \u0438\u0445 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 PSE \u0444\u0430\u0439\u043b. \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0448\u0430\u0433\u043e\u043c \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c PSE \u0444\u0430\u0439\u043b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0443\u0442\u0438\u043b\u0438\u0442\u044b sapgenpse. \u0414\u0430\u043d\u043d\u0430\u044f \u0443\u0442\u0438\u043b\u0438\u0442\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430 \u043d\u0430 SAP Marketplace, \u043e\u043d\u0430 \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u043f\u0430\u043a\u0435\u0442 SAPCRYPTOLIB. \u0418 \u0442\u0430\u043a, \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 PSE \u0444\u0430\u0439\u043b\u0430:<\/p>\n<pre class=\"lang:sh decode:true \">sapgenpse import_p12 -p d:\\ossl\\bin\\client.pse d:\\ossl\\bin\\client.p12<\/pre>\n<p>\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 PSE \u0444\u0430\u0439\u043b \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u043c \u0447\u0435\u0440\u0435\u0437 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044e STRUST:<\/p>\n<ol>\n<li>\u0429\u0435\u043b\u043a\u043d\u0443\u0432 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u043d\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0435 \u00ab\u0424\u0430\u0439\u043b\u00bb \u043e\u0442\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u043e\u043a\u043d\u043e \u0432\u044b\u0431\u043e\u0440\u0430 \u0444\u0430\u0439\u043b\u0430, \u0443\u043a\u0430\u0436\u0435\u043c \u043d\u0430\u0448 client.pse, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0438\u0442 \u043f\u0430\u0440\u043e\u043b\u044c, \u0443\u043a\u0430\u0436\u0435\u043c \u0442\u043e\u0442, \u0447\u0442\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u043b\u0438 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 PSE.<\/li>\n<li>\u041e\u0442\u043a\u0440\u044b\u0432 PSE \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440, \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043c \u0435\u0433\u043e \u0434\u043b\u044f \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f ZSSFAP: \u041c\u0435\u043d\u044e -&gt; \u0421\u041f\u041f -&gt;\u00a0\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a -&gt;\u00a0SSF \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u00a0-&gt;\u00a0ZSSFAP<\/li>\n<\/ol>\n<p>\u041d\u0430 \u0434\u0430\u043d\u043d\u043e\u043c \u044d\u0442\u0430\u043f\u0435 \u043c\u044b \u0437\u0430\u043f\u0438\u0441\u0430\u043b\u0438 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 (PSE) \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439, \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043d\u0435\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c\u0443 \u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 (\u0442\u0440. RZ11) \u2013 \u00abssf*\/ssfapi_lib\u00bb. (\u041d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 SAP \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043e 3-\u0445 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u0432, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0438\u043c\u0438 \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u043f\u043e \u043c\u0430\u0441\u043a\u0435 ssf*. \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u043a \u043d\u0438\u043c).<\/p>\n<p>\u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u042d\u0426\u041f \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 <strong>SSF02<\/strong> \u0438 \u0443\u043a\u0430\u0436\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b:<\/p>\n<ul>\n<li>\u0412\u044b\u0431\u043e\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0438: \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c<\/li>\n<li>\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u2013 \u043f\u0443\u0441\u0442\u043e<\/li>\n<li>\u0411\u0435\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430 \u2013 X<\/li>\n<li>\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440: EMAIL=sidorochkin@gmail.ru, CN=SIDOROCHKIN, OU=DEV, O=OCRV, L=SPB, SP=SPB<\/li>\n<li>SSF \u043f\u0440\u043e\u0444\u0438\u043b\u044c: SAPSSF_ZSSFAP200.pse<\/li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0432\u043e\u0434\u0430: 123.txt<\/li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0432\u043e\u0434\u0430: 123.txt.sig<\/li>\n<li>\u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0437\u0430\u0449\u0438\u0442\u044b: SAPSECULIB<\/li>\n<li>\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0435\u043c\u0435\u0434\u043b\u0435\u043d\u043d\u043e \u2013 X<\/li>\n<li>\u0425\u0435\u0448-\u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c &#8212; SHA1<\/li>\n<\/ul>\n<p>\u0417\u0430\u043f\u0438\u0448\u0435\u043c \u0432 \u0444\u0430\u0439\u043b 123.txt \u043b\u044e\u0431\u0443\u044e\u00a0 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u0443\u044e \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 123.<\/p>\n<p>\u041f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u043c\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u043c \u0444\u0430\u0439\u043b 123.txt.sig, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f \u0446\u0438\u0444\u0440\u043e\u0432\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u044c:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/SSF_SIGN.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-2672\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/SSF_SIGN.png\" alt=\"SSF_SIGN\" width=\"1200\" height=\"478\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/SSF_SIGN.png 1200w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/SSF_SIGN-300x120.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/SSF_SIGN-1024x408.png 1024w\" sizes=\"(max-width: 1200px) 100vw, 1200px\" \/><\/a><\/p>\n<p>\u0414\u043b\u044f \u0435\u0451 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043c \u0432\u043d\u043e\u0432\u044c:<\/p>\n<ul>\n<li>\u0412\u044b\u0431\u043e\u0440 \u0444\u0443\u043d\u043a\u0446\u0438\u0438: \u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c<\/li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u0432\u043e\u0434\u0430: 123.sig<\/li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0432\u043e\u0434\u0430 \u2013 \u043f\u0443\u0441\u0442\u043e<\/li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f: 123.txt<\/li>\n<li>\u041b\u0438\u0447\u043d\u0430\u044f \u0430\u0434\u0440\u0435\u0441\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430 \u2013 PAB: SAPSSF_ZSSFAP.pse (\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 \u0434\u043b\u044f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 (\u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430))<\/li>\n<\/ul>\n<p>\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_verify.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-2673\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_verify.png\" alt=\"ssf_verify\" width=\"1219\" height=\"405\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_verify.png 1219w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_verify-300x100.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/ssf_verify-1024x340.png 1024w\" sizes=\"(max-width: 1219px) 100vw, 1219px\" \/><\/a><\/p>\n<p>\u041a\u0440\u043e\u043c\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b <strong>SSF02<\/strong>, \u0432\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u042d\u0426\u041f \u043c\u043e\u0436\u043d\u043e \u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438, \u0442\u0430\u043a\u0438\u043c\u0438 \u043a\u0430\u043a <a href=\"https:\/\/www.cryptopro.ru\/products\/partner\/crypto-arm\">\u041a\u0440\u0438\u043f\u0442\u043e\u0410\u0420\u041c<\/a>.<\/p>\n<p>\u0414\u0430\u043b\u0435\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043a\u043e\u0434 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0439 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\/\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u042d\u0426\u041f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438:<\/p>\n<pre class=\"lang:abap decode:true\">PARAMETERS: p_text TYPE string DEFAULT '123'.\r\n\r\nDATA:\r\n  gv_data       TYPE xstring,\r\n  gv_error      TYPE text80,\r\n  gt_signer     LIKE STANDARD TABLE OF ssfinfo,\r\n  gt_sign       LIKE STANDARD TABLE OF ssfbin,\r\n  gt_data       LIKE gt_sign WITH HEADER LINE,\r\n  gv_sign_len   LIKE ssfparms-sigdatalen,\r\n  gv_crc        LIKE ssfparms-ssfcrc,\r\n  gv_datalen    LIKE ssfparms-indatalen.\r\n\r\nSTART-OF-SELECTION.\r\n\r\n  CALL FUNCTION 'SCMS_STRING_TO_XSTRING'\r\n    EXPORTING\r\n      text   = p_text\r\n    IMPORTING\r\n      buffer = gv_data\r\n    EXCEPTIONS\r\n      failed = 1\r\n      OTHERS = 2.\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  CALL FUNCTION 'SCMS_XSTRING_TO_BINARY'\r\n    EXPORTING\r\n      buffer        = gv_data\r\n    IMPORTING\r\n      output_length = gv_datalen\r\n    TABLES\r\n      binary_tab    = gt_data.\r\n\r\n  CALL FUNCTION 'SSF_KRN_SIGN_BY_AS'\r\n    EXPORTING\r\n      ssfapplication               = 'ZSSFAP'\r\n      ostr_input_data_l            = gv_datalen\r\n      b_detached                   = 'X'\r\n      b_inc_certs                  = ' '\r\n    IMPORTING\r\n      ostr_signed_data_l           = gv_sign_len\r\n      crc                          = gv_crc\r\n    TABLES\r\n      ostr_input_data              = gt_data\r\n      ostr_signed_data             = gt_sign\r\n    EXCEPTIONS\r\n      ssf_krn_error                = 1\r\n      ssf_krn_noop                 = 2\r\n      ssf_krn_nomemory             = 3\r\n      ssf_krn_opinv                = 4\r\n      ssf_krn_nossflib             = 5\r\n      ssf_krn_input_data_error     = 6\r\n      ssf_krn_invalid_par          = 7\r\n      ssf_krn_invalid_parlen       = 8\r\n      ssf_fb_input_parameter_error = 9\r\n      OTHERS                       = 10.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  IF gv_crc IS NOT INITIAL.\r\n    CALL FUNCTION 'SSF_ERRORMESSAGE'\r\n      EXPORTING\r\n        crc       = gv_crc\r\n        result    = 0\r\n      IMPORTING\r\n        errortext = gv_error\r\n      EXCEPTIONS\r\n        error     = 1\r\n        others    = 2.\r\n\r\n    WRITE : \/ `\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: `, gv_error.\r\n    EXIT.\r\n  ENDIF.\r\n\r\n  CALL FUNCTION 'SSF_KRN_VERIFY_BY_AS'\r\n    EXPORTING\r\n      ssfapplication               = 'ZSSFAP'\r\n      ostr_signed_data_l           = gv_sign_len\r\n      ostr_input_data_l            = gv_datalen\r\n    IMPORTING\r\n      crc                          = gv_crc\r\n    TABLES\r\n      ostr_signed_data             = gt_sign\r\n      ostr_input_data              = gt_data\r\n      ostr_output_data             = gt_data\r\n      signer_result_list           = gt_signer  \" \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0435\r\n    EXCEPTIONS\r\n      ssf_krn_error                = 1\r\n      ssf_krn_noop                 = 2\r\n      ssf_krn_nomemory             = 3\r\n      ssf_krn_opinv                = 4\r\n      ssf_krn_nossflib             = 5\r\n      ssf_krn_input_data_error     = 6\r\n      ssf_krn_invalid_par          = 7\r\n      ssf_krn_invalid_parlen       = 8\r\n      ssf_fb_input_parameter_error = 9\r\n      OTHERS                       = 10.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  IF gv_crc IS NOT INITIAL.\r\n    CALL FUNCTION 'SSF_ERRORMESSAGE'\r\n      EXPORTING\r\n        crc       = gv_crc\r\n        result    = 0\r\n      IMPORTING\r\n        errortext = gv_error\r\n      EXCEPTIONS\r\n        error     = 1\r\n        others    = 2.\r\n\r\n    WRITE : \/ `\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438: `, gv_error.\r\n    EXIT.\r\n  ENDIF.\r\n\r\n  CLEAR: gv_data, p_text.\r\n\r\n  CALL FUNCTION 'SCMS_BINARY_TO_XSTRING'\r\n    EXPORTING\r\n      input_length = gv_sign_len\r\n    IMPORTING\r\n      buffer       = gv_data\r\n    TABLES\r\n      binary_tab   = gt_sign\r\n    EXCEPTIONS\r\n      failed       = 1\r\n      OTHERS       = 2.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  CALL FUNCTION 'SSFC_BASE64_ENCODE'\r\n    EXPORTING\r\n      bindata                  = gv_data\r\n      binleng                  = gv_sign_len\r\n    IMPORTING\r\n      b64data                  = p_text\r\n    EXCEPTIONS\r\n      ssf_krn_error            = 1\r\n      ssf_krn_noop             = 2\r\n      ssf_krn_nomemory         = 3\r\n      ssf_krn_opinv            = 4\r\n      ssf_krn_input_data_error = 5\r\n      ssf_krn_invalid_par      = 6\r\n      ssf_krn_invalid_parlen   = 7\r\n      OTHERS                   = 8.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  WRITE `\u042d\u0426\u041f (BASE64):` COLOR COL_HEADING.\r\n  WRITE: \/ p_text.<\/pre>\n<h2>\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\/\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u042d\u0426\u041f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430<\/h2>\n<p>\u0417\u0430\u0447\u0430\u0441\u0442\u0443\u044e \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u042d\u0426\u041f, \u0442.\u0435. \u0442\u043e\u0439, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u0432\u044b\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0446\u0435\u043d\u0442\u0440\u043e\u043c \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u043c\u0438 \u043e\u0440\u0433\u0430\u043d\u0430\u043c\u0438 (\u0424\u0421\u0411 \u0438 \u043f\u0440.). \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e, \u0442\u0430\u043a\u0438\u0435 \u0446\u0435\u043d\u0442\u0440\u044b \u043e\u043f\u0435\u0440\u0438\u0440\u0443\u044e\u0442 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430\u043c\u0438 <strong>\u0413\u041e\u0421\u0422<\/strong>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c\u0438 SAP. \u041d\u0430 \u043f\u043e\u043c\u043e\u0449\u044c \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b. \u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 \u043d\u0438\u043c\u0438, \u043a\u0430\u043a \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u0443\u0436\u0435 \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u043e \u0440\u0430\u043d\u0435\u0435, \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438:<\/p>\n<ol>\n<li>\u041f\u0443\u0442\u0451\u043c \u0432\u044b\u0437\u043e\u0432\u0430 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0430\u043b\u043e\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c \u0447\u0435\u0440\u0435\u0437 <strong>Microsoft Crypto API<\/strong>, \u0432\u044b\u0437\u043e\u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 API \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u0432 ActiveX \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0435.<\/li>\n<li>\u041f\u0443\u0442\u0451\u043c \u0432\u044b\u0437\u043e\u0432\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 SSF \u0447\u0435\u0440\u0435\u0437 RFC \u0441 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c \u043a \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.<\/li>\n<\/ol>\n<p>\u041f\u0435\u0440\u0432\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u042d\u0426\u041f \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u044b\u0437\u043e\u0432 \u0434\u0438\u0430\u043b\u043e\u0433\u0430\u00a0 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u0424\u041c <strong>SSFS_CALL_CONTROL<\/strong>:<\/p>\n<pre class=\"lang:abap decode:true \">PARAMETERS: p_text TYPE string DEFAULT '123'.\r\n\r\nDATA:\r\n  gv_data       TYPE xstring,\r\n  gv_crc        TYPE i,\r\n  gv_error      TYPE text80,\r\n  gv_sign_len   LIKE ssfparms-sigdatalen.\r\n\r\nSTART-OF-SELECTION.\r\n\r\n  CALL FUNCTION 'SCMS_STRING_TO_XSTRING'\r\n    EXPORTING\r\n      text   = p_text\r\n    IMPORTING\r\n      buffer = gv_data\r\n    EXCEPTIONS\r\n      failed = 1\r\n      OTHERS = 2.\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  CALL FUNCTION 'SSFS_CALL_CONTROL'\r\n    EXPORTING\r\n      bindocument      = gv_data\r\n      doc_type         = 'TXT'\r\n      b_detached       = abap_true\r\n    IMPORTING\r\n      crc              = gv_crc\r\n      signature        = gv_data\r\n    EXCEPTIONS\r\n      parameter_error  = 1\r\n      conversion_error = 2\r\n      control_error    = 3\r\n      frontend_error   = 4\r\n      OTHERS           = 5.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n  \r\n  IF gv_crc IS NOT INITIAL.\r\n    CALL FUNCTION 'SSF_ERRORMESSAGE'\r\n      EXPORTING\r\n        crc       = gv_crc\r\n        result    = 0\r\n      IMPORTING\r\n        errortext = gv_error\r\n      EXCEPTIONS\r\n        error     = 1\r\n        others    = 2.\r\n\r\n    WRITE : \/ `\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: `, gv_error.\r\n    EXIT.\r\n  ENDIF.\r\n\r\n  gv_sign_len = xstrlen( gv_data ).\r\n\r\n  CALL FUNCTION 'SSFC_BASE64_ENCODE'\r\n    EXPORTING\r\n      bindata                  = gv_data\r\n      binleng                  = gv_sign_len\r\n    IMPORTING\r\n      b64data                  = p_text\r\n    EXCEPTIONS\r\n      ssf_krn_error            = 1\r\n      ssf_krn_noop             = 2\r\n      ssf_krn_nomemory         = 3\r\n      ssf_krn_opinv            = 4\r\n      ssf_krn_input_data_error = 5\r\n      ssf_krn_invalid_par      = 6\r\n      ssf_krn_invalid_parlen   = 7\r\n      OTHERS                   = 8.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  WRITE `\u042d\u0426\u041f (BASE64):` COLOR COL_HEADING.\r\n  WRITE: \/ p_text.<\/pre>\n<p>\u0414\u0438\u0430\u043b\u043e\u0433 \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/dialog.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-2674\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/dialog.png\" alt=\"dialog\" width=\"898\" height=\"688\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/dialog.png 898w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2015\/11\/dialog-300x230.png 300w\" sizes=\"(max-width: 898px) 100vw, 898px\" \/><\/a><\/p>\n<p>\u0412 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0435\u0441\u0442\u044c \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430\u00a0SSFSDEMO \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0442\u0430\u043a \u0436\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0424\u041c. \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0434\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0432\u0435\u0441\u044c\u043c\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435, \u043d\u0435\u043b\u044c\u0437\u044f, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435\u00a0\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u0438\u043b\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b \u043d\u0435 \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u042d\u0426\u041f. \u041e\u0434\u043d\u0430\u043a\u043e \u0435\u0441\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f <a href=\"http:\/\/service.sap.com\/sap\/support\/notes\/1816877\">\u043d\u043e\u0442\u0430<\/a>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0440\u0435\u0448\u0430\u0435\u0442 \u044d\u0442\u0438 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b.<\/p>\n<p>\u0412\u0442\u043e\u0440\u043e\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u043f\u0435\u0440\u0435\u0434 \u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443:<\/p>\n<ol>\n<li>\u041d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 SSF \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430.<\/li>\n<li>\u0412 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d RFC \u0430\u0434\u0440\u0435\u0441 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a GUI (\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044d\u0442\u043e &#8212; SAP_SSFATGUI \u0441\u043c. \u0442\u0440. SM59)<\/li>\n<li>\u041d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0443\u0442\u044c \u043a \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 SSF, \u0447\u0442\u043e\u0431\u044b SAP GUI \u043c\u043e\u0433 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0451 \u0444\u0443\u043d\u043a\u0446\u0438\u0438. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0432 \u0444\u0430\u0439\u043b\u0435 ssfrfc.ini. \u0412 \u043c\u043e\u0435\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 \u041a\u0440\u0438\u043f\u0442\u043e\u041f\u0440\u043e SSF, \u0438 \u0444\u0430\u0439\u043b \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u043f\u0443\u0442\u0451\u043c \u043a SSF \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435:<\/li>\n<\/ol>\n<pre class=\"lang:ini decode:true\">SSF_LIBRARY_PATH = C:\\Program Files\\Crypto Pro\\SSF\\cpsapssf.dll<\/pre>\n<ol start=\"4\">\n<li>\u0414\u043b\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f\/\u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u043e\u0431\u043b\u0430\u0434\u0430\u0442\u044c \u0432\u0441\u0435\u043c\u0438 \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u0435\u043c\u0443 \u0434\u0430\u043d\u043d\u044b\u043c\u0438. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u043d\u0443\u0436\u043d\u044b\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u044b. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432 \u0432 Windows \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043d\u0430\u0434\u0441\u0442\u0440\u043e\u0439\u043a\u0443: \u041f\u0443\u0441\u043a -&gt; \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c -&gt; <strong>certmgr.msc<\/strong>.<\/li>\n<\/ol>\n<p>\u0411\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e \u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 SSF \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0447\u0438\u0442\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.<\/p>\n<p>\u0414\u0430\u043b\u0435\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d \u043a\u043e\u0434 \u043f\u0440\u043e\u0441\u0442\u0435\u0439\u0448\u0435\u0439 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c:<\/p>\n<pre class=\"lang:abap decode:true \">PARAMETERS: p_text TYPE string DEFAULT '123'.\r\n\r\nDATA:\r\n  gv_data       TYPE xstring,\r\n  gv_error      TYPE text80,\r\n  gt_signer     LIKE STANDARD TABLE OF ssfinfo,\r\n  gt_sign       LIKE STANDARD TABLE OF ssfbin,\r\n  gt_data       LIKE gt_sign WITH HEADER LINE,\r\n  gt_data_ex    LIKE gt_sign WITH HEADER LINE,\r\n  gv_sign_len   LIKE ssfparms-sigdatalen,\r\n  gv_crc        LIKE ssfparms-ssfcrc,\r\n  gv_datalen    LIKE ssfparms-indatalen.\r\n\r\nFIELD-SYMBOLS:\r\n  &lt;gs_signer&gt;   LIKE LINE OF gt_signer.\r\n\r\nSTART-OF-SELECTION.\r\n\r\n  CALL FUNCTION 'SCMS_STRING_TO_XSTRING'\r\n    EXPORTING\r\n      text   = p_text\r\n    IMPORTING\r\n      buffer = gv_data\r\n    EXCEPTIONS\r\n      failed = 1\r\n      OTHERS = 2.\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  CALL FUNCTION 'SCMS_XSTRING_TO_BINARY'\r\n    EXPORTING\r\n      buffer        = gv_data\r\n    IMPORTING\r\n      output_length = gv_datalen\r\n    TABLES\r\n      binary_tab    = gt_data.\r\n\r\n  APPEND INITIAL LINE TO gt_signer ASSIGNING &lt;gs_signer&gt;.\r\n  &lt;gs_signer&gt;-id = 'E = Sidorochkin@ocrv.RU'.\r\n\r\n  CALL FUNCTION 'SSF_SIGN'\r\n    EXPORTING\r\n      ssf_dest                     = 'SAP_SSFATGUI'\r\n      b_inc_certs                  = ' '\r\n      b_detached                   = 'X'\r\n      ostr_input_data_l            = gv_datalen\r\n      str_hashalg                  = 'GOST3411'\r\n    IMPORTING\r\n      ostr_signed_data_l           = gv_sign_len\r\n      crc                          = gv_crc\r\n    TABLES\r\n      ostr_input_data              = gt_data\r\n      signer                       = gt_signer\r\n      ostr_signed_data             = gt_sign\r\n    EXCEPTIONS\r\n      ssf_rfc_error                = 1\r\n      ssf_rfc_no_memory            = 2\r\n      ssf_rfc_get_data_error       = 3\r\n      ssf_rfc_send_data_error      = 4\r\n      ssf_rfc_signer_list_error    = 5\r\n      ssf_rfc_input_data_error     = 6\r\n      ssf_fb_input_parameter_error = 7\r\n      ssf_rfc_destination_error    = 8\r\n      OTHERS                       = 9.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  IF gv_crc IS NOT INITIAL.\r\n    CALL FUNCTION 'SSF_ERRORMESSAGE'\r\n      EXPORTING\r\n        crc       = gv_crc\r\n        result    = 0\r\n      IMPORTING\r\n        errortext = gv_error\r\n      EXCEPTIONS\r\n        error     = 1\r\n        others    = 2.\r\n\r\n    WRITE : \/ `\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: `, gv_error.\r\n    EXIT.\r\n  ENDIF.\r\n\r\n  CLEAR: gt_signer.\r\n\r\n  CALL FUNCTION 'SSF_VERIFY'\r\n    EXPORTING\r\n      ssf_dest                     = 'SAP_SSFATGUI'\r\n      b_inc_certs                  = ' '\r\n      ostr_signed_data_l           = gv_sign_len\r\n      ostr_input_data_l            = gv_datalen\r\n      str_pab                      = ''\r\n      str_pab_password             = ''\r\n    IMPORTING\r\n      crc                          = gv_crc\r\n    TABLES\r\n      ostr_signed_data             = gt_sign\r\n      ostr_input_data              = gt_data\r\n      signer_result_list           = gt_signer\r\n      ostr_output_data             = gt_data_ex\r\n    EXCEPTIONS\r\n      ssf_rfc_error                = 1\r\n      ssf_rfc_no_memory            = 2\r\n      ssf_rfc_get_data_error       = 3\r\n      ssf_rfc_send_data_error      = 4\r\n      ssf_rfc_input_data_error     = 5\r\n      ssf_fb_input_parameter_error = 6\r\n      ssf_rfc_destination_error    = 7\r\n      OTHERS                       = 8.\r\n\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  IF gv_crc IS NOT INITIAL.\r\n    CALL FUNCTION 'SSF_ERRORMESSAGE'\r\n      EXPORTING\r\n        crc       = gv_crc\r\n        result    = 0\r\n      IMPORTING\r\n        errortext = gv_error\r\n      EXCEPTIONS\r\n        error     = 1\r\n        others    = 2.\r\n\r\n    WRITE : \/ `\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438: `, gv_error.\r\n    EXIT.\r\n  ENDIF.\r\n\r\n  CLEAR: gv_data, p_text.\r\n\r\n  CALL FUNCTION 'SCMS_BINARY_TO_XSTRING'\r\n    EXPORTING\r\n      input_length = gv_sign_len\r\n    IMPORTING\r\n      buffer       = gv_data\r\n    TABLES\r\n      binary_tab   = gt_sign\r\n    EXCEPTIONS\r\n      failed       = 1\r\n      OTHERS       = 2.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  CALL FUNCTION 'SSFC_BASE64_ENCODE'\r\n    EXPORTING\r\n      bindata                  = gv_data\r\n      binleng                  = gv_sign_len\r\n    IMPORTING\r\n      b64data                  = p_text\r\n    EXCEPTIONS\r\n      ssf_krn_error            = 1\r\n      ssf_krn_noop             = 2\r\n      ssf_krn_nomemory         = 3\r\n      ssf_krn_opinv            = 4\r\n      ssf_krn_input_data_error = 5\r\n      ssf_krn_invalid_par      = 6\r\n      ssf_krn_invalid_parlen   = 7\r\n      OTHERS                   = 8.\r\n\r\n  IF sy-subrc &lt;&gt; 0.\r\n    MESSAGE ID sy-msgid TYPE sy-msgty NUMBER sy-msgno\r\n               WITH sy-msgv1 sy-msgv2 sy-msgv3 sy-msgv4.\r\n  ENDIF.\r\n\r\n  WRITE `\u042d\u0426\u041f (BASE64):` COLOR COL_HEADING.\r\n  WRITE: \/ p_text.<\/pre>\n<p>\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043d\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0442\u0430, \u0432 \u0432\u0430\u0448\u0435\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0431\u0443\u0434\u0435\u0442 \u0438\u043d\u044b\u043c.<\/p>\n<p>\u0414\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u0432 \u043f\u0440\u043e\u0449\u0435 \u0432\u0441\u0435\u0433\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0443\u043f\u043e\u043c\u044f\u043d\u0443\u0442\u043e\u0439 \u0440\u0430\u043d\u0435\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0439 SSF02, \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u043c\u0438 \u0440\u0430\u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c, \u0437\u0430 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c RFC \u0430\u0434\u0440\u0435\u0441 \u0438 \u0445\u0435\u0448-\u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430.<\/p>\n<h2>\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f<\/h2>\n<p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438 1.0.0, \u0432 OpenSSL \u0432\u043a\u043b\u044e\u0447\u0438\u043b\u0438 \u0432 \u0441\u043e\u0441\u0442\u0430\u0432 \u0443\u0442\u0438\u043b\u0438\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430\u043c\u0438 \u0413\u041e\u0421\u0422, \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0447\u0435\u043c\u0443 \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u042d\u0426\u041f \u0438\u0437 ABAP, \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044f \u0441 OpenSSL, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0435\u0440\u0435\u0437 \u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441. \u0411\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u0413\u041e\u0421\u0422 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u043a\u0430\u043a \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435, \u0442\u0430\u043a \u0438 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <a href=\"http:\/\/big-town.narod.ru\/openssl.html\">\u0442\u0443\u0442<\/a>.<\/p>\n<p>\u041e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u043e SSF \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443: <a href=\"https:\/\/websmp201.sap-ag.de\/home\">https:\/\/websmp201.sap-ag.de\/home<\/a>\u00a0-&gt; Products -&gt;\u00a0Security -&gt; Secure Collaboration \u0438 \u043d\u0430 <a href=\"https:\/\/help.sap.com\/saphelp_nw70ehp2\/helpdata\/en\/f0\/3fb6388d35bf51e10000009b38f8cf\/content.htm\">help.sap.com<\/a>.<\/p>\n<p>\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u043e <a href=\"http:\/\/www.sdn.sap.com\/irj\/scn\/go\/portal\/prtroot\/docs\/library\/uuid\/1c51c590-0201-0010-ffbc-b2bef1c57385?quicklink=index&amp;overridelayout=true\">SSF API<\/a>. \u0414\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u0440\u0435\u0448\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 SSF \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440, \u0435\u0441\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0430\u044f <a href=\"ftp:\/\/ftp.sap.com\/pub\/icc\/bc-ssf45\/SSF_Specifications.zip\">\u0441\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f<\/a>. \u0422\u0435\u043e\u0440\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u043f\u043e \u042d\u0426\u041f \u0432 SAP \u0431\u044b\u043b\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430 \u0432 <a href=\"http:\/\/habrahabr.ru\/company\/sap\/blog\/260765\/\">\u0434\u0430\u043d\u043d\u043e\u0439 <\/a>\u0441\u0442\u0430\u0442\u044c\u0435.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Secure store and forward (SSF) &#8212; \u044d\u0442\u043e \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0439 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043d\u0430 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0435 SAP NetWeaver. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u043c\u0438 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0430\u043c\u0438 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f: \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u044b\u0445 \u043f\u043e\u0434\u043f\u0438\u0441\u0435\u0439 (\u042d\u0426\u041f), \u0438\u0445 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430\u00a0\u0434\u0430\u043d\u043d\u044b\u0445. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 SSF \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 \u043a\u0440\u0438\u043f\u0442\u043e-\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u043c (\u043d\u0430\u0437\u043e\u0432\u0435\u043c \u0435\u0433\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u043e\u043c). \u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0438\u043b\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u043c\u0438. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u0430 \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430, \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u043a\u0440\u0438\u043f\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[313],"tags":[],"_links":{"self":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/2667"}],"collection":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/comments?post=2667"}],"version-history":[{"count":32,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/2667\/revisions"}],"predecessor-version":[{"id":2706,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/2667\/revisions\/2706"}],"wp:attachment":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/media?parent=2667"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/categories?post=2667"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/tags?post=2667"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}