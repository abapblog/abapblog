{"id":1518,"date":"2013-04-18T18:40:56","date_gmt":"2013-04-18T14:40:56","guid":{"rendered":"http:\/\/abap-blog.ru\/?p=1518"},"modified":"2021-03-02T10:05:19","modified_gmt":"2021-03-02T06:05:19","slug":"potoki-i-lokatory","status":"publish","type":"post","link":"https:\/\/abap-blog.ru\/database-work\/potoki-i-lokatory\/","title":{"rendered":"\u041f\u043e\u0442\u043e\u043a\u0438 \u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u044b"},"content":{"rendered":"<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2013\/04\/database-219x218.png\"><img loading=\"lazy\" class=\"size-full wp-image-1526 alignleft\" style=\"margin: 10px;\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2013\/04\/database-219x218.png\" alt=\"database-219x218\" width=\"219\" height=\"218\" \/><\/a><\/p>\n<p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438\u00a07.0, EhP2 \u0432 ABAP \u0431\u044b\u043b\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 (\u0432\u043d\u0435\u0448\u043d\u0438\u0445) \u0434\u0430\u043d\u043d\u044b\u0445 &#8212; \u043f\u043e\u0442\u043e\u043a\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445.<\/p>\n<p>\u041f\u043e\u0442\u043e\u043a \u2013 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0435\u0439 \u043a\u043e\u043d\u0435\u0446 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d. \u041f\u043e\u0442\u043e\u043a\u0438 \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e \u0432\u0438\u0434\u0443: \u043f\u043e\u0442\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438.<\/p>\n<p>\u0424\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0438 \u043d\u0435 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0430\u0442\u044c\u0435.<\/p>\n<p>\u041f\u043e\u0442\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u2013 \u0442\u0430\u043a\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u044b \u043a\u0430\u043a \u0447\u0438\u0442\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u043a \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u043a\u0430\u043a \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u043a \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445.<\/p>\n<p><b>\u0427\u0438\u0442\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a<\/b> (\u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a) \u2013 \u043b\u044e\u0431\u043e\u0439 \u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u043a \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0447\u0438\u0442\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a, \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u043a \u0447\u0438\u0442\u0430\u044e\u0449\u0435\u043c\u0443 \u043f\u043e\u0442\u043e\u043a\u0443. \u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043e\u0442 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0442 \u043f\u043e\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043a \u043e\u0431\u044a\u0435\u043a\u0442\u0443 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u043c\u0443 \u043f\u043e\u0442\u043e\u043a), \u0447\u0435\u0440\u0435\u0437 \u0447\u0438\u0442\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u043d\u0435\u043b\u044c\u0437\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435.<\/p>\n<p>\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u2013 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0447\u0438\u0442\u0430\u044e\u0449\u0438\u043c \u043f\u043e\u0442\u043e\u043a\u043e\u043c. \u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c LOB \u043f\u043e\u043b\u0435 \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445, \u0444\u0430\u0439\u043b, \u0441\u0442\u0440\u043e\u043a\u0430 \u0438\u043b\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0447\u0442\u0435\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u0435\u0439 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 (LOB \u043f\u043e\u043b\u044f), \u0441\u0442\u0440\u043e\u043a \u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446.<\/p>\n<p><!--more--><\/p>\n<p>LOB \u2013 Large object, \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u0432\u0443\u0445 \u0432\u0438\u0434\u043e\u0432: BLOB \u0438\u043b\u0438 CLOB. BLOB \u2013 Binary large object. \u041f\u043e\u043b\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0442\u0438\u043f\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 RAWSTRING. CLOB \u2013 Character large object. \u041f\u043e\u043b\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0442\u0438\u043f\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 STRING.<\/p>\n<p><b>\u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a<\/b>\u00a0 (\u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a) \u2013 \u043b\u044e\u0431\u043e\u0439 \u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u043a \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0441\u0442\u0443\u043f\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a, \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u043a \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0435\u043c\u0443 \u043f\u043e\u0442\u043e\u043a\u0443. \u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0432\u0441\u0435\u0433\u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043a \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u0443 \u0434\u0430\u043d\u043d\u044b\u0445, \u0442.\u043e. \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438.<\/p>\n<p>\u041f\u0440\u0438\u0435\u043c\u043d\u0438\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u2013 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0441\u0432\u043e\u0438 \u0434\u0430\u043d\u043d\u044b\u0435. \u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c LOB \u043f\u043e\u043b\u0435 \u0432 \u0431\u0430\u0437\u0435 \u0434\u0430\u043d\u043d\u044b\u0445, \u0444\u0430\u0439\u043b, \u0441\u0442\u0440\u043e\u043a\u0430 \u0438\u043b\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u044f\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0434\u043b\u044f \u043f\u043e\u043b\u0435\u0439 \u0442\u0430\u0431\u043b\u0438\u0446 \u0411\u0414, \u0441\u0442\u0440\u043e\u043a \u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446.<\/p>\n<p>\u041f\u043e\u0442\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u0441\u0435\u0433\u0434\u0430 \u0438\u043c\u0435\u044e\u0442 \u043e\u0434\u043d\u043e \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u2013 \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u044c.<\/p>\n<p>\u041a\u0440\u043e\u043c\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043e\u0433\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0442\u0438\u043f\u044b: \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a, \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a. \u0411\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0431\u0430\u0439\u0442\u043e\u0432\u044b\u043c \u0442\u0438\u043f\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 (x, xstring), \u0440\u043e\u0434\u043e\u0432\u043e\u0439 \u0442\u0438\u043f xsequence (\u0434\u043b\u044f \u043f\u043e\u043b\u0435\u0439 \u0442\u0430\u0431\u043b\u0438\u0446 RAWSTRING). \u0421\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u044b\u043c \u0442\u0438\u043f\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 (\u0441, string).<\/p>\n<p>\u0412 ABAP, \u043f\u043e\u0442\u043e\u043a\u0438 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0432 \u0432\u0438\u0434\u0435 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430\u0431\u043e\u0440\u0430 \u043a\u043b\u0430\u0441\u0441\u043e\u0432, \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 (\u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435) \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0437\u043e\u0432\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u0435\u0442\u043e\u0434\u043e\u0432.<\/p>\n<p>\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u043f\u043e\u0442\u043e\u043a\u043e\u0432:<\/p>\n<ul>\n<li><b>\u0412\u0438\u0434 \u043f\u043e\u0442\u043e\u043a\u0430 <\/b>\u2013 \u043f\u043e\u0442\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a<\/li>\n<li><b>\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0430<\/b> \u2013 \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u044c<\/li>\n<li><b>\u0422\u0438\u043f \u043f\u043e\u0442\u043e\u043a\u0430<\/b> \u2013 \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u0438\u043b\u0438 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u043f\u043e\u0442\u043e\u043a.<\/li>\n<\/ul>\n<p>\u041a\u043b\u0430\u0441\u0441\u044b \u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0438\u0435 \u0432 ABAP \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044e \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u043b\u0435\u0436\u0430\u0442 \u0432 \u043f\u0430\u043a\u0435\u0442\u0435 SABP_STREAMS_AND_LOCATORS. \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0434\u0438\u0430\u0433\u0440\u0430\u043c\u043c\u0430 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u0438 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b:<\/p>\n<p><a href=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2013\/04\/streams.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-1519\" src=\"http:\/\/abap-blog.ru\/wp-content\/uploads\/2013\/04\/streams.png\" alt=\"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438\" width=\"654\" height=\"503\" \/><\/a><\/p>\n<p>&nbsp;<\/p>\n<p>\u041a\u043b\u0430\u0441\u0441\u044b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442\u0441\u044f \u0441 \u00abCL_ABAP_\u00bb \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u044b:<\/p>\n<ul>\n<li>Resource \u2013 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438, \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f: \u0441\u0442\u0440\u043e\u043a\u0438 (STRING), LOB \u043f\u043e\u043b\u044f \u0432 \u0411\u0414 (DB), \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b (ITAB).<\/li>\n<li>Type \u2013 \u0442\u0438\u043f \u043f\u043e\u0442\u043e\u043a\u0430, \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 (X) \u0438 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0439 (C).<\/li>\n<li>Direction \u2013 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0430, \u0437\u0430\u043f\u0438\u0441\u044c (WRITER) \u0438 \u0447\u0442\u0435\u043d\u0438\u0435 (READER).<\/li>\n<\/ul>\n<p>\u0418\u043c\u0435\u043d\u0430 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u0434\u043b\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442\u0441\u044f \u0441 \u00abCL_ABAP_FILTER_\u00bb \u0438 \u0438\u043c\u0435\u043d\u0443\u044e\u0442\u0441\u044f \u043f\u043e \u0442\u0435\u043c \u0436\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c. \u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b (\u0412\u0435\u0440\u0441\u0438\u044f 7.02-7.31).<\/p>\n<p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438, \u043e\u043f\u0438\u0441\u0430\u043d\u044b \u0432 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430\u0445 \u0438 \u0441\u0443\u043f\u0435\u0440\u043a\u043b\u0430\u0441\u0441\u0430\u0445 \u043a\u0430\u043a \u043c\u0435\u0442\u043e\u0434\u044b \u044f\u0434\u0440\u0430 (\u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043e\u0439 RSKMETH), \u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0438\u0445 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0440\u0435\u0434\u043e\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f ABAP. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438:<\/p>\n<ul>\n<li>DATA_AVAILABLE \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 X \u0435\u0441\u043b\u0438 \u0435\u0449\u0435 \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435.<\/li>\n<li>IS_X_READER \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 X \u0435\u0441\u043b\u0438 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u043c \u043f\u043e\u0442\u043e\u043a\u043e\u043c.<\/li>\n<li>READ \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u0437\u0430\u0434\u0430\u043d\u043d\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c \u0431\u0430\u0439\u0442\u043e\u0432 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0438\u0437 \u043f\u043e\u0442\u043e\u043a\u0430.<\/li>\n<li>SKIP \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0430\u0439\u0442 \u0438\u043b\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u043f\u043e\u0442\u043e\u043a\u0435.<\/li>\n<li>WRITE \u0437\u0430\u043f\u0438\u0441\u044c \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0442\u043e\u043a\u0430 \u0432 \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a.<\/li>\n<li>CLOSE \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043f\u043e\u0442\u043e\u043a (\u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0447\u0438\u0442\u0430\u0442\u044c \u0438\u043b\u0438 \u043f\u0438\u0441\u0430\u0442\u044c \u0443\u0436\u0435 \u043d\u0435\u043b\u044c\u0437\u044f).<\/li>\n<li>IS_CLOSED \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 X \u0435\u0441\u043b\u0438 \u043f\u043e\u0442\u043e\u043a \u0437\u0430\u043a\u0440\u044b\u0442.<\/li>\n<li>SET_MARK \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443, \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0437\u0436\u0435.<\/li>\n<li>IS_MARK_SUPPORTED \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 X \u0435\u0441\u043b\u0438 \u043c\u0435\u0442\u043a\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442\u0441\u044f.<\/li>\n<li>RESET_TO_MARK \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043a \u043c\u0435\u0442\u043a\u0435.<\/li>\n<\/ul>\n<h3>\u041f\u043e\u0442\u043e\u043a\u0438 \u043a \u0441\u0442\u0440\u043e\u043a\u0430\u043c<\/h3>\n<p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u043b\u0438 \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u043e\u043c \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0443\u0436\u0430\u0442 \u0441\u0442\u0440\u043e\u043a\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u043a\u043b\u0430\u0441\u0441\u043e\u0432:<\/p>\n<ul>\n<li>CL_ABAP_STRING_C_READER<\/li>\n<li>CL_ABAP_STRING_C_WRITER<\/li>\n<li>CL_ABAP_STRING_X_READER<\/li>\n<li>CL_ABAP_STRING_X_WRITER<\/li>\n<\/ul>\n<p>\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e\u0442\u043e\u043c\u043a\u0430\u043c\u0438 \u043e\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 &#8212; CL_ABAP_MEMORY_&#8230;.<\/p>\n<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438 \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u043a:<\/p>\n<pre class=\"lang:abap decode:true\">DATA: string_writer TYPE REF TO cl_abap_string_c_writer,\r\n      string_reader TYPE REF TO if_abap_c_reader.\r\n\r\nDATA snippet TYPE c LENGTH 1.\r\n\r\nCREATE OBJECT string_writer TYPE cl_abap_string_c_writer.\r\n\r\nDO 10 TIMES.\r\n  string_writer-&gt;write( |{ sy-index - 1 }| ).\r\nENDDO.\r\n\r\nstring_writer-&gt;close( ).\r\n\r\nCREATE OBJECT string_reader TYPE cl_abap_string_c_reader\r\n  EXPORTING\r\n    str = string_writer-&gt;get_result_string( ).\r\n\r\nstring_reader-&gt;skip( 3 ).\r\nWHILE string_reader-&gt;data_available( ) = 'X'.\r\n  snippet = string_reader-&gt;read( 1 ).\r\n  WRITE \/ snippet.\r\nENDWHILE.\r\nstring_reader-&gt;close( ).<\/pre>\n<h3>\u041f\u043e\u0442\u043e\u043a\u0438 \u043a \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c<\/h3>\n<p>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u043b\u0438 \u043f\u0440\u0438\u0435\u043c\u043d\u0438\u043a\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0443\u0436\u0430\u0442 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u043a\u043b\u0430\u0441\u0441\u043e\u0432:<\/p>\n<ul>\n<li>CL_ABAP_ITAB_C_READER<\/li>\n<li>CL_ABAP_ITAB_C_WRITER<\/li>\n<li>CL_ABAP_ITAB_X_READER<\/li>\n<li>CL_ABAP_ITAB_X_WRITER<\/li>\n<\/ul>\n<p>\u0414\u0430\u043d\u043d\u044b\u0435 \u043a\u043b\u0430\u0441\u0441\u044b \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e\u0442\u043e\u043c\u043a\u0430\u043c\u0438 \u043e\u0442 \u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 &#8212; CL_ABAP_MEMORY_&#8230;.<\/p>\n<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438 \u0434\u043b\u044f \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446:<\/p>\n<pre class=\"lang:abap decode:true\">DATA:  itab TYPE TABLE OF string,\r\n       text TYPE string.\r\n\r\nDATA itab_reader TYPE REF TO if_abap_c_reader.\r\n\r\nAPPEND `abc` TO itab.\r\nAPPEND `def` TO itab.\r\nAPPEND `ghi` TO itab.\r\n\r\nCREATE OBJECT itab_reader TYPE cl_abap_itab_c_reader\r\n  EXPORTING\r\n    itab = itab.\r\n\r\nWHILE itab_reader-&gt;data_available( ) = 'X'.\r\n  text = itab_reader-&gt;read( 3 ).\r\n  WRITE \/ text.\r\nENDWHILE.\r\nitab_reader-&gt;close( ).<\/pre>\n<h3>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 LOB \u043f\u043e\u043b\u0435\u0439 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445<\/h3>\n<p>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 LOB \u043f\u043e\u043b\u0435\u0439 \u0411\u0414 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0435\u0441\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f:<\/p>\n<p>\u041b\u043e\u043a\u0430\u0442\u043e\u0440\u044b:<\/p>\n<ul>\n<li>\u0421\u0432\u044f\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441 LOB \u043f\u043e\u043b\u044f\u043c\u0438 \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0447\u0435\u0440\u0435\u0437 LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u044b, \u0437\u0430\u043f\u0438\u0441\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u044f\u043c\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 ABAP \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0447\u0435\u0440\u0435\u0437 \u043b\u043e\u043a\u0430\u0442\u043e\u0440 \u0432 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 (\u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438).<\/li>\n<li>\u0418\u043c\u0435\u044e\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044f\u043c \u0432 LOB \u043f\u043e\u043b\u044f\u0445 \u0438 \u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c<\/li>\n<li>\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c LOB \u043f\u043e\u043b\u044f, \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439<\/li>\n<li>\u0417\u0430 \u0441\u0447\u0451\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0421\u0423\u0411\u0414 \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442\u0441\u044f \u0438 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0430 \u043d\u0435\u0451<\/li>\n<li>\u0414\u043b\u044f \u0442\u0435\u0445 \u0421\u0423\u0411\u0414, \u0433\u0434\u0435 \u043d\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432, \u043e\u043d\u0430 \u044d\u043c\u0443\u043b\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439.<\/li>\n<\/ul>\n<p>\u041f\u043e\u0442\u043e\u043a\u0438:<\/p>\n<ul>\n<li>\u0421\u0432\u044f\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f, \u043a\u0430\u043a \u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u044b \u0447\u0435\u0440\u0435\u0437 LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u044b<\/li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435 LOB \u043f\u043e\u043b\u0435\u0439 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u043e\u0442\u043e\u043a\u043e\u0432<\/li>\n<li>\u041d\u0435 \u043d\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0421\u0423\u0411\u0414.<\/li>\n<\/ul>\n<p>\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u043e\u0432 \u043d\u0430 \u043e\u0434\u0438\u043d DB LUW \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e 1000. \u041e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 16.<\/p>\n<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0447\u0435\u0440\u0435\u0437 \u043b\u043e\u043a\u0430\u0442\u043e\u0440 LOB \u043f\u043e\u043b\u044f, \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0439:<\/p>\n<pre class=\"lang:abap decode:true\">DATA: \r\n  locator TYPE REF TO cl_abap_db_c_locator.    \r\n\r\nSELECT SINGLE longtext FROM lob_table                           \r\n  INTO locator     \" &lt;- \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440 (\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c) \u043d\u0430 LOB \u043f\u043e\u043b\u0435\r\n    WHERE key = key1.    \r\n\r\nUPDATE lob_table       \r\n  SET longtext = locator  \" &lt;- \u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c LOB \u043f\u043e\u043b\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u0430 \u0432 \u0434\u0440\u0443\u0433\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443\r\n    WHERE key    = key2.    \r\n\r\nlocator-&gt;close( ).  \" \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0437\u0430\u0431\u043e\u0442\u0438\u0442\u044c\u0441\u044f \u043e \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u0430<\/pre>\n<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u0442\u043e\u043a\u0430:<\/p>\n<pre class=\"lang:abap decode:true\">DATA:\r\n  reader TYPE REF TO cl_abap_db_x_reader.\r\n\r\nSELECT SINGLE picture FROM demo_blob_table\r\n  INTO reader \" &lt;- \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u0430 \u0434\u043b\u044f \u043f\u043e\u0442\u043e\u043a\u0430\r\n    WHERE name = pic_name.\r\n\r\n...\r\n\r\nWHILE reader-&gt;data_available( ) = 'X'.  \" &lt;- \u0427\u0442\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043f\u043e\u0442\u043e\u043a\u0430 \u0432 \u0444\u0430\u0439\u043b\r\n  TRANSFER reader-&gt;read( len ) TO pict_file.\r\nENDWHILE.\r\n\r\nreader-&gt;close( ).<\/pre>\n<p>\u041f\u043e\u0434 LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u0430\u043c\u0438 \u043f\u043e\u043d\u0438\u043c\u0430\u044e\u0442\u0441\u044f \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b IF_ABAP_DB_LOB_HANDLE (*_BLOB_HANDLE, *_CLOB_HANDLE) \u0438 \u043a\u043b\u0430\u0441\u0441\u044b \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0445 \u0432\u043d\u0435\u0434\u0440\u044f\u044e\u0442. \u0412 \u043f\u0440\u0438\u043c\u0435\u0440\u0430\u0445 \u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0432\u044b\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043a\u043b\u0430\u0441\u0441\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0438 \u043f\u0440\u0438\u0432\u044f\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a LOB \u043f\u043e\u043b\u044e \u0447\u0435\u0440\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 INTO. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e \u0432\u043c\u0435\u0441\u0442\u0435 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u044b \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 CREATING \u0432 SQL \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0435 SELECT, \u0434\u043b\u044f \u0442\u043e\u0433\u043e \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0442\u0438\u043f\u043e\u0432 \u043f\u043e\u043b\u0435\u0439, \u043f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f:<\/p>\n<pre class=\"lang:abap decode:true\">DATA:\r\n  locator TYPE REF TO if_abap_db_lob_handle.\r\n\r\nSELECT SINGLE description\r\n  FROM zhd_tasks\r\n    INTO locator     \" &lt;- \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440 (\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c) \u043d\u0430 LOB \u043f\u043e\u043b\u0435\r\n      CREATING LOCATOR FOR COLUMNS description\r\n        WHERE task = 761.<\/pre>\n<p>\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u043b\u044f description. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0432\u0438\u0434\u0430 \u043f\u043e\u043b\u044f (BLOB \u0438\u043b\u0438 CLOB) \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 (CL_ABAP_DB_C_LOCATOR \u0438\u043b\u0438 CL_ABAP_DB_X_LOCATOR). \u0414\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0438 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438, \u043f\u043e \u0442\u0435\u043c \u0436\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c \u0447\u0442\u043e \u0438 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 ABAP \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445: CREATING\u2026 (\u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f). \u041a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e LOCATOR (READER) \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u043a\u0430\u043a\u043e\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u043c\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u043c. \u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 [ALL [OTHER] [BLOB|CLOB]] COLUMNS [blob1 blob2 &#8230; clob1 clob2 &#8230;] \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0432\u044b\u0431\u043e\u0440 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 (\u0442\u0430\u0431\u043b\u0438\u0446\u0443).<\/p>\n<p>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b (\u0442\u0430\u0431\u043b\u0438\u0446\u044b), \u0430 \u043d\u0435 \u0435\u0434\u0438\u043d\u0438\u0447\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044f, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0442\u044c \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443. LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0441\u043e\u0431\u043e\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0447\u0443\u044e \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0441 \u0442\u0435\u043c\u0438 \u0436\u0435 \u043f\u043e\u043b\u044f\u043c\u0438 \u0447\u0442\u043e \u0438 \u0432\u043d\u0443\u0442\u0440\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0411\u0414, \u043e\u0434\u043d\u0430\u043a\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0441 \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u043e\u0439 \u043a LOB \u043f\u043e\u043b\u044e. \u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u0437 \u0441\u0435\u0431\u044f \u0441\u0441\u044b\u043b\u043e\u0447\u043d\u0443\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e, \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0449\u0443\u044e \u043d\u0430 LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440 (\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0438\u043b\u0438 \u043a\u043b\u0430\u0441\u0441). \u041a\u043e\u0433\u0434\u0430 \u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430, \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 LOB \u043f\u043e\u043b\u0435\u043c, \u0437\u0430\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 (\u043a\u043b\u0430\u0441\u0441).<\/p>\n<p>\u041e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c:<\/p>\n<p>TYPES dtype TYPE dbtab <a>lob_handle_type<\/a> FOR <a>lob_handle_columns<\/a> <b><br \/>\n[<a>lob_handle_type<\/a> FOR <a>lob_handle_columns<\/a><br \/>\n&#8230;\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 \u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0 ].<\/b><\/p>\n<p>\u0412 <b>dbtab<\/b> \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u043b\u0438 \u0440\u0430\u043a\u0443\u0440\u0441 \u0438\u0437 \u0441\u043b\u043e\u0432\u0430\u0440\u044f. \u041f\u043e\u043b\u0435 lob_handle_type \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0442\u0438\u043f LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u0430:<\/p>\n<p>&#8230; { READER|LOCATOR|{LOB HANDLE} } <b><br \/>\n| { WRITER|LOCATOR } &#8230;<\/b><\/p>\n<p>READER \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044f \u0441 \u0442\u0438\u043f\u0430\u043c\u0438:<\/p>\n<ul>\n<li>CL_ABAP_DB_X_READER \u0434\u043b\u044f BLOB<\/li>\n<li>CL_ABAP_DB_C_READER \u0434\u043b\u044f CLOB<\/li>\n<\/ul>\n<p>WRITER \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044f \u0441 \u0442\u0438\u043f\u0430\u043c\u0438:<\/p>\n<ul>\n<li>CL_ABAP_DB_X_WRITER \u0434\u043b\u044f BLOB<\/li>\n<li>CL_ABAP_DB_C_WRITER \u0434\u043b\u044f CLOB<\/li>\n<\/ul>\n<p>LOCATOR \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044f \u0441 \u0442\u0438\u043f\u0430\u043c\u0438:<\/p>\n<ul>\n<li>CL_ABAP_DB_X_LOCATOR \u0434\u043b\u044f BLOB<\/li>\n<li>CL_ABAP_DB_C_LOCATOR \u0434\u043b\u044f CLOB<\/li>\n<\/ul>\n<p>LOB HANDLE \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044f \u0441 \u0442\u0438\u043f\u0430\u043c\u0438:<\/p>\n<ul>\n<li>IF_ABAP_DB_BLOB_HANDLE \u0434\u043b\u044f BLOB<\/li>\n<li>IF_ABAP_DB_CLOB_HANDLE \u0434\u043b\u044f CLOB<\/li>\n<\/ul>\n<p>\u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f READER \u0438 WRITER \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0435. \u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 WRITER \u0442\u0430\u043a \u0436\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0441 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c LOB HANDLE.<\/p>\n<p>\u0414\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 lob_handle_columns \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u043a\u0430\u043a\u0438\u0435 \u043f\u043e\u043b\u044f \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0411\u0414 \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a LOB \u043f\u043e\u043b\u044f.<\/p>\n<p>\u0421\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439:<\/p>\n<p>&#8230; { COLUMNS blob1 blob2 &#8230; clob1 clob2 &#8230; } <b><br \/>\n<\/b>\u00a0\u00a0\u00a0\u00a0| { ALL [OTHER] [BLOB|CLOB] COLUMNS } &#8230;<\/p>\n<ul>\n<li>COLUMNS \u2013 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0435\u0447\u0435\u043d\u044c \u043f\u043e\u043b\u0435\u0439<\/li>\n<li>ALL OTHER BLOB|CLOB COLUMNS \u2013 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 BLOB|CLOB \u043f\u043e\u043b\u044f \u043d\u0435 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0438 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0438<\/li>\n<li>ALL BLOB|CLOB COLUMNS \u2013 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0441\u0435 BLOB|CLOB \u043f\u043e\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b<\/li>\n<li>ALL OTHER COLUMNS \u2013 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f (BLOB \u0438 CLOB) \u043d\u0435 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435 \u0432 \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0438<\/li>\n<li>ALL COLUMNS \u2013 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0441\u0435 CLOB \u0438 BLOB \u043f\u043e\u043b\u044f \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b<\/li>\n<\/ul>\n<p>\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430, \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0438\u0440\u0443\u044e\u0449\u0430\u044f \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435 LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440:<\/p>\n<pre class=\"lang:abap decode:true\">CLASS demo_lob_handles DEFINITION.\r\n  PUBLIC SECTION.\r\n    CLASS-METHODS main.\r\n\r\n    TYPES:\r\n\r\n      lob_handle_structure_1 TYPE demo_lob_table\r\n                             READER      FOR COLUMNS clob1 blob1,\r\n\r\n      lob_handle_structure_2 TYPE demo_lob_table\r\n                             LOB HANDLE  FOR ALL COLUMNS,\r\n\r\n      lob_handle_structure_3 TYPE demo_lob_table\r\n                             LOCATOR     FOR ALL BLOB COLUMNS\r\n                             WRITER      FOR ALL CLOB COLUMNS,\r\n\r\n      lob_handle_structure_4 TYPE demo_lob_table\r\n                             READER      FOR COLUMNS clob1 clob2\r\n                             LOB HANDLE  FOR ALL BLOB COLUMNS\r\n                             LOCATOR     FOR ALL OTHER CLOB COLUMNS,\r\n\r\n      lob_handle_structure_5 TYPE demo_lob_table\r\n                             READER      FOR COLUMNS blob1 blob2 blob3\r\n                             LOCATOR     FOR COLUMNS clob1 clob2 clob3\r\n                             LOB HANDLE  FOR ALL OTHER COLUMNS,\r\n\r\n      lob_handle_structure_6 TYPE demo_lob_table\r\n                             READER      FOR COLUMNS blob1\r\n                             LOCATOR     FOR COLUMNS blob2\r\n                             LOB HANDLE  FOR COLUMNS blob3\r\n                             LOB HANDLE  FOR ALL CLOB COLUMNS.\r\n\r\n  PRIVATE SECTION.\r\n    CLASS-METHODS type_output IMPORTING struct TYPE string.\r\nENDCLASS.\r\n\r\nCLASS demo_lob_handles IMPLEMENTATION.\r\n  METHOD main.\r\n    type_output( 'LOB_HANDLE_STRUCTURE_1' ).\r\n    type_output( 'LOB_HANDLE_STRUCTURE_2' ).\r\n    type_output( 'LOB_HANDLE_STRUCTURE_3' ).\r\n    type_output( 'LOB_HANDLE_STRUCTURE_4' ).\r\n    type_output( 'LOB_HANDLE_STRUCTURE_5' ).\r\n    type_output( 'LOB_HANDLE_STRUCTURE_6' ).\r\n  ENDMETHOD.\r\n  METHOD type_output.\r\n    DATA structdescr TYPE REF TO cl_abap_structdescr.\r\n    DATA components TYPE abap_compdescr_tab.\r\n    DATA component  LIKE LINE OF components.\r\n    DATA typedescr   TYPE REF TO cl_abap_typedescr.\r\n    DATA refdescr    TYPE REF TO cl_abap_refdescr.\r\n    DATA name       TYPE string.\r\n    structdescr ?= cl_abap_structdescr=&gt;describe_by_name( struct ).\r\n    components = structdescr-&gt;components.\r\n    WRITE (47) struct COLOR 1 INTENSIFIED OFF.\r\n    LOOP AT components INTO component.\r\n      TRY.\r\n          name = struct &amp;&amp; '-' &amp;&amp; component-name.\r\n          refdescr ?= cl_abap_typedescr=&gt;describe_by_name( name ).\r\n          typedescr = refdescr-&gt;get_referenced_type( ).\r\n          WRITE: \/(6)  component-name\r\n                       COLOR 1 INTENSIFIED OFF,\r\n                  (40) typedescr-&gt;absolute_name\r\n                       COLOR 2 INTENSIFIED OFF.\r\n        CATCH cx_sy_move_cast_error.\r\n      ENDTRY.\r\n    ENDLOOP.\r\n    SKIP.\r\n  ENDMETHOD.\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  demo_lob_handles=&gt;main( ).<\/pre>\n<p>\u041a\u0440\u043e\u043c\u0435 \u0432\u044b\u0448\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0441\u043f\u043e\u0441\u043e\u0431\u0430 LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u044b \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u0435 \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 BEGIN OF\u2026END OF. \u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u044e \u043e\u0437\u043d\u0430\u043a\u043e\u043c\u0438\u0442\u044c\u0441\u044f \u0441 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439 \u0432 ABAP (\u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0438\u0436\u0435).<\/p>\n<h3>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0432 OpenSQL \u043a\u043e\u043c\u0430\u043d\u0434\u0430\u0445<\/h3>\n<p>\u041f\u043e\u0442\u043e\u043a\u0438 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0432\u0438\u0434\u043e\u0432:<\/p>\n<ul>\n<li>CL_ABAP_DB_C_READER \u2013 \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0421LOB \u043f\u043e\u043b\u0435\u0439<\/li>\n<li>CL_ABAP_DB_X_READER \u2013 \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 BLOB \u043f\u043e\u043b\u0435\u0439<\/li>\n<li>CL_ABAP_DB_C_WRITER \u2013 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0421LOB \u043f\u043e\u043b\u044f<\/li>\n<li>CL_ABAP_DB_X_WRITER \u2013 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 BLOB \u043f\u043e\u043b\u044f<\/li>\n<\/ul>\n<p>\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043f\u043e\u0442\u043e\u043a\u0430\u043c\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 LOB \u043f\u043e\u043b\u0435\u0439 \u0442\u0430\u043a\u0438\u0435 \u0436\u0435, \u043a\u0430\u043a \u0438 \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 (\u0441\u043c. \u0432\u044b\u0448\u0435). \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u0430 \u0440\u0430\u0437\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u0438 \u0438\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f. \u041a\u0430\u043a \u0431\u044b\u043b\u043e \u0432\u0438\u0434\u043d\u043e \u0432 \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u0432\u044b\u0448\u0435, \u043f\u043e\u0442\u043e\u043a\u0438 \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f LOB \u043f\u043e\u043b\u0435\u0439 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0447\u0435\u0440\u0435\u0437 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 INTO \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 SELECT \u0438\u043b\u0438 \u0447\u0435\u0440\u0435\u0437 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 CREATING.<\/p>\n<p>\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432: INSERT, UPDATE, MODIFY. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0421\u0423\u0411\u0414, \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043b\u0438\u0447\u0430\u0442\u044c\u0441\u044f:<\/p>\n<ul>\n<li>\u0412 MaxDB \u0438\u043b\u0438 Oracle \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u0430\u043c\u0438, \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f. \u0415\u0441\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u044f (sy-subrc, sy-dbcnt) \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a\u043e\u0434\u044b \u043e\u0448\u0438\u0431\u043e\u043a \u0438 \u0447\u0438\u0441\u043b\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e, \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043d\u0438\u0445 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u043c\u043e\u043c\u0435\u043d\u0442, \u043a\u043e\u0433\u0434\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0438\u0437 \u043d\u0438\u0445 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043a\u0440\u044b\u0442.<\/li>\n<li>\u0412 \u0434\u0440\u0443\u0433\u0438\u0445 \u0421\u0423\u0411\u0414 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b, \u043d\u0435 \u044f\u0432\u043b\u044f\u044e\u0449\u0438\u0435\u0441\u044f LOB \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u0430\u043c\u0438, \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u0432 \u0411\u0414 \u0441\u0440\u0430\u0437\u0443 \u0436\u0435 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f. \u041f\u0440\u0438 \u044d\u0442\u043e\u043c \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u0432\u0441\u0435\u0433\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f. \u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u0432 \u0411\u0414 \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043a\u0440\u044b\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a, \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0439 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043c\u0435\u0436\u0434\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435\u043c \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430, \u0441\u0442\u0430\u0442\u0443\u0441 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c. \u0412 \u043f\u043e\u043b\u0435 sy-subrc \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u0430\u043d \u043a\u043e\u0434 \u043e\u0448\u0438\u0431\u043a\u0438 2, \u0430 \u0432 sy-dbcnt \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 -1. \u041f\u0435\u0440\u0435\u0434 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435\u043c \u043f\u043e\u0442\u043e\u043a\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442 \u043a\u043b\u0430\u0441\u0441\u0430 CL_ABAP_SQL_CHANGING_STMNT, \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 IF_ABAP_DB_WRITER \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043c\u0435\u0442\u043e\u0434 GET_STATEMENT_HANDLE. \u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 GET_STATE \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 OSQL \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 GET_DB_COUNT \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u0442\u043e\u043a\u0438. \u0415\u0441\u043b\u0438 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u0442\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b \u0432 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u043f\u043e\u043b\u044f\u0445), \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0432\u044b\u0434\u0430\u0441\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f CX_STREAM_IO_EXCEPTION \u0438\u043b\u0438 CX_CLOSE_RESOURCE_ERROR.<\/li>\n<\/ul>\n<p>\u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u043c \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u043e\u0442\u043c\u0435\u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0447\u0435\u0440\u0435\u0437 ROLLBACK, \u043b\u0438\u0431\u043e \u0437\u0430\u043a\u0440\u044b\u0442 \u044f\u0432\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0447\u0435\u0440\u0435\u0437 \u043c\u0435\u0442\u043e\u0434 CLOSE. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f COMMIT WORK \u043f\u0440\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0445 \u043f\u043e\u0442\u043e\u043a\u0430\u0445, \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0432\u044b\u0437\u043e\u0432\u0435\u0442 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043e\u0448\u0438\u0431\u043a\u0443 &#8212; COMMIT_STREAM_ERROR.<\/p>\n<p>\u0427\u0438\u0442\u0430\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043d\u0435\u044f\u0432\u043d\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c \u0432 \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0435 SELECT \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 ENDSELECT, \u0430 \u0442\u0430\u043a \u0436\u0435 \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f DB LUW.<\/p>\n<p>\u041f\u0440\u0438\u043c\u0435\u0440 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0435\u0439 LOB \u043f\u043e\u043b\u0435 \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a:<\/p>\n<pre class=\"lang:abap decode:true\">PARAMETERS name TYPE c LENGTH 255 LOWER CASE\r\n           DEFAULT '\/SAP\/PUBLIC\/BC\/ABAP\/Sources\/ABAP_Docu_Logo.gif'.\r\n\r\nCLASS demo DEFINITION.\r\n  PUBLIC SECTION.\r\n    CLASS-METHODS:  class_constructor,\r\n                    main.\r\n  PRIVATE SECTION.\r\n    TYPES: pict_line(1022) TYPE x,\r\n           pict_tab TYPE STANDARD TABLE OF pict_line .\r\n    CLASS-DATA pict TYPE pict_tab.\r\n    CLASS-METHODS get_pict_tab\r\n     IMPORTING\r\n       mime_url TYPE csequence\r\n     EXPORTING\r\n       pict_tab TYPE STANDARD TABLE.\r\nENDCLASS.\r\n\r\nCLASS demo IMPLEMENTATION.\r\n\r\n  METHOD main.\r\n\r\n    DATA: xline TYPE xstring,\r\n          \" \u041e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c LOB \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0441 \u043f\u043e\u0442\u043e\u043a\u043e\u043c \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u044c \u043a \u043f\u043e\u043b\u044e picture\r\n          wa    TYPE demo_blob_table WRITER FOR COLUMNS picture,\r\n          stmnt TYPE REF TO cl_abap_sql_changing_stmnt,\r\n          subrc TYPE sy-subrc.\r\n\r\n    TRY.\r\n        wa-name = name.\r\n        \" \u0412\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u043f\u043e\u0442\u043e\u043a\r\n        INSERT demo_blob_table FROM wa.\r\n        IF sy-subrc = 4.\r\n          subrc = 4.\r\n        ELSE.\r\n          \" \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 CL_ABAP_SQL_CHANGING_STMNT,\r\n          \" \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u043e\u0442\u043e\u043a\u0430\r\n          stmnt = wa-picture-&gt;get_statement_handle( ).\r\n          \" \u0417\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e \u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0441 MIME \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u0430\u0440\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0435\r\n          LOOP AT pict INTO xline.\r\n            wa-picture-&gt;write( xline ).\r\n          ENDLOOP.\r\n          \" \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u0442\u043e\u043a\r\n          wa-picture-&gt;close( ).\r\n          \" \u041f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u043c \u043a\u043e\u043b-\u0432\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\r\n          IF stmnt-&gt;get_db_count( ) &lt;&gt; 1.\r\n            subrc = 4.\r\n          ENDIF.\r\n\r\n        ENDIF.\r\n      CATCH cx_stream_io_exception cx_close_resource_error.\r\n        subrc = 4.\r\n    ENDTRY.\r\n\r\n    IF subrc = 0.\r\n      MESSAGE 'One line inserted, you can run DEMO_DB_READER now'\r\n              TYPE 'S'.\r\n    ELSE.\r\n      MESSAGE 'Error during insertion' TYPE 'S' DISPLAY LIKE 'E'.\r\n    ENDIF.\r\n\r\n  ENDMETHOD.\r\n\r\n  METHOD class_constructor.\r\n    get_pict_tab(\r\n     EXPORTING\r\n       mime_url = name\r\n     IMPORTING\r\n       pict_tab = pict ).\r\n\r\n     \" \u0423\u0434\u0430\u043b\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0436\u0435 \u0438\u043c\u0435\u043d\u0435\u043c.\r\n     DELETE FROM demo_blob_table WHERE name = name.\r\n  ENDMETHOD.\r\n\r\n  METHOD get_pict_tab.\r\n    DATA pict_wa   TYPE xstring.\r\n    DATA length   TYPE i.\r\n    DATA mime_api TYPE REF TO if_mr_api.\r\n    mime_api = cl_mime_repository_api=&gt;get_api( ).\r\n    mime_api-&gt;get( EXPORTING i_url = mime_url\r\n                   IMPORTING e_content = pict_wa\r\n                   EXCEPTIONS OTHERS = 4 ).\r\n    IF sy-subrc = 4.\r\n      RETURN.\r\n    ENDIF.\r\n    CLEAR pict_tab.\r\n    length = xstrlen( pict_wa ).\r\n    WHILE length &gt;= 1022.\r\n      APPEND pict_wa(1022) TO pict_tab.\r\n      SHIFT pict_wa BY 1022 PLACES LEFT IN BYTE MODE.\r\n      length = xstrlen( pict_wa ).\r\n    ENDWHILE.\r\n    IF length &gt; 0.\r\n      APPEND pict_wa TO pict_tab.\r\n    ENDIF.\r\n  ENDMETHOD.\r\n\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  demo=&gt;main( ).<\/pre>\n<p>\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430, \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432\u044b\u0448\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:<\/p>\n<pre class=\"lang:abap decode:true\">REPORT demo_db_reader.\r\n\r\nPARAMETERS name TYPE c LENGTH 255 LOWER CASE\r\n           DEFAULT '\/SAP\/PUBLIC\/BC\/ABAP\/Sources\/ABAP_Docu_Logo.gif'.\r\n\r\nCLASS demo DEFINITION.\r\n  PUBLIC SECTION.\r\n    CLASS-METHODS main.\r\n  PRIVATE SECTION.\r\n    TYPES: pict_line(1022) TYPE x,\r\n           pict_tab TYPE STANDARD TABLE OF pict_line .\r\n    CLASS-DATA pict TYPE pict_tab.\r\n    CLASS-METHODS show_picture.\r\nENDCLASS.\r\n\r\nCLASS demo IMPLEMENTATION.\r\n  METHOD main.\r\n\r\n    DATA reader TYPE REF TO cl_abap_db_x_reader.\r\n\r\n    SELECT SINGLE picture\r\n           FROM demo_blob_table\r\n           INTO reader\r\n           WHERE name = name.\r\n\r\n    IF sy-subrc &lt;&gt; 0.\r\n      MESSAGE 'Nothing found, run DEMO_DB_WRITER first!'\r\n              TYPE 'S' DISPLAY LIKE 'E'.\r\n      RETURN.\r\n    ENDIF.\r\n\r\n    WHILE reader-&gt;data_available( ) = 'X'.\r\n      APPEND reader-&gt;read( 1022 ) TO pict.\r\n    ENDWHILE.\r\n\r\n    reader-&gt;close( ).\r\n\r\n    show_picture( ).\r\n\r\n  ENDMETHOD.\r\n  METHOD show_picture.\r\n    DATA html_str TYPE string.\r\n    DATA ext_data   TYPE cl_abap_browser=&gt;load_tab.\r\n    DATA ext_line   TYPE cl_abap_browser=&gt;load_tab_line.\r\n    html_str = '&lt;html&gt;&lt;body&gt;&lt;img src=\"PICT.GIF\" &gt;&lt;\/body&gt;&lt;\/html&gt;'.\r\n    ext_line-name = 'PICT.GIF'.\r\n    ext_line-type = 'image'.\r\n    GET REFERENCE OF pict INTO ext_line-dref.\r\n    APPEND ext_line TO ext_data.\r\n    cl_abap_browser=&gt;show_html(\r\n      EXPORTING\r\n        html_string = html_str\r\n        format      = cl_abap_browser=&gt;landscape\r\n        size        = cl_abap_browser=&gt;small\r\n        data_table  = ext_data\r\n        check_html  = ' ' ).\r\n  ENDMETHOD.\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  demo=&gt;main( ).<\/pre>\n<h3>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u0432 OpenSQL<\/h3>\n<p>\u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u044b \u0431\u044b\u0432\u0430\u044e\u0442 \u0434\u0432\u0443\u0445 \u0432\u0438\u0434\u043e\u0432:<\/p>\n<ul>\n<li>CL_ABAP_DB_C_LOCATOR \u2013 \u0434\u043b\u044f CLOB \u043f\u043e\u043b\u0435\u0439<\/li>\n<li>CL_ABAP_DB_X_LOCATOR \u2013 \u0434\u043b\u044f BLOB \u043f\u043e\u043b\u0435\u0439<\/li>\n<\/ul>\n<p>\u0412\u0430\u0436\u043d\u044b\u0435 \u043c\u0435\u0442\u043e\u0434\u044b \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432:<\/p>\n<ul>\n<li>GET_LENGTH \u2013 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0440 LOB \u043f\u043e\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u043a \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u0443<\/li>\n<li>FIND \u2013 \u043f\u043e\u0438\u0441\u043a \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u044f, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0432 LOB \u0433\u0434\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0448\u0430\u0431\u043b\u043e\u043d. \u0412 Unicode \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d 1333 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438, \u0432 \u043d\u0435 Unicode \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 2666. \u0414\u043b\u044f \u0431\u0430\u0439\u0442\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d 2666 \u0431\u0430\u0439\u0442\u0430\u043c\u0438.<\/li>\n<li>CLOSE \u2013 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u0430 \u0438 \u043e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043d\u044f\u0442\u044b\u0445 \u0438\u043c \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432<\/li>\n<li>IS_CLOSED \u2013 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 X \u0435\u0441\u043b\u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0440\u044b\u0442<\/li>\n<li>GET_SUBSTRING \u2013 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f CLOB \u043f\u043e\u043b\u0435\u0439, \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u043c \u0438 \u0434\u043b\u0438\u043d\u043d\u043e\u0439<\/li>\n<li>GET_BYTES \u2013 \u0442\u043e\u0436\u0435 \u0441\u0430\u043c\u043e\u0435 \u043d\u043e \u0434\u043b\u044f BLOB \u043f\u043e\u043b\u0435\u0439.<\/li>\n<\/ul>\n<p>\u041b\u043e\u043a\u0430\u0442\u043e\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 SELECT \u0438 \u0435\u0433\u043e \u0430\u0442\u0440\u0438\u0431\u0443\u0442 INTO, \u043a\u0430\u043a \u044d\u0442\u043e \u0431\u044b\u043b\u043e \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u0432\u044b\u0448\u0435. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u043d\u0438\u0446\u0438\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446. \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f, \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u044b \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0434\u043b\u044f \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f LOB \u043f\u043e\u043b\u0435\u0439 \u043c\u0435\u0436\u0434\u0443 \u0437\u0430\u043f\u0438\u0441\u044f\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b.<\/p>\n<p>\u0418\u0437-\u0437\u0430 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0421\u0423\u0411\u0414 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u043e\u0440\u0435\u0435, \u043f\u0440\u0438\u0447\u0435\u043c \u0432 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u043e\u0442 \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u044b \u043d\u0435 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 SELECT, \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u043c\u0430\u043d\u0434\u044b ENDSELECT. \u041d\u0435\u044f\u0432\u043d\u043e\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u0435 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f LUW \u0411\u0414.<\/p>\n<p>\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043a\u043e\u043f\u0438\u0440\u0443\u044e\u0449\u0435\u0435 LOB \u043f\u043e\u043b\u0435 \u0447\u0435\u0440\u0435\u0437 \u043b\u043e\u043a\u0430\u0442\u043e\u0440:<\/p>\n<pre class=\"lang:abap decode:true\">REPORT demo_db_copy.\r\n\r\nPARAMETERS: source TYPE c LENGTH 255 LOWER CASE\r\n            DEFAULT '\/SAP\/PUBLIC\/BC\/ABAP\/Sources\/ABAP_Docu_Logo.gif',\r\n            target TYPE c LENGTH 255 LOWER CASE\r\n            DEFAULT 'picture_copy'.\r\n\r\nCLASS demo DEFINITION.\r\n  PUBLIC SECTION.\r\n    CLASS-METHODS main.\r\nENDCLASS.\r\n\r\nCLASS demo IMPLEMENTATION.\r\n  METHOD main.\r\n\r\n    DATA wa TYPE demo_blob_table LOCATOR FOR ALL COLUMNS.\r\n\r\n    SELECT SINGLE picture\r\n           FROM demo_blob_table\r\n           INTO wa-picture\r\n           WHERE name = source.\r\n\r\n    IF sy-subrc &lt;&gt; 0.\r\n      MESSAGE 'Nothing found, run DEMO_DB_WRITER first!'\r\n              TYPE 'S' DISPLAY LIKE 'E'.\r\n      RETURN.\r\n    ENDIF.\r\n\r\n    wa-name = target.\r\n    INSERT demo_blob_table FROM wa.\r\n\r\n    IF sy-subrc = 0.\r\n      MESSAGE 'You can run DEMO_DB_READER with new name now' TYPE 'S'.\r\n    ELSE.\r\n      MESSAGE 'Target already exists' TYPE 'S' DISPLAY LIKE 'E'.\r\n    ENDIF.\r\n\r\n    wa-picture-&gt;close( ).\r\n\r\n  ENDMETHOD.\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  demo=&gt;main( ).<\/pre>\n<p>\u0427\u0442\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043b\u043e\u043a\u0430\u0442\u043e\u0440:<\/p>\n<pre class=\"lang:abap decode:true\">REPORT demo_db_locator.\r\n\r\nPARAMETERS: pattern  TYPE c LENGTH 20 DEFAULT 'ABAP' LOWER CASE,\r\n            language TYPE sy-langu DEFAULT sy-langu.\r\n\r\nCLASS demo DEFINITION.\r\n  PUBLIC SECTION.\r\n    CLASS-METHODS main.\r\nENDCLASS.\r\n\r\nCLASS demo IMPLEMENTATION.\r\n  METHOD main.\r\n    DATA: otr_text_locator TYPE REF TO cl_abap_db_c_locator,\r\n          search_pattern   TYPE string,\r\n          length           TYPE i,\r\n          hits             TYPE i,\r\n          avg              TYPE p DECIMALS 2,\r\n          msg              TYPE string.\r\n\r\n    search_pattern = pattern.\r\n\r\n    TRY.\r\n        SELECT text\r\n               FROM sotr_textu\r\n               INTO otr_text_locator\r\n               WHERE langu = language.\r\n\r\n          length = length + otr_text_locator-&gt;get_length( ).\r\n\r\n          IF otr_text_locator-&gt;find( start_offset = 0\r\n                                     pattern = search_pattern ) &lt;&gt; -1.\r\n            hits = hits + 1.\r\n          ENDIF.\r\n\r\n          otr_text_locator-&gt;close( ).\r\n        ENDSELECT.\r\n      CATCH cx_lob_sql_error.\r\n        WRITE 'Exception in locator' COLOR = 6.\r\n        RETURN.\r\n    ENDTRY.\r\n\r\n    avg = length \/ sy-dbcnt.\r\n\r\n    msg = |Average length of strings in database table: { avg }|.\r\n    WRITE: \/ msg.\r\n    msg = |Occurrences of \"{ pattern WIDTH = strlen( pattern ) }\" | &amp;&amp;\r\n          |in strings of database table: { hits }|.\r\n    WRITE: \/ msg.\r\n  ENDMETHOD.\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  demo=&gt;main( ).<\/pre>\n<p>\u0421\u043f\u0440\u0430\u0432\u043a\u0430 \u043d\u0430 \u0442\u0435\u043c\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f LOB \u0438 \u043f\u043e\u0442\u043e\u043a\u043e\u0432: <a href=\"http:\/\/help.sap.com\/abapdocu_731\/en\/abenstreams_locators.htm\">\u041f\u043e\u0442\u043e\u043a\u0438 \u0438 \u043b\u043e\u043a\u0430\u0442\u043e\u0440\u044b \u0432 OSQL<\/a>, <a href=\"http:\/\/help.sap.com\/abapdocu_731\/en\/abenstreaming.htm\">\u041f\u043e\u0442\u043e\u043a\u0438 \u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445<\/a>. \u0412\u0438\u0434\u0435\u043e <a href=\"http:\/\/scn.sap.com\/docs\/DOC-10235\">\u043e\u0431\u0437\u043e\u0440<\/a>.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 \u0432\u0435\u0440\u0441\u0438\u0438\u00a07.0, EhP2 \u0432 ABAP \u0431\u044b\u043b\u0430 \u0432\u0432\u0435\u0434\u0435\u043d\u0430 \u043d\u043e\u0432\u0430\u044f \u043a\u043e\u043d\u0446\u0435\u043f\u0446\u0438\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u0445 (\u0432\u043d\u0435\u0448\u043d\u0438\u0445) \u0434\u0430\u043d\u043d\u044b\u0445 &#8212; \u043f\u043e\u0442\u043e\u043a\u043e\u0432\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445. \u041f\u043e\u0442\u043e\u043a \u2013 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0435\u0439 \u043a\u043e\u043d\u0435\u0446 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d. \u041f\u043e\u0442\u043e\u043a\u0438 \u0440\u0430\u0437\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u043e \u0432\u0438\u0434\u0443: \u043f\u043e\u0442\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438. \u0424\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u0438 \u0432 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u043d\u0435 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0438 \u043d\u0435 \u0440\u0430\u0441\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0430\u0442\u044c\u0435. \u041f\u043e\u0442\u043e\u043a\u0438 [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[307],"tags":[260,263,259,258,262,261],"_links":{"self":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/1518"}],"collection":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/comments?post=1518"}],"version-history":[{"count":8,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/1518\/revisions"}],"predecessor-version":[{"id":6494,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/1518\/revisions\/6494"}],"wp:attachment":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/media?parent=1518"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/categories?post=1518"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/tags?post=1518"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}