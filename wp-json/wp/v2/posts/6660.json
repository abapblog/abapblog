{"id":6660,"date":"2021-03-14T12:05:08","date_gmt":"2021-03-14T08:05:08","guid":{"rendered":"https:\/\/abap-blog.ru\/?p=6660"},"modified":"2021-03-26T23:16:56","modified_gmt":"2021-03-26T19:16:56","slug":"vremennye-tablicy-v-abap-ciklax","status":"publish","type":"post","link":"https:\/\/abap-blog.ru\/osnovy-abap\/vnutrennie-tablicy\/vremennye-tablicy-v-abap-ciklax\/","title":{"rendered":"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 ABAP \u0446\u0438\u043a\u043b\u0430\u0445"},"content":{"rendered":"<p>\u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e <a href=\"https:\/\/help.sap.com\/doc\/abapdocu_latest_index_htm\/latest\/en-US\/abaploop_at_itab_result.htm\">\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438<\/a> \u0435\u0441\u043b\u0438 \u043c\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0446\u0438\u043a\u043b \u043f\u043e \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0439 \u0438\u0437 <a href=\"https:\/\/help.sap.com\/doc\/abapdocu_latest_index_htm\/latest\/en-US\/abenfunctional_method_glosry.htm\" target=\"_blank\" rel=\"noopener\">\u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430<\/a>, <a href=\"https:\/\/help.sap.com\/doc\/abapdocu_latest_index_htm\/latest\/en-US\/abenconstructor_expression_glosry.htm\" target=\"_blank\" rel=\"noopener\">\u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439<\/a>, \u0438\u043b\u0438 <a href=\"https:\/\/help.sap.com\/doc\/abapdocu_latest_index_htm\/latest\/en-US\/abentable_expression_glosry.htm\" target=\"_blank\" rel=\"noopener\">\u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439<\/a>, \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u0438\u0435\u043c \u043a \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u044b\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c (<!--StartFragment --><span class=\"L0S52\">ASSIGNING) <\/span>\u0438\u043b\u0438 \u0441\u0441\u044b\u043b\u043e\u0447\u043d\u044b\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c REFERENCE INTO, \u0441\u0440\u0435\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430.<\/p>\n<blockquote><p>If the internal table is specified as the return value or result of a\u00a0functional method, a\u00a0constructor expression, or a\u00a0table expression, the value is persisted for the duration of the loop. Afterwards, it is no longer possible to access the internal table.<\/p><\/blockquote>\n<p>\u041f\u0440\u0438\u043c\u0435\u0440:<\/p>\n<pre class=\"lang:abap mark:16-18 decode:true\">CLASS lcl_app DEFINITION.\r\n  PUBLIC SECTION.\r\n    TYPES tt_data TYPE STANDARD TABLE OF i WITH EMPTY KEY.\r\n    DATA mt_data TYPE tt_data.\r\n\r\n    METHODS: get_data RETURNING VALUE(rt_data) TYPE tt_data,\r\n             change_data.\r\nENDCLASS.\r\n\r\nCLASS lcl_app IMPLEMENTATION.\r\n  METHOD get_data.\r\n    rt_data = mt_data.\r\n  ENDMETHOD.\r\n\r\n  METHOD change_data.\r\n    LOOP AT get_data( ) ASSIGNING FIELD-SYMBOL(&lt;lv_data&gt;).\r\n      &lt;lv_data&gt; = &lt;lv_data&gt; + 1.\r\n    ENDLOOP.\r\n  ENDMETHOD.\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  DATA(lo_app) = NEW lcl_app( ).\r\n  lo_app-&gt;mt_data = VALUE #( ( 1 ) ).\r\n  lo_app-&gt;change_data( ).\r\n  cl_demo_output=&gt;display( lo_app-&gt;mt_data ).<\/pre>\n<p>\u0414\u0430\u043b\u0435\u0435 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043a\u0430\u043a \u044d\u0442\u043e \u0432\u044b\u0433\u043b\u044f\u0434\u0438\u0442 \u043f\u0440\u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u043e\u0442\u043b\u0430\u0434\u043a\u0435.<\/p>\n<p><!--more--><\/p>\n<p><a href=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/memory_one.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-6661\" src=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/memory_one.png\" alt=\"\" width=\"900\" height=\"213\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/memory_one.png 900w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/memory_one-300x71.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/memory_one-768x182.png 768w\" sizes=\"(max-width: 900px) 100vw, 900px\" \/><\/a><\/p>\n<p>\u041d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u043c\u0435\u0442\u043e\u0434\u0430 get_data( ) \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u0430\u044e\u0449\u0430\u044f\u0441\u044f \u043d\u0430 \u0442\u043e\u0442 \u0436\u0435 \u043e\u0431\u044a\u0435\u043a\u0442 \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u0433\u0434\u0435 \u043b\u0435\u0436\u0430\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 &#8212; mt_data. \u0421\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0442\u0430\u043a \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u043c\u044b\u0439 <a href=\"https:\/\/help.sap.com\/doc\/abapdocu_latest_index_htm\/latest\/en-US\/abentable_sharing_glosry.htm\" target=\"_blank\" rel=\"noopener\">table sharing<\/a>.<\/p>\n<p>\u041d\u043e \u0443\u0436\u0435 \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0439 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432 \u0446\u0438\u043a\u043b\u0435 \u0441\u0440\u0435\u0434\u0430 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442, \u0447\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u0443 \u0438 \u0442\u0443 \u0436\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043d\u0435\u043b\u044c\u0437\u044f \u0438 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0435\u0451 \u043a\u043e\u043f\u0438\u044e:<\/p>\n<p><a href=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-6662\" src=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data.png\" alt=\"\" width=\"1614\" height=\"153\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data.png 1614w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data-300x28.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data-1024x97.png 1024w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data-768x73.png 768w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_new_data-1536x146.png 1536w\" sizes=\"(max-width: 1614px) 100vw, 1614px\" \/><\/a><\/p>\n<p>\u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e mt_data \u043e\u0441\u0442\u0430\u0451\u0442\u0441\u044f \u0431\u0435\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439.<\/p>\n<p>\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u043e \u0438 \u043d\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432, \u043e\u0434\u043d\u0430\u043a\u043e \u0442\u0430\u043a\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0439 <a href=\"https:\/\/abap-tips-ru.blogspot.com\/2020\/11\/blog-post.html\" target=\"_blank\" rel=\"noopener\">\u0441\u0442\u0443\u043f\u043e\u0440<\/a>\u00a0\u0438 \u043d\u0435\u043f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u043c\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u043e\u0441\u0442\u0443\u043f \u043d\u0435 \u043f\u0440\u043e\u0441\u0442\u043e \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435, \u043d\u043e \u0434\u0435\u043b\u0430\u0435\u043c \u044d\u0442\u043e \u0447\u0435\u0440\u0435\u0437 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442:<\/p>\n<pre class=\"lang:abap mark:15-17 decode:true\">CLASS lcl_app DEFINITION.\r\n  PUBLIC SECTION.\r\n    TYPES tt_data TYPE STANDARD TABLE OF i WITH EMPTY KEY.\r\n    DATA mt_data TYPE tt_data.\r\n\r\n    METHODS: change_data,\r\n\r\n    get_reference\r\n      RETURNING VALUE(ro_data) TYPE REF TO lcl_app.\r\nENDCLASS.\r\n\r\nCLASS lcl_app IMPLEMENTATION.\r\n\r\n  METHOD change_data.\r\n    LOOP AT get_reference( )-&gt;mt_data ASSIGNING FIELD-SYMBOL(&lt;lv_value&gt;).\r\n      &lt;lv_value&gt; = &lt;lv_value&gt; + 1.\r\n    ENDLOOP.\r\n  ENDMETHOD.\r\n\r\n  METHOD get_reference.\r\n    ro_data = me.\r\n  ENDMETHOD.\r\n\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  DATA(lo_app) = NEW lcl_app( ).\r\n  lo_app-&gt;mt_data = VALUE #( ( 1 ) ).\r\n\r\n  lo_app-&gt;change_data( ).\r\n  cl_demo_output=&gt;display( lo_app-&gt;mt_data ).<\/pre>\n<p>\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u043e\u0434\u0443\u043c\u0430\u0442\u044c \u0447\u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0443 \u0432\u044b \u0443\u0436\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u043e \u043d\u0435\u0439, \u043e\u0434\u043d\u0430\u043a\u043e ABAP \u0441\u0440\u0435\u0434\u0430 \u0442\u0430\u043a \u043d\u0435 \u0434\u0443\u043c\u0430\u0435\u0442. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0440\u0430\u0431\u043e\u0442\u044b:<\/p>\n<p><a href=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/wrong_result.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-6663\" src=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/wrong_result.png\" alt=\"\" width=\"158\" height=\"64\" \/><\/a><\/p>\n<p>\u0421\u0440\u0435\u0434\u0430 \u043f\u043e\u043d\u0438\u043c\u0430\u0435\u0442, \u0447\u0442\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0439 \u0438\u0437 \u043c\u0435\u0442\u043e\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0434\u043b\u044f \u0446\u0438\u043a\u043b\u0430 \u0438 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043a\u0430\u043a \u0438 \u0432 \u043f\u0435\u0440\u0432\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 <strong>\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443<\/strong> \u0432 \u043f\u0430\u043c\u044f\u0442\u0438.<\/p>\n<p>\u041d\u0430 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u043c\u0435\u0442\u043e\u0434\u0430 get_reference \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043e\u0447\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u0430\u044e\u0449\u0430\u044f\u0441\u044f \u043d\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044e lcl_app:<\/p>\n<p><a href=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-6665\" src=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ.png\" alt=\"\" width=\"1680\" height=\"355\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ.png 1680w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ-300x63.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ-1024x216.png 1024w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ-768x162.png 768w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/get_ref_templ-1536x325.png 1536w\" sizes=\"(max-width: 1680px) 100vw, 1680px\" \/><\/a><\/p>\n<p>\u041d\u043e \u043f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c table sharing \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u043a\u043e\u043f\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0443\u0436\u0435 \u0441 \u043d\u043e\u0432\u043e\u0439 \u0441\u0441\u044b\u043b\u043e\u0447\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439:<\/p>\n<p><a href=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-6666\" src=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst.png\" alt=\"\" width=\"1548\" height=\"282\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst.png 1548w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst-300x55.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst-1024x187.png 1024w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst-768x140.png 768w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/table_sharing_get_inst-1536x280.png 1536w\" sizes=\"(max-width: 1548px) 100vw, 1548px\" \/><\/a><\/p>\n<p>\u041f\u043e \u0441\u0443\u0442\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u043e\u0434 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u0435\u043d \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c\u0443:<\/p>\n<pre class=\"lang:abap mark:3,4 decode:true\"> ...\r\n  METHOD change_data.\r\n    DATA(lt_table_copy) = get_reference( )-&gt;mt_data.  \r\n    LOOP AT lt_table_copy ASSIGNING FIELD-SYMBOL(&lt;lv_value&gt;).\r\n      &lt;lv_value&gt; = &lt;lv_value&gt; + 1.\r\n    ENDLOOP.\r\n  ENDMETHOD.\r\n...<\/pre>\n<p>\u041d\u043e \u0447\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0441\u043b\u0438 \u043c\u044b \u0432\u0441\u0435 \u0442\u0430\u043a\u0438 \u0445\u043e\u0442\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438 \u043e\u0431\u043e\u0439\u0442\u0438 \u043c\u0435\u0445\u0430\u043d\u0438\u0437\u043c \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438?<\/p>\n<p>\u041e\u0431\u043e\u0439\u0442\u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c:<\/p>\n<pre class=\"lang:abap decode:true\">  METHOD change_data.\r\n    DATA(lo_ref) = get_reference( ).\r\n\r\n    LOOP AT lo_ref-&gt;mt_data ASSIGNING FIELD-SYMBOL(&lt;lv_value&gt;).\r\n      &lt;lv_value&gt; = &lt;lv_value&gt; + 1.\r\n    ENDLOOP.\r\n  ENDMETHOD.<\/pre>\n<p>\u041b\u0438\u0431\u043e:<\/p>\n<pre class=\"lang:abap decode:true \">  METHOD change_data.\r\n    LOOP AT CAST lcl_app( get_reference( ) )-&gt;mt_data ASSIGNING FIELD-SYMBOL(&lt;lv_value&gt;).\r\n      &lt;lv_value&gt; = &lt;lv_value&gt; + 1.\r\n    ENDLOOP.\r\n  ENDMETHOD.<\/pre>\n<p>\u0412 \u043f\u0435\u0440\u0432\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u044b \u044f\u0432\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442 \u0438 \u0443\u0436\u0435 \u0446\u0438\u043a\u043b \u0441\u0442\u0430\u0440\u0442\u0443\u0435\u043c \u043f\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430.<\/p>\n<p>\u0412\u043e \u0432\u0442\u043e\u0440\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 CAST (\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e \u0441\u0443\u0442\u0438 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0435\u0442) \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043e\u0447\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f:<\/p>\n<p><a href=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/tempopary_reference.png\"><img loading=\"lazy\" class=\"alignnone size-full wp-image-6664\" src=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/tempopary_reference.png\" alt=\"\" width=\"1480\" height=\"349\" srcset=\"https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/tempopary_reference.png 1480w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/tempopary_reference-300x71.png 300w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/tempopary_reference-1024x241.png 1024w, https:\/\/abap-blog.ru\/wp-content\/uploads\/2021\/03\/tempopary_reference-768x181.png 768w\" sizes=\"(max-width: 1480px) 100vw, 1480px\" \/><\/a><\/p>\n<p>\u041a\u043e\u0442\u043e\u0440\u0430\u044f \u0441\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0438\u043d\u0441\u0442\u0430\u043d\u0446\u0438\u044e lcl_app. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b.<\/p>\n<p>\u0415\u0449\u0435 \u043e\u0434\u0438\u043d &#171;\u0430\u0431\u0441\u0442\u0440\u0430\u043a\u0442\u043d\u044b\u0439&#187; \u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u043e \u0443\u0436\u0435 \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u043d\u044b\u0439 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440:<\/p>\n<pre class=\"lang:abap mark:22-24 decode:true \">CLASS lcl_app DEFINITION.\r\n  PUBLIC SECTION.\r\n    TYPES tt_data TYPE STANDARD TABLE OF i WITH EMPTY KEY.\r\n    DATA mt_data TYPE tt_data.\r\n\r\n    METHODS: change_data,\r\n\r\n    get_reference\r\n      RETURNING VALUE(ro_data) TYPE REF TO lcl_app,\r\n\r\n    change_value CHANGING cv_value TYPE i\r\n                 RETURNING VALUE(rv_value) TYPE i.\r\nENDCLASS.\r\n\r\nCLASS lcl_app IMPLEMENTATION.\r\n  METHOD change_value.\r\n    cv_value = cv_value + 1.\r\n    rv_value = cv_value.\r\n  ENDMETHOD.\r\n\r\n  METHOD change_data.\r\n    DATA(lt_data) = VALUE tt_data( FOR &lt;ls&gt; \r\n                                   IN CAST lcl_app( get_reference( ) )-&gt;mt_data \r\n                                   ( change_value( CHANGING cv_value = &lt;ls&gt; ) ) ).\r\n  ENDMETHOD.\r\n\r\n  METHOD get_reference.\r\n    ro_data = me.\r\n  ENDMETHOD.\r\n\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  DATA(lo_app) = NEW lcl_app( ).\r\n  lo_app-&gt;mt_data = VALUE #( ( 1 ) ).\r\n\r\n  lo_app-&gt;change_data( ).\r\n  cl_demo_output=&gt;display( lo_app-&gt;mt_data ).<\/pre>\n<p>\u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e CAST \u043c\u044b \u0442\u0430\u043a\u0438 \u0441\u043c\u043e\u0433\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u0434\u0435\u043b\u0430\u043d \u0438\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0440\u0430\u0434\u0438 \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u0438, \u043d\u0435 \u0441\u0442\u043e\u0438\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434\u044b \u0432\u0440\u043e\u0434\u0435 change_value \u0441 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u043c \ud83d\ude42<\/p>\n<p>P.S. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u0446\u0438\u043a\u043b\u0430\u0445, \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0446\u0438\u043a\u043b\u0430, \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u043a FIELD-SYMBOLS \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a \u0436\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0442.\u043a. \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u043f\u0430\u0434\u0451\u0442 \u0432\u043c\u0435\u0441\u0442\u0435 \u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439:<\/p>\n<pre class=\"lang:abap mark:5 decode:true \">...\r\n    LOOP AT get_reference( )-&gt;mt_data ASSIGNING FIELD-SYMBOL(&lt;lv_value&gt;).\r\n      &lt;lv_value&gt; = &lt;lv_value&gt; + 1.\r\n    ENDLOOP.\r\n    &lt;lv_value&gt; = 10. \" &lt;-- Dump here\r\n...<\/pre>\n<p>\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0441 \u043d\u0435\u043e\u0447\u0435\u0432\u0438\u0434\u043d\u044b\u043c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435\u043c, \u0433\u0434\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e:<\/p>\n<pre class=\"lang:abap decode:true \">CLASS lcl_app DEFINITION.\r\n  PUBLIC SECTION.\r\n    METHODS:\r\n      get_me RETURNING VALUE(ro_me) TYPE REF TO lcl_app,\r\n      get_reference IMPORTING iv_string TYPE string\r\n                    RETURNING VALUE(rr_ref) TYPE REF TO string,\r\n      constructor IMPORTING iv_app_name TYPE string.\r\n    DATA:\r\n      mv_app_name TYPE string.\r\nENDCLASS.\r\n\r\nCLASS lcl_app IMPLEMENTATION.\r\n  METHOD constructor.\r\n    mv_app_name = iv_app_name.\r\n  ENDMETHOD.\r\n\r\n  METHOD get_me.\r\n    ro_me = me.\r\n  ENDMETHOD.\r\n\r\n  METHOD get_reference.\r\n    rr_ref = REF #( iv_string ).\r\n  ENDMETHOD.\r\nENDCLASS.\r\n\r\nSTART-OF-SELECTION.\r\n  DATA(lo_app) = NEW lcl_app( 'Application' ).\r\n  DATA(lr_ref) = lo_app-&gt;get_reference( lo_app-&gt;get_me( )-&gt;mv_app_name ).\r\n\r\n  ASSIGN lr_ref-&gt;* TO FIELD-SYMBOL(&lt;lv_app_name&gt;).\r\n\r\n  cl_demo_output=&gt;write( data = lo_app-&gt;mv_app_name ).\r\n  cl_demo_output=&gt;display( &lt;lv_app_name&gt; ).<\/pre>\n<blockquote>\n<h4><a href=\"https:\/\/help.sap.com\/doc\/abapdocu_latest_index_htm\/latest\/en-US\/abentyping_arith_expr.htm#@@ITOC@@ABENTYPING_ARITH_EXPR_3\" target=\"_blank\" rel=\"noopener\"><strong><span class=\"h2\">Passing Parameters<\/span><\/strong><\/a><\/h4>\n<p>When binding a function, a calculation expression, a constructor expression, or a table expression, the parameters are always\u00a0<a class=\"grey\" title=\"Glossary Entry\">passed by value<\/a>, even if the formal parameter is defined as to be\u00a0<a class=\"grey\" title=\"Glossary Entry\">passed by reference<\/a>.<\/p><\/blockquote>\n<p>\u041d\u043e \u043a\u0430\u043a \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c table expression \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e, \u044f \u0442\u0430\u043a \u0438 \u043d\u0435 \u043f\u043e\u043d\u044f\u043b. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438, \u043b\u0438\u0431\u043e \u044f \u0435\u0451 \u043d\u0435\u0432\u0435\u0440\u043d\u043e \u0438\u0441\u0442\u043e\u043b\u043a\u043e\u0432\u0430\u043b. \u0415\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u0438\u0434\u0435\u0438 \u043d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u0441\u0447\u0451\u0442 \u043f\u0440\u043e\u0441\u044c\u0431\u0430 \u043f\u0440\u043e\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>\u0421\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 \u0435\u0441\u043b\u0438 \u043c\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u0446\u0438\u043a\u043b \u043f\u043e \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0439 \u0438\u0437 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0435\u0442\u043e\u0434\u0430, \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439, \u0438\u043b\u0438 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439, \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u0438\u0435\u043c \u043a \u0441\u0438\u043c\u0432\u043e\u043b\u044c\u043d\u044b\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c (ASSIGNING) \u0438\u043b\u0438 \u0441\u0441\u044b\u043b\u043e\u0447\u043d\u044b\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c REFERENCE INTO, \u0441\u0440\u0435\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0446\u0438\u043a\u043b\u0430. If the internal table is specified as the return value or result of a\u00a0functional method, a\u00a0constructor expression, or a\u00a0table [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[413],"tags":[],"_links":{"self":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/6660"}],"collection":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/comments?post=6660"}],"version-history":[{"count":18,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/6660\/revisions"}],"predecessor-version":[{"id":6875,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/6660\/revisions\/6875"}],"wp:attachment":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/media?parent=6660"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/categories?post=6660"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/tags?post=6660"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}