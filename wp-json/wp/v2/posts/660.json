{"id":660,"date":"2012-04-02T19:23:09","date_gmt":"2012-04-02T15:23:09","guid":{"rendered":"http:\/\/abap-blog.ru\/?p=660"},"modified":"2021-03-02T09:59:30","modified_gmt":"2021-03-02T05:59:30","slug":"obrabotka-sobytij-v-salv-obektax","status":"publish","type":"post","link":"https:\/\/abap-blog.ru\/osnovy-abap\/sap-dynpro\/obrabotka-sobytij-v-salv-obektax\/","title":{"rendered":"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 SALV \u043c\u043e\u0434\u0435\u043b\u0438"},"content":{"rendered":"<p>\u041e\u0431\u044a\u0435\u043a\u0442\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c SALV \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 (\u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c), \u043e\u0434\u043d\u0430\u043a\u043e \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439: \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0438, hotspot \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u0441\u0441\u044b\u043b\u043a\u0438, checkbox&#8217;\u044b, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0449\u0435\u043b\u0447\u043a\u0438 (\u0434\u0432\u043e\u0439\u043d\u044b\u0435 \u0449\u0435\u043b\u0447\u043a\u0438), \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0430\u0432\u0438\u0448 (F1,F2).<\/p>\n<p><!--more--><\/p>\n<p>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0430 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439\u043d\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438 ABAP Objects. \u0412 \u043f\u0435\u0440\u0432\u0443\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043a\u043b\u0430\u0441\u0441 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u0439 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 (\u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u0435\u0442\u043e\u0434\u0430 get_events &#8212; sALV \u043e\u0431\u044a\u0435\u043a\u0442\u0430), \u0437\u0430\u0442\u0435\u043c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a. \u041a\u043b\u0430\u0441\u0441\u044b \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f:<\/p>\n<ul>\n<li>CL_SALV_EVENTS &#8212; \u043e\u0431\u0449\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0434\u043b\u044f \u0432\u0441\u0435\u0445 sALV \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432<\/li>\n<li>CL_SALV_EVENTS_HIERSEQ &#8212; \u0434\u043b\u044f \u0438\u0435\u0440\u0430\u0440\u0445\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430<\/li>\n<li>CL_SALV_EVENTS_LIST &#8212; \u0434\u043b\u044f ALV \u0432 \u0432\u0438\u0434\u0435 \u0441\u043f\u0438\u0441\u043a\u0430<\/li>\n<li>CL_SALV_EVENTS_TABLE &#8212; \u0434\u043b\u044f ALV \u0442\u0430\u0431\u043b\u0438\u0446\u044b<\/li>\n<li>CL_SALV_EVENTS_TREE &#8212; \u0434\u043b\u044f \u0434\u0440\u0435\u0432\u043e\u0432\u0438\u0434\u043d\u043e\u0433\u043e ALV<\/li>\n<\/ul>\n<div><span style=\"line-height: 18px;\">\u00a0<\/span><\/div>\n<div>\u0412 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0438\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 sALV \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439:<\/div>\n<div><\/div>\n<div>\n<pre class=\"lang:abap decode:true \">REPORT ZALV_EVENTS NO STANDARD PAGE HEADING.\r\n\r\nCLASS lcl_report DEFINITION.\r\n  PUBLIC SECTION.\r\n    METHODS:\r\n      get_data, \" \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445\r\n      show_alv, \" \u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c ALV\r\n      \" \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\r\n      on_before_salv_function FOR EVENT BEFORE_SALV_FUNCTION OF cl_salv_events IMPORTING E_SALV_FUNCTION,\r\n      \" \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0436\u0430\u0442\u0438\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\r\n      on_after_salv_function  FOR EVENT AFTER_SALV_FUNCTION  OF cl_salv_events IMPORTING E_SALV_FUNCTION,\r\n      \" \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0441\u0432\u043e\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\r\n      on_added_salv_function  FOR EVENT ADDED_FUNCTION       OF cl_salv_events IMPORTING E_SALV_FUNCTION.\r\n  PRIVATE SECTION.\r\n  DATA:\r\n    gt_data      TYPE spfli_tab,  \" \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438\r\n    go_alv       TYPE REF TO cl_salv_table,\r\n    go_functions TYPE REF TO cl_salv_functions,\r\n    gv_string    TYPE STRING,\r\n    go_events    TYPE REF TO cl_salv_events.\r\nENDCLASS.\r\n\r\nCLASS lcl_report IMPLEMENTATION.\r\n\r\n  METHOD get_data.\r\n    SELECT * FROM spfli INTO CORRESPONDING FIELDS OF TABLE gt_data.\r\n  ENDMETHOD.\r\n\r\n  METHOD show_alv.\r\n    CHECK go_alv IS NOT BOUND.\r\n\r\n    TRY.\r\n        cl_salv_table=&gt;factory(\r\n           IMPORTING\r\n             r_salv_table = go_alv\r\n           CHANGING\r\n             t_table = gt_data ).\r\n      CATCH cx_salv_msg .\r\n        MESSAGE '\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 ALV' TYPE 'E'.\r\n    ENDTRY.\r\n\r\n    \" \u0412\u0435\u0448\u0430\u0435\u043c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u0430 go_events:\r\n    go_events = go_alv-&gt;get_event( ).\r\n    SET HANDLER on_before_salv_function FOR go_events.\r\n    SET HANDLER on_added_salv_function FOR go_events.\r\n    SET HANDLER on_after_salv_function FOR go_events.\r\n\r\n    \" \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439\r\n    go_functions = go_alv-&gt;get_functions( ).\r\n    go_functions-&gt;set_all( abap_true ).\r\n\r\n    go_alv-&gt;display( ).\r\n  ENDMETHOD.\r\n\r\n  METHOD on_before_salv_function.\r\n    CONCATENATE 'BEFORE ALV FUNCTION:' E_SALV_FUNCTION INTO gv_string.\r\n    MESSAGE gv_string TYPE 'I'.\r\n  ENDMETHOD.\r\n\r\n  METHOD on_after_salv_function.\r\n    CONCATENATE 'AFTER ALV FUNCTION:' E_SALV_FUNCTION INTO gv_string.\r\n    MESSAGE gv_string TYPE 'I'.\r\n  ENDMETHOD.\r\n\r\n  METHOD on_added_salv_function.\r\n    CONCATENATE 'CUSTOM ALV FUNCTION:' E_SALV_FUNCTION INTO gv_string.\r\n    MESSAGE gv_string TYPE 'I'.\r\n  ENDMETHOD.\r\n\r\nENDCLASS.\r\n\r\nDATA:\r\n  lo_report TYPE REF TO lcl_report.\r\n\r\nSTART-OF-SELECTION.\r\n   CREATE OBJECT lo_report.\r\n   lo_report-&gt;get_data( ).\r\n   lo_report-&gt;show_alv( ).<\/pre>\n<p>\u0422\u0430\u043a\u0438\u043c \u0436\u0435 \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439 sALV \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439:<\/p>\n<\/div>\n<ul>\n<li><strong>TOP_OF_PAGE<\/strong> &#8212; \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0434\u043b\u044f sALV \u043e\u0431\u044a\u0435\u043a\u044c\u0430<\/li>\n<li><strong>END_OF_PAGE<\/strong> &#8212; \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0434\u0432\u0430\u043b<\/li>\n<li><strong>BEFORE_SALV_FUNCTION<\/strong> &#8212; \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a \u0434\u043e \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438<\/li>\n<li><strong>AFTER_SALV_FUNCTION<\/strong> &#8212; \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438<\/li>\n<li><strong>ADDED_FUNCTION<\/strong> &#8212; \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439<\/li>\n<li><strong>DOUBLE_CLICK<\/strong> &#8212; \u0434\u0432\u043e\u0439\u043d\u043e\u0439\u00a0\u0449\u0435\u043b\u0447\u043e\u043a\u00a0\u043f\u043e sALV \u043e\u0431\u044a\u0435\u043a\u0442\u0443<\/li>\n<li><strong>LINK_CLICK<\/strong> &#8212; \u0449\u0435\u043b\u0447\u043e\u043a \u043f\u043e hotspot \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b (\u043a\u043d\u043e\u043f\u043a\u0435, \u0441\u0441\u044b\u043b\u043a\u0435, checkbox&#8217;\u0443, hotspot \u044f\u0447\u0435\u0439\u043a\u0435)<\/li>\n<li><strong>KEYPRESS<\/strong> (\u0434\u043b\u044f \u0434\u0435\u0440\u0435\u0432\u0430) &#8212; \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0430\u0432\u0438\u0448 (F1,F2)<\/li>\n<li><strong>CHECKBOX_CHANGE<\/strong> (\u0434\u043b\u044f \u0434\u0435\u0440\u0435\u0432\u0430) &#8212; \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f checkbox \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430<\/li>\n<\/ul>\n","protected":false},"excerpt":{"rendered":"<p>\u041e\u0431\u044a\u0435\u043a\u0442\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c SALV \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 (\u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u043c \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u043c), \u043e\u0434\u043d\u0430\u043a\u043e \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439: \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0438, hotspot \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b, \u0441\u0441\u044b\u043b\u043a\u0438, checkbox&#8217;\u044b, \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0449\u0435\u043b\u0447\u043a\u0438 (\u0434\u0432\u043e\u0439\u043d\u044b\u0435 \u0449\u0435\u043b\u0447\u043a\u0438), \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u043b\u0430\u0432\u0438\u0448 (F1,F2).<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[308],"tags":[159,160,161,162,163],"_links":{"self":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/660"}],"collection":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/comments?post=660"}],"version-history":[{"count":7,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/660\/revisions"}],"predecessor-version":[{"id":6473,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/660\/revisions\/6473"}],"wp:attachment":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/media?parent=660"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/categories?post=660"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/tags?post=660"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}