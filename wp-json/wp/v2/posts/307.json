{"id":307,"date":"2012-01-22T12:41:36","date_gmt":"2012-01-22T08:41:36","guid":{"rendered":"http:\/\/abap-blog.ru\/?p=307"},"modified":"2021-03-02T09:54:56","modified_gmt":"2021-03-02T05:54:56","slug":"prosmotr-fajla-v-shestnadcaterichnom-vide","status":"publish","type":"post","link":"https:\/\/abap-blog.ru\/osnovy-abap\/prosmotr-fajla-v-shestnadcaterichnom-vide\/","title":{"rendered":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0444\u0430\u0439\u043b\u0430 \u0432 \u0448\u0435\u0441\u0442\u043d\u0430\u0434\u0446\u0430\u0442\u0435\u0440\u0438\u0447\u043d\u043e\u043c \u0432\u0438\u0434\u0435"},"content":{"rendered":"<p>\u041d\u0438\u0436\u0435 \u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0448\u0435\u0441\u0442\u043d\u0430\u0434\u0446\u0430\u0442\u0435\u0440\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u043a\u043b\u0430\u0441\u0441 <strong>cl_gui_textedit.<\/strong>\u00a0\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0447\u0442\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0441\u043b\u0443\u0436\u0438\u0442 \u044d\u043a\u0440\u0430\u043d \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u0430 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e <strong>screen0<\/strong>\u00a0\u043a\u043b\u0430\u0441\u0441\u0430 <strong>cl_gui_container<\/strong>.<!--more--><\/p>\n<pre class=\"lang:abap decode:true\">REPORT zhex_view.\r\n\r\nDATA: go_textedit TYPE REF TO cl_gui_textedit,\r\n      gt_exclude TYPE TABLE OF rsexfcode,\r\n      gs_exclude TYPE rsexfcode.\r\n\r\nPARAMETER: DUMMY(1).\r\n\r\nINITIALIZATION.\r\n  gs_exclude-fcode  = 'ONLI'.\r\n  APPEND gs_exclude TO gt_exclude.\r\n\r\nAT SELECTION-SCREEN OUTPUT.\r\n  PERFORM s1000_pbo.\r\n\r\n*&amp;---------------------------------------------------------------------*\r\n*&amp; Form S1000_PBO\r\n*&amp;---------------------------------------------------------------------*\r\nFORM s1000_pbo.\r\n  IF go_textedit IS INITIAL.\r\n    DATA lt_filetable    TYPE filetable.\r\n    DATA ls_filetable    TYPE LINE OF filetable.\r\n    DATA l_rc           TYPE I.\r\n    DATA l_action       TYPE I.\r\n\r\n    CALL FUNCTION 'RS_SET_SELSCREEN_STATUS'\r\n      EXPORTING\r\n        p_status  = '%_00'\r\n        p_program = 'RSSYSTDB'\r\n      TABLES\r\n        p_exclude = gt_exclude.\r\n\r\n    CALL METHOD cl_gui_frontend_services=&gt;file_open_dialog\r\n      CHANGING\r\n        file_table              = lt_filetable\r\n        rc                      = l_rc\r\n        user_action             = l_action\r\n      EXCEPTIONS\r\n        file_open_dialog_failed = 1\r\n        cntl_error              = 2\r\n        error_no_gui            = 3\r\n        not_supported_by_gui    = 4\r\n        OTHERS                  = 5.\r\n\r\n    IF sy-subrc NE 0.\r\n      LEAVE PROGRAM.\r\n    ELSEIF l_action NE cl_gui_frontend_services=&gt;action_ok.\r\n      LEAVE PROGRAM.\r\n    ELSE.\r\n      READ TABLE lt_filetable INDEX 1 INTO ls_filetable.\r\n      ASSERT sy-subrc = 0.\r\n      DATA l_xstring TYPE XSTRING.\r\n      DATA l_string TYPE STRING.\r\n      DATA lt_textedit TYPE abaptxt255_tab.\r\n      PERFORM read_bin_file USING ls_filetable-filename CHANGING l_xstring.\r\n\r\n      l_string = l_xstring.\r\n      CALL FUNCTION 'SWA_STRING_TO_TABLE'\r\n        EXPORTING\r\n          character_string = l_string\r\n        IMPORTING\r\n          character_table  = lt_textedit[].\r\n      CREATE OBJECT go_textedit\r\n        EXPORTING\r\n          parent = cl_gui_container=&gt;screen0.\r\n      CALL METHOD go_textedit-&gt;set_wordwrap_behavior\r\n        EXPORTING\r\n          wordwrap_mode     = cl_gui_textedit=&gt;wordwrap_at_fixed_position\r\n          wordwrap_position = 120.\r\n      CALL METHOD go_textedit-&gt;set_text_as_stream\r\n        EXPORTING\r\n          text = lt_textedit.\r\n      CALL METHOD go_textedit-&gt;set_readonly_mode\r\n        EXPORTING\r\n          readonly_mode\t= 1.\r\n    ENDIF.\r\n  ENDIF.\r\n  SET TITLEBAR 'TIT' OF PROGRAM 'SAPLDSYP' WITH 'File Hex Viewer'(001).\r\nENDFORM.                                                    \"s1000_pbo\r\n\r\nFORM read_bin_file\r\n      USING i_filename TYPE CLIKE\r\n      CHANGING e_file_xstring TYPE XSTRING.\r\n  DATA l_filename TYPE STRING.\r\n  DATA l_length TYPE I.\r\n  DATA lt_x255 TYPE TABLE OF x255.\r\n  l_filename = i_filename.\r\n  CALL METHOD cl_gui_frontend_services=&gt;gui_upload\r\n    EXPORTING\r\n      filename   = l_filename\r\n      filetype   = 'BIN'\r\n    IMPORTING\r\n      filelength = l_length\r\n    CHANGING\r\n      data_tab   = lt_x255\r\n    EXCEPTIONS\r\n      OTHERS     = 1.\r\n  IF sy-subrc = 0.\r\n    CALL METHOD cl_swf_utl_convert_xstring=&gt;table_to_xstring\r\n      EXPORTING\r\n        i_table  = lt_x255\r\n        i_size   = l_length\r\n      RECEIVING\r\n        r_stream = e_file_xstring\r\n      EXCEPTIONS\r\n        OTHERS   = 3.\r\n  ENDIF.\r\nENDFORM.                    \"read_bin_file<\/pre>\n","protected":false},"excerpt":{"rendered":"<p>\u041d\u0438\u0436\u0435 \u043f\u0440\u0438\u043c\u0435\u0440 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0448\u0435\u0441\u0442\u043d\u0430\u0434\u0446\u0430\u0442\u0435\u0440\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u0433\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0447\u0435\u0440\u0435\u0437 \u043a\u043b\u0430\u0441\u0441 cl_gui_textedit.\u00a0\u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0447\u0442\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440\u0430 \u0441\u043b\u0443\u0436\u0438\u0442 \u044d\u043a\u0440\u0430\u043d \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b, \u0430 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e screen0\u00a0\u043a\u043b\u0430\u0441\u0441\u0430 cl_gui_container.<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[308,305],"tags":[27,72],"_links":{"self":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/307"}],"collection":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/comments?post=307"}],"version-history":[{"count":7,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/307\/revisions"}],"predecessor-version":[{"id":2135,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/307\/revisions\/2135"}],"wp:attachment":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/media?parent=307"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/categories?post=307"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/tags?post=307"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}