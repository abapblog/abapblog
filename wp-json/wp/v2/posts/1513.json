{"id":1513,"date":"2013-04-17T20:23:07","date_gmt":"2013-04-17T16:23:07","guid":{"rendered":"http:\/\/abap-blog.ru\/?p=1513"},"modified":"2021-03-02T10:05:13","modified_gmt":"2021-03-02T06:05:13","slug":"ochistka-globalnyx-dannyx-programmy","status":"publish","type":"post","link":"https:\/\/abap-blog.ru\/osnovy-abap\/ochistka-globalnyx-dannyx-programmy\/","title":{"rendered":"\u041e\u0447\u0438\u0441\u0442\u043a\u0430 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b"},"content":{"rendered":"<pre class=\"lang:abap decode:true \">REPORT zclear_globals.\r\n\r\nPARAMETERS progname TYPE program DEFAULT 'ZCLEAR_GLOBALS'.\r\n\r\nDATA:\r\n  i TYPE i.\r\n\r\nSTART-OF-SELECTION.\r\n  PERFORM clear_global_variables USING progname.\r\n\r\nFORM clear_global_variables USING progname TYPE program.\r\n  DATA:\r\n    lt_compo     TYPE TABLE OF scompo,\r\n    lt_cross_ref TYPE TABLE OF cross,\r\n    lv_name      TYPE string,\r\n    lt_inc       TYPE TABLE OF d010inc.\r\n\r\n  FIELD-SYMBOLS:\r\n    &lt;fs_compo&gt; TYPE scompo,\r\n    &lt;fs_any&gt;   TYPE any.\r\n\r\n  CALL FUNCTION 'RS_PROGRAM_INDEX'\r\n    EXPORTING\r\n      pg_name      = progname\r\n    TABLES\r\n      compo        = lt_compo\r\n      cross_ref    = lt_cross_ref\r\n      inc          = lt_inc\r\n    EXCEPTIONS\r\n      syntax_error = 1\r\n      OTHERS       = 2.\r\n\r\n  CHECK sy-subrc = 0.\r\n\r\n  LOOP AT lt_compo ASSIGNING &lt;fs_compo&gt; WHERE type = 'D'. \" D - DATA.\r\n    lv_name = |({ &lt;fs_compo&gt;-incl }){ &lt;fs_compo&gt;-name }|.\r\n    ASSIGN (lv_name) TO &lt;fs_any&gt;.\r\n    CHECK &lt;fs_any&gt; IS ASSIGNED.\r\n    FREE &lt;fs_any&gt;.\r\n  ENDLOOP.\r\nENDFORM.                    \"clear_global_variables<\/pre>\n","protected":false},"excerpt":{"rendered":"<p>REPORT zclear_globals. PARAMETERS progname TYPE program DEFAULT &#8216;ZCLEAR_GLOBALS&#8217;. DATA: i TYPE i. START-OF-SELECTION. PERFORM clear_global_variables USING progname. FORM clear_global_variables USING progname TYPE program. DATA: lt_compo TYPE TABLE OF scompo, lt_cross_ref TYPE TABLE OF cross, lv_name TYPE string, lt_inc TYPE TABLE OF d010inc. FIELD-SYMBOLS: &lt;fs_compo&gt; TYPE scompo, &lt;fs_any&gt; TYPE any. CALL FUNCTION &#8216;RS_PROGRAM_INDEX&#8217; EXPORTING pg_name = [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"comment_status":"open","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":[],"categories":[305],"tags":[],"_links":{"self":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/1513"}],"collection":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/comments?post=1513"}],"version-history":[{"count":3,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/1513\/revisions"}],"predecessor-version":[{"id":2322,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/posts\/1513\/revisions\/2322"}],"wp:attachment":[{"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/media?parent=1513"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/categories?post=1513"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/abap-blog.ru\/wp-json\/wp\/v2\/tags?post=1513"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}